System.register("chunks:///_virtual/Adapter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,s,a,h,c,u;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){i=e.cclegacy,o=e._decorator,r=e.size,s=e.Component,a=e.screen,h=e.view,c=e.v4,u=e.UITransform}],execute:function(){i._RF.push({},"aaa34/PoEtBfKKezXCXgQqE","Adapter",void 0);o.ccclass,o.property;var d=function(e){return e[e.Unknown=0]="Unknown",e[e.LandscapeLeft=1]="LandscapeLeft",e[e.LandscapeRight=2]="LandscapeRight",e[e.Portrait=3]="Portrait",e[e.UpsideDown=4]="UpsideDown",e}(d||{}),f=r(0,0),p=r(0,0),l=e("Adapter",function(e){function i(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._func=null,t.onAdapterComplete=null,t}t(i,e);var o=i.prototype;return o.doOnAdapterComplete=function(){this.onAdapterComplete&&this.onAdapterComplete()},o.onLoad=function(){e.prototype.onLoad&&e.prototype.onLoad.call(this),this.onChangeSize()},o.onEnable=function(){e.prototype.onEnable&&e.prototype.onEnable.call(this),this.addEvents()},o.onDisable=function(){this.removeEvents(),e.prototype.onDisable&&e.prototype.onDisable.call(this)},o.onDestroy=function(){this.removeEvents(),e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},o.addEvents=function(){this._func||(this._func=this.onChangeSize.bind(this),window.addEventListener("resize",this._func),window.addEventListener("orientationchange",this._func))},o.removeEvents=function(){this._func&&(window.removeEventListener("resize",this._func),window.removeEventListener("orientationchange",this._func)),this._func=null},o.onChangeSize=function(){this.doOnAdapterComplete()},i.screenPxToDesignPx=function(e){return e/this.safeArea.designPxToScreenPxRatio},i.designPxToScreenPx=function(e){return e*this.safeArea.designPxToScreenPxRatio},n(i,[{key:"width",get:function(){var e=this.getComponent(u);return e?e.width:0},set:function(e){var t=this.getComponent(u);t&&(t.width=e)}},{key:"height",get:function(){var e=this.getComponent(u);return e?e.height:0},set:function(e){var t=this.getComponent(u);t&&(t.height=e)}},{key:"direction",get:function(){var e="未知",t=d.Unknown,n=window.orientation;return null==n&&null==n||(90==n?(e="横屏向左",t=d.LandscapeLeft):-90==n?(e="横屏向右",t=d.LandscapeRight):0==n?(e="竖屏向上",t=d.Portrait):180==n&&(e="竖屏向下",t=d.UpsideDown)),Log.d("设备方向 : "+e),t}}],[{key:"windowSize",get:function(){return a.windowSize}},{key:"visibleSize",get:function(){return h.getVisibleSize()}},{key:"safeAreaEdge",get:function(){return c(0,0,0,0)}},{key:"safeArea",get:function(){if(null==this._safeArea||null==this._safeArea){var e=i.windowSize.width,t=i.windowSize.height,n=i.visibleSize.width,o=i.visibleSize.height,r=Math.min(e/n,t/o);p.width=0,p.height=0,f.width=e-p.width,f.height=t-p.height,this._safeArea={width:e,height:t,outside:p,safe:f,designPxToScreenPxRatio:r}}return this._safeArea},set:function(e){this._safeArea=e}}]),i}(s));l.direction=d,l._safeArea=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterSprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Adapter.ts"],(function(t){var e,i,n,r,s,o,a,p,h,c,l,T,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized,s=t.createClass},function(t){o=t.cclegacy,a=t._decorator,p=t.Enum,h=t.Sprite,c=t.Widget,l=t.v3,T=t.UITransform},function(t){d=t.Adapter}],execute:function(){var u,y,g,f,I,S,_,v,w;o._RF.push({},"38151mINEtP7bc2sNH9D25e","AdapterSprite",void 0);var L=a.ccclass,E=a.property,O=a.executeInEditMode,b=a.menu,m=t("SpriteScaleType",function(t){return t[t.FILL=0]="FILL",t[t.SUIT=1]="SUIT",t}({})),F=t("SpriteAlignType",function(t){return t[t.LEFT=0]="LEFT",t[t.TOP=1]="TOP",t[t.RIGHT=2]="RIGHT",t[t.BOTTOM=3]="BOTTOM",t[t.CENTER=4]="CENTER",t}({}));t("default",(u=L("AdapterSprite"),y=O(!0),g=b("Quick适配组件/AdapterSprite"),f=E({type:p(m),tooltip:"缩放类型:\n        -FILL: 缩放到填满父节点（如果父节点有裁剪，图像可能会被裁剪，节点可能会超出父节点）\n        -SUIT: 缩放到刚好在父节点内部最大化显示（图像会完整显示，但父节点上下或者左右可能会留空）"}),I=E({type:p(F),tooltip:"齐方式类型:\n        -LEFT: 缩放后靠左对齐\n        -TOP: 缩放后靠上对齐\n        -RIGHT: 缩放后靠右对齐\n        -BOTTOM: 缩放后靠下对齐\n        -CENTER: 缩放后居中对齐"}),u(S=y(S=g((e((_=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,n(e,"_scaleType",v,r(e)),n(e,"_alignType",w,r(e)),e._sprite=null,e}i(e,t);var o=e.prototype;return o.onLoad=function(){t.prototype.onLoad.call(this),this._sprite=this.node.getComponent(h)},o.start=function(){this.updateSprite(this.scaleType,this.alignType)},o.onChangeSize=function(){this.updateSprite(this.scaleType,this.alignType)},o.updateSprite=function(t,e){var i;if(this._sprite&&this._sprite.enabled&&this._sprite.spriteFrame){var n=null==(i=this.node.parent)?void 0:i.getComponent(c);n&&n.updateAlignment(),this.width=this._sprite.spriteFrame.rect.width,this.height=this._sprite.spriteFrame.rect.height;var r=this.parentTrans;if(this.width/this.height>r.width/r.height){if(t==m.SUIT){var s=r.width/this.width;this.node.scale=l(s,s)}else if(t==m.FILL){var o=r.height/this.height;this.node.scale=l(o,o)}}else if(t==m.SUIT){var a=r.height/this.height;this.node.scale=l(a,a)}else if(t==m.FILL){var p=r.width/this.width;this.node.scale=l(p,p)}switch(e){case F.CENTER:this.node.setPosition(l());break;case F.LEFT:this.node.setPosition(l(-.5*(r.width-this.width*this.node.scale.x),0));break;case F.RIGHT:this.node.setPosition(l(.5*(r.width-this.width*this.node.scale.x),0));break;case F.TOP:this.node.setPosition(l(0,.5*(r.height-this.height*this.node.scale.x)));break;case F.BOTTOM:this.node.setPosition(l(0,-.5*(r.height-this.height*this.node.scale.x)))}this.doOnAdapterComplete()}},s(e,[{key:"scaleType",get:function(){return this._scaleType},set:function(t){this._scaleType=t}},{key:"alignType",get:function(){return this._alignType},set:function(t){this._alignType=t}},{key:"parentTrans",get:function(){var t;return null==(t=this.node.parent)?void 0:t.getComponent(T)}}]),e}(d)).prototype,"scaleType",[f],Object.getOwnPropertyDescriptor(_.prototype,"scaleType"),_.prototype),v=e(_.prototype,"_scaleType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.SUIT}}),e(_.prototype,"alignType",[I],Object.getOwnPropertyDescriptor(_.prototype,"alignType"),_.prototype),w=e(_.prototype,"_alignType",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return F.CENTER}}),S=_))||S)||S)||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/AdapterView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Adapter.ts"],(function(e){var i,t,s,a,o;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,s=e._decorator,a=e.v3},function(e){o=e.Adapter}],execute:function(){var n;t._RF.push({},"32b0fpgPcJGb4F0BalFuE1g","AdapterView",void 0);var r=s.ccclass,d=(s.property,s.executeInEditMode),c=s.menu;e("default",r("AdapterView")(n=d(!0)(n=c("Quick适配组件/AdapterView")(n=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.onChangeSize=function(){if(o.safeArea=null,this.node){if(App.isFullScreenAdaption)this.width=o.safeArea.width/o.safeArea.designPxToScreenPxRatio,this.height=o.safeArea.height/o.safeArea.designPxToScreenPxRatio;else switch(this.width=o.safeArea.safe.width/o.safeArea.designPxToScreenPxRatio,this.height=o.safeArea.safe.height/o.safeArea.designPxToScreenPxRatio,this.direction){case o.direction.LandscapeLeft:this.node.setPosition(a(o.safeArea.outside.width/o.safeArea.designPxToScreenPxRatio,0));break;case o.direction.LandscapeRight:this.node.setPosition(a(-o.safeArea.outside.width/o.safeArea.designPxToScreenPxRatio,0));break;case o.direction.Portrait:this.node.setPosition(a(0,-o.safeArea.outside.height/o.safeArea.designPxToScreenPxRatio));break;case o.direction.UpsideDown:this.node.setPosition(a(0,o.safeArea.outside.height/o.safeArea.designPxToScreenPxRatio));break;default:Log.e("获取不到设备方向，直接居中处理"),this.node.setPosition(a(0,0))}this.doOnAdapterComplete()}},t}(o))||n)||n)||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/Alert.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./EventComponent.ts","./Decorators.ts","./IAlert.ts"],(function(t){var n,e,i,o,r,c,l,s,a,u,h,f,g,p,_,v,m,w,C,b;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.createClass,c=t.asyncToGenerator,l=t.regeneratorRuntime},function(t){s=t.cclegacy,a=t.Node,u=t.Label,h=t.RichText,f=t.ScrollView,g=t.instantiate,p=t.find,_=t.Input,v=t.Vec3},function(t){m=t.ViewZOrder},function(t){w=t.default},function(t){C=t.inject},function(t){b=t.IAlert}],execute:function(){var d,y,T,x,A,P,S,z,L,N,E,V,k,B,D,O,H;s._RF.push({},"7a5e7IHmfZO0b8NrWv64oY7","Alert",void 0);var q=(d=C("close",a,"content"),y=C("content",a),T=C("content",u,"content/scrollView/view/content"),x=C("richContent",h,"content/scrollView/view/content"),A=C("title",u,"content"),P=C("confirm",a,"content"),S=C("cancel",a,"content"),z=C("content/scrollView",f),N=n((L=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return n=t.call.apply(t,[this].concat(r))||this,i(n,"_closeBtn",N,o(n)),i(n,"_content",E,o(n)),i(n,"_textContent",V,o(n)),i(n,"_richTextContent",k,o(n)),i(n,"_title",B,o(n)),i(n,"_confirm",D,o(n)),i(n,"_cancel",O,o(n)),n._config=null,i(n,"_view",H,o(n)),n}e(n,t);var s=n.prototype;return s.show=function(t){t.title||(t.title=App.getLanguage("alert_title")),t.confirmString||(t.confirmString=App.getLanguage("alert_confirm")),t.cancelString||(t.cancelString=App.getLanguage("alert_cancel")),this._config=t,this.writeContent(t),this.showButton(t),this._show()},s._show=function(){App.utils.showView(this._content)},s.writeContent=function(t){if(t.richText?(this._textContent.node.active=!1,this._richTextContent.node.active=!0,this._richTextContent.string=t.richText):(this._textContent.node.active=!0,this._richTextContent.node.active=!1,t.text?this._textContent.string=t.text:(Log.e("请指定提示内容"),this._textContent.string="")),t.title&&(this._title.string=t.title),t.confirmString){var n=p("Label",this._confirm);if(n){var e=n.getComponent(u);e&&(e.string=t.confirmString)}}if(t.cancelString){var i=p("Label",this._cancel);if(i){var o=i.getComponent(u);o&&(o.string=t.cancelString)}}this._view.scrollToTop()},s.showButton=function(t){this._confirm&&this._cancel&&this._closeBtn&&(this.onN(this._closeBtn,_.EventType.TOUCH_END,this.close.bind(this)),t.confirmCb?(this._confirm.active=!0,this.onN(this._confirm,_.EventType.TOUCH_END,this.onClick.bind(this,t.confirmCb,!0)),this.onN(this._closeBtn,_.EventType.TOUCH_END,this.onClick.bind(this,t.confirmCb,!1))):this._confirm.active=!1,t.cancelCb?(this._cancel.active=!0,this.onN(this._cancel,_.EventType.TOUCH_END,this.onClick.bind(this,t.cancelCb,!1))):this._cancel.active=!1,this._confirm.active?this._cancel.active||this._confirm.setPosition(new v(0,this._confirm.position.y,this._confirm.position.z)):this._cancel.active?this._confirm.setPosition(new v(0,this._confirm.position.y,this._confirm.position.z)):Log.w("提示框无按钮显示"))},s.close=function(){this._close(null)},s._close=function(){var t=c(l().mark((function t(n){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,App.utils.hideView(this._content);case 2:App.alert.finishAlert(),n&&n();case 4:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.onClick=function(t,n){this._config.immediatelyCallback?(t&&t(n),this._close(null)):this._close((function(){t&&t(n)}))},r(n,[{key:"config",get:function(){return this._config}}]),n}(w)).prototype,"_closeBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=n(L.prototype,"_content",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(L.prototype,"_textContent",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(L.prototype,"_richTextContent",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(L.prototype,"_title",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(L.prototype,"_confirm",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=n(L.prototype,"_cancel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(L.prototype,"_view",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L);t("default",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.isCurrentShow=function(t){if(this.curPanel){var n,e=null==(n=this.curPanel.getComponent(q))?void 0:n.config;if(e&&e.tag==t)return!0}return!1},i.currentShow=function(t){if(this.curPanel){var n,e=null==(n=this.curPanel.getComponent(q))?void 0:n.config;return t&&e&&e.tag,e}return null},i.isRepeat=function(t){if(this.curPanel){var n,e=null==(n=this.curPanel.getComponent(q))?void 0:n.config;if(e&&e.tag==t)return Log.w("重复的弹出框 config ; "+JSON.stringify(this.getConfig(e))),!0}else for(var i=0;i<this.queue.length;i++){var o=this.queue[i];if(o.tag==t)return Log.w("重复的弹出框 config ; "+JSON.stringify(this.getConfig(o))),!0}return!1},i.close=function(t){if(t){for(var n=this.queue.length;n--;)this.queue[n].tag==t&&this.queue.splice(n,1);if(this.curPanel){var e,i=null==(e=this.curPanel.getComponent(q))?void 0:e.config;i&&i.tag==t&&this.finishAlert()}}else this.finishAlert()},i._show=function(t){if(!this.curPanel){this.curPanel=g(App.uiManager.getScenePrefab("Alert"));var n=this.curPanel.addComponent(q);App.uiManager.addView(this.curPanel,m.Alert),n.show(t)}},n}(b)).module="【Alert】",s._RF.pop()}}}));

System.register("chunks:///_virtual/Application.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Framework.ts","./StageData.ts","./Enums.ts","./Singleton.ts","./Alert.ts","./Loading.ts","./Tips.ts","./UILoading.ts","./UIReconnect.ts","./UpdateLoading.ts","./Config.ts","./Lang.ts","./LayerManager.ts","./Decorators.ts","./CmmAudioComp.ts"],(function(t){var n,e,i,o,a,u,r,s,g,c,l,f,p,d,h,y,L,A,k,_;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass,i=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){u=t.Framewok},function(t){r=t.StageData},function(t){s=t.LogLevel},function(t){g=t.Singleton},function(t){c=t.default},function(t){l=t.default},function(t){f=t.default},function(t){p=t.default},function(t){d=t.UIReconnect},function(t){h=t.default},function(t){y=t.Config},function(t){L=t.Lang},function(t){A=t.default},function(t){k=t.toApp},function(t){_=t.default}],execute:function(){a._RF.push({},"342b5hltVBEl6IfNcT0LCMW","Application",void 0);var S=new(t("Application",function(t){function a(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this)._lang=null,n}n(a,t);var u=a.prototype;return u.onLoad=function(){var n=i(o().mark((function n(e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.language.addDelegate(this.lang),t.prototype.onLoad.call(this,e);case 2:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),u.init=function(){t.prototype.init.call(this),this.stageData.isShowDebugButton=y.isShowDebugButton,this.updateManager.hotUpdateUrl=y.HOT_UPDATE_URL,this.updateManager.isAutoVersion=y.USE_AUTO_VERSION,this.updateManager.isSkipUpdate=y.isSkipUpdate,this.language.addDelegate(this.lang)},e(a,[{key:"stageData",get:function(){return g.get(r,!0,y.BUNDLES)}},{key:"uiReconnect",get:function(){return g.get(d)}},{key:"tips",get:function(){return g.get(f)}},{key:"uiLoading",get:function(){return g.get(p)}},{key:"alert",get:function(){return g.get(c)}},{key:"loading",get:function(){return g.get(l)}},{key:"updateLoading",get:function(){return g.get(h)}},{key:"layerMgr",get:function(){return g.get(A,!0,y.LAYERS)}},{key:"lang",get:function(){return this._lang||(this._lang=new L)}},{key:"gAudio",get:function(){return this._gAudio||(this._gAudio=this.uiManager.addComponent(_),this._gAudio.isGlobal=!0),this._gAudio}}]),a}(u)));S.logger.level=s.ALL,window.App=S,S.init(),k(),a._RF.pop()}}}));

System.register("chunks:///_virtual/AssetManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts","./Resource.ts"],(function(e){var t,a,s,n,o,c,r,i,l,h;return{setters:[function(e){t=e.createClass},function(e){a=e.cclegacy,s=e.SpriteFrame,n=e.Texture2D,o=e.sp,c=e.JsonAsset,r=e.TextAsset,i=e.assetManager},function(e){l=e.Macro},function(e){h=e.Resource}],execute:function(){a._RF.push({},"47f275C8MlMOqHzEZCvzwc7","AssetManager",void 0);var u=function(){function e(){this._logTag="[RemoteLoader] "}var t=e.prototype;return t.loadImage=function(e,t,a){if(null==e||null==e||e.length<=0)a({cache:null,asset:null});else{h.getKey(e,s);if(t){var o=App.releaseManger.getRemote(e,s),c=o[0],r=o[1];if(c)return App.cache.remoteCaches.set(r),App.cache.remoteCaches.set(c),void a({cache:c,asset:c.data});var i=App.cache.remoteCaches.getSpriteFrame(e);if(i)return void a({cache:i,asset:i.data})}else{var l=App.releaseManger.getRemote(e,s),u=l[0],p=l[1];u&&(App.cache.remoteCaches.set(u),App.cache.remoteCaches.set(p)),App.cache.remoteCaches.remove(e,s,!0)}this._loadRemoteRes(e,n,t,{},(function(t){var o=h.getKey(e,n),c=App.cache.remoteCaches.get(o);c&&t.asset?(c.data=t.asset,c.data.name=e,a(App.cache.remoteCaches.makeSpriteFrame(e,c.data))):(a({cache:null,asset:null}),App.cache.remoteCaches.remove(e,s,!0))}))}},t.loadSkeleton=function(e,t,a,s){var i=this;if(e&&t){var u=(e=e+"/"+t)+".atlas",p=e+".png",d=e+".json",m=App.releaseManger.getRemote(e,o.SkeletonData),f=m[0],A=m[1],g=m[2],C=m[3];if(f)return App.cache.remoteCaches.set(f),App.cache.remoteCaches.set(A),App.cache.remoteCaches.set(g),App.cache.remoteCaches.set(C),void s({cache:f,asset:f.data});var v=h.getKey(e,o.SkeletonData);(f=App.cache.remoteCaches.get(v))?f.isLoaded?s({cache:f,asset:f.data}):f.finishCb.push(s):((f=new h.Cache(e,o.SkeletonData,l.BUNDLE_REMOTE)).resourceType=h.Type.Remote,App.cache.remoteCaches.set(f),i._loadRemoteRes(p,n,a,{},(function(e){e.asset?i._loadRemoteRes(d,c,a,{},(function(n){n.asset?i._loadRemoteRes(u,r,a,{},(function(a){a.asset?(App.cache.remoteCaches.makeSkeletonData(f,e.asset,n.asset,a.asset,t),s({cache:f,asset:f.data}),f.doFinish()):(s({cache:null,asset:null}),f.doFinish({cache:null,asset:null}),App.cache.remoteCaches.remove(f.url,o.SkeletonData,!0))})):(s({cache:null,asset:null}),f.doFinish({cache:null,asset:null}),App.cache.remoteCaches.remove(f.url,o.SkeletonData,!0))})):(s({cache:null,asset:null}),f.doFinish({cache:null,asset:null}),App.cache.remoteCaches.remove(f.url,o.SkeletonData,!0))})))}else s({cache:null,asset:null})},t.extname=function(e){var t=e.match(/(\.[^\.\/\?\\]*)(\?.*)?$/);return t?t[1]:".png"},t._loadRemoteRes=function(e,t,a,s,o){void 0===s&&(s={});var c=h.getKey(e,t),r=App.releaseManger.getRemote(c,t)[0];if(r)return r.addRef(),App.cache.remoteCaches.set(r),r.doFinish(),void(o&&o({cache:r,asset:r.data}));var u=App.cache.remoteCaches.get(c);u?u.isLoaded?o&&o({cache:u,asset:u.data}):u.finishCb.push(o):((u=new h.Cache(e,t,l.BUNDLE_REMOTE)).resourceType=h.Type.Remote,App.cache.remoteCaches.set(u),s.cacheAsset=!0,s.reloadAsset=!a,t==n&&(s.ext=this.extname(e)),i.loadRemote(e,s,(function(e,t){u&&(u.isLoaded=!0,u.data=t||null,u.doFinish(),o&&o({cache:u,asset:u.data}))})))},e}();e("_AssetManager",function(){function e(){this.isResident=!0,this.module=null,this._remote=new u}var a=e.prototype;return a.getBundle=function(e){return App.bundleManager.getBundle(e)},a.load=function(e,t,a,s,n){var o=h.getKey(t,a),c=App.releaseManger.get(e,o);if(c)return console.time("加载资源 : "+e+"/"+o),App.cache.set(c),void this._onLoadComplete(c,n,null,c.data);if(c=App.cache.get(e,t,a)){if(c.isLoaded)n(c);else{c.finishCb.push((function(e){n(e.cache)}))}c.status=h.CacheStatus.NONE}else{c=new h.Cache(t,a,e),App.cache.set(c),console.time("加载资源 : "+e+"/"+o);var r=this.getBundle(e);if(!r){var i=new Error(this.module+" "+e+" 没有加载，请先加载");return void this._onLoadComplete(c,n,i,null)}if(!a){var l=new Error(this.module+" "+e+" "+t+" 加载没有指定资源类型");return void this._onLoadComplete(c,n,l,null)}var u=r.get(t,a);u?this._onLoadComplete(c,n,null,u):s?r.load(t,a,s,this._onLoadComplete.bind(this,c,n)):r.load(t,a,this._onLoadComplete.bind(this,c,n))}},a._onLoadComplete=function(e,t,a,s){e.isLoaded=!0;var n=e,o=e.key,c=e.isDir?"目录":"资源";a?(Log.e(this.module+"加载"+c+"失败:"+e.bundle+"/"+o+" 原因:"+(a.message?a.message:"未知")),e.data=null,n.data=null,App.cache.remove(e),t(e)):(e.data=s,n.data=s,t(e)),e.doFinish(),e.status==h.CacheStatus.WAITTING_FOR_RELEASE&&e.data&&(e.status=h.CacheStatus.NONE,this.releaseAsset(e)),console.timeEnd("加载资源 : "+e.bundle+"/"+o),e=null},a.loadDir=function(e,t,a,s,n){var o=h.getKey(t,a),c=App.releaseManger.get(e,o);if(c)return console.time("加载资源 : "+e+"/"+o),App.cache.set(c),c.isDir&&c.deps.forEach((function(t){var a=App.releaseManger.get(e,t);a&&App.cache.set(a)})),void this._onLoadComplete(c,n,null,c.data);if(c=App.cache.get(e,t,a)){if(c.isLoaded)n(c);else{c.finishCb.push((function(e){n(e.cache)}))}c.status=h.CacheStatus.NONE}else{c=new h.Cache(t,a,e,!0),App.cache.set(c),console.time("加载资源 : "+e+"/"+c.key);var r=this.getBundle(e);if(!r){var i=new Error(this.module+" "+e+" 没有加载，请先加载");return void this._onLoadComplete(c,n,i,null)}if(a)s?r.loadDir(t,a,s,this._onLoadComplete.bind(this,c,n)):r.loadDir(t,a,this._onLoadComplete.bind(this,c,n));else{var l=new Error(this.module+" "+e+" "+t+" 加载没有指定资源类型");this._onLoadComplete(c,n,l,null)}}},a.releaseAsset=function(e){if(e=App.cache.get(e.bundle,e.url,e.type,!1))if(e.isLoaded){if(e.retain)return;App.releaseManger.release(e)}else e.status=h.CacheStatus.WAITTING_FOR_RELEASE},a.retainAsset=function(e){if(e){var t=App.cache.get(e.bundle,e.url,e.type);t&&(t.retain||(t.retain=t.retain),e.originaRefCount=e.refCount,t.addRef())}},a.addPersistAsset=function(e){e.retain=!0,this.retainAsset(e)},t(e,[{key:"remote",get:function(){return this._remote}}]),e}()).module="【AssetManager】",a._RF.pop()}}}));

System.register("chunks:///_virtual/AudioComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Macros.ts","./Singleton.ts"],(function(t){var s,e,i,o,u,n,c,a,f;return{setters:[function(t){s=t.createClass,e=t.inheritsLoose},function(t){i=t.cclegacy,o=t._decorator,u=t.AudioSource,n=t.AudioClip},function(t){c=t.default},function(t){a=t.Macro},function(t){f=t.Singleton}],execute:function(){var r;i._RF.push({},"f40c7r82/BAhYU5orjFTt7k","AudioComponent",void 0);var l=o.ccclass,h=(o.property,o.menu,t("AudioInfo",function(){function t(){this.url="",this.bundle=a.BUNDLE_RESOURCES,this.source=null,this.owner=null,this.isPause=!1}var e=t.prototype;return e.play=function(){this.isPause=!1,this.source&&this.source.play()},e.pause=function(){this.isPause=!1,this.source&&this.source.playing&&(Log.d(this.url,"isPlaying to pause"),this.isPause=!0,this.source.pause())},e.stop=function(){this.isPause=!1,this.source&&this.source.stop()},e.resume=function(){this.source&&this.isPause&&(Log.d(this.url,"resume play"),this.source.play()),this.isPause=!1},s(t,[{key:"volume",get:function(){return this.source?this.source.volume:0},set:function(t){this.source&&(this.source.volume=t)}}]),t}())),p=function(){function t(){this.module=null,this.isResident=!0,this.musicVolume=1,this.effectVolume=1,this.isEffectOn=!0,this.isMusicOn=!0,this.musicInfos=new Map,this.effectInfos=new Map,this.curMusic=null,this._storeMusicKey="default_save_music",this._storeEffectKey="default_save_effect",this._storeMusicVolumeKey="default_save_music_volume_key",this._storeEffectVolumeKey="default_save_effect_volume_key"}var s=t.prototype;return s.init=function(){this.isMusicOn=App.storage.getItem(this._storeMusicKey,this.isMusicOn),this.isEffectOn=App.storage.getItem(this._storeEffectKey,this.isEffectOn),this.musicVolume=App.storage.getItem(this._storeMusicVolumeKey,this.musicVolume),this.effectVolume=App.storage.getItem(this._storeEffectVolumeKey,this.effectVolume)},s.save=function(){try{App.storage.setItem(this._storeMusicKey,this.isMusicOn),App.storage.setItem(this._storeMusicVolumeKey,this.musicVolume),App.storage.setItem(this._storeEffectKey,this.isEffectOn),App.storage.setItem(this._storeEffectVolumeKey,this.effectVolume)}catch(t){}},s.remove=function(t){this.musicInfos.forEach((function(s,e,i){s.owner&&s.owner==t&&i.delete(e)})),this.effectInfos.forEach((function(s,e,i){s.owner&&s.owner==t&&i.delete(e)}))},s.setMusicVolume=function(t){this.musicInfos.forEach((function(s,e,i){s.volume=t})),this.musicVolume=t,this.save()},s.setEffectVolume=function(t){this.effectInfos.forEach((function(s,e,i){s.volume=t})),this.effectVolume=t,this.save()},s.setMusicStatus=function(t){this.isMusicOn!=t&&(this.isMusicOn=t,this.save(),t?this.curMusic&&this.curMusic.play():this.stopMusic())},s.setEffectStatus=function(t){this.isEffectOn!=t&&(this.isEffectOn=t,this.save(),t||this.stopAllEffects())},s.stopAllEffects=function(){this.effectInfos.forEach((function(t,s,e){t.stop()}))},s.stopMusic=function(){this.musicInfos.forEach((function(t,s,e){t.stop()}))},s.makeKey=function(t,s){return App.bundleManager.getBundleName(s)+"_"+t},s.stopEffect=function(t,s){var e=this.makeKey(t,s),i=this.effectInfos.get(e);i&&i.stop()},s.resumeAll=function(){var t=this;this.musicInfos.forEach((function(s,e,i){t.isMusicOn&&s.resume()})),this.effectInfos.forEach((function(s,e,i){t.isEffectOn&&s.resume()}))},s.pauseAll=function(){this.musicInfos.forEach((function(t,s,e){t.pause()})),this.effectInfos.forEach((function(t,s,e){t.pause()}))},t}();p.module="【音效数据】";t("default",l("AudioComponent")(r=function(t){function i(){for(var s,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(s=t.call.apply(t,[this].concat(i))||this).owner=null,s.isGlobal=!1,s}e(i,t);var o=i.prototype;return o.onDestroy=function(){this.audioData.remove(this.owner),t.prototype.onDestroy.call(this)},o.save=function(){this.audioData.save()},o.stopEffect=function(t,s){this.audioData.stopEffect(t,s)},o.stopAllEffects=function(){this.audioData.stopAllEffects()},o.stopMusic=function(){this.audioData.stopMusic()},o.playMusic=function(t,s,e,i){var o=this;if(void 0===s&&(s=!0),e=this.fixBundle(e),this.isGlobal&&e!=a.BUNDLE_RESOURCES)i&&i(null);else{var c=this.audioData.makeKey(t,e),f=this.audioData.musicInfos.get(c);f||((f=new h).url=t,f.bundle=e,f.source=this.node.addComponent(u),f.owner=this.owner,f.source.name=c,f.source.playOnAwake=!0,this.audioData.musicInfos.set(c,f)),this.audioData.curMusic=f,App.cache.getCacheByAsync(t,n,e,(function(t){t.asset?(o.addLocal(t.cache),o.stopMusic(),f&&f.source&&(f.source.clip=t.asset,f.source.loop=s,f.volume=o.musicVolume,o.play(f,!0,(function(t){t?i&&i(f):i&&i(null)})))):i&&i(null)}))}},o.playEffect=function(t,s,e,i){var o=this;if(void 0===s&&(s=!1),e=this.fixBundle(e),this.isGlobal&&e!=a.BUNDLE_RESOURCES)i&&i(null);else{var c=this.audioData.makeKey(t,e),f=this.audioData.effectInfos.get(c);f||((f=new h).url=t,f.bundle=e,f.source=this.node.addComponent(u),f.owner=this.owner,f.source.name=c,f.source.playOnAwake=!0,this.audioData.effectInfos.set(c,f)),App.cache.getCacheByAsync(t,n,e,(function(t){t.asset?(o.addLocal(t.cache),f&&f.source&&(f.source.clip=t.asset,f.source.loop=s,f.source.volume=o.effectVolume,o.play(f,!1,(function(t){t?i&&i(f):i&&i(null)})))):i&&i(null)}))}},o.play=function(t,s,e){t&&t.source?s?this.isMusicOn?(t.source.play(),e(!0)):e(!1):this.isEffectOn?(t.source.play(),e(!0)):e(!1):e(!1)},o.onEnterBackground=function(){this.audioData.pauseAll()},o.onEnterForgeground=function(t){this.audioData.resumeAll()},o.addLocal=function(t){this.isGlobal?App.asset.addPersistAsset(t):this.owner?App.uiManager.addLocal(t,this.owner.className):App.uiManager.garbage.addLocal(t)},o.fixBundle=function(t){return null!=t&&null!=t||(t=this.owner?this.owner.bundle:a.BUNDLE_RESOURCES),t},o.playButton=function(){},o.playDialogOpen=function(){},o.playDialogClose=function(){},s(i,[{key:"audioData",get:function(){return f.get(p)}},{key:"musicVolume",get:function(){return this.audioData.musicVolume},set:function(t){this.audioData.setMusicVolume(t)}},{key:"effectVolume",get:function(){return this.audioData.effectVolume},set:function(t){this.audioData.setEffectVolume(t)}},{key:"isEffectOn",get:function(){return this.audioData.isEffectOn},set:function(t){this.audioData.setEffectStatus(t)}},{key:"isMusicOn",get:function(){return this.audioData.isMusicOn},set:function(t){this.audioData.setMusicStatus(t)}}]),i}(c))||r);i._RF.pop()}}}));

System.register("chunks:///_virtual/BinaryStreamMessage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts","./ByteArray.ts","./Net.ts","./Message.ts"],(function(e){var t,r,i,a,n,s,o;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass},function(e){i=e.cclegacy},function(e){a=e.Macro},function(e){n=e.ByteArray},function(e){s=e.Net},function(e){o=e.Message}],execute:function(){e("serialize",(function(e,t,r,i,a){return function(n,s){if(void 0===Reflect.getOwnPropertyDescriptor(n,"__serialize__")){var o={};if(Reflect.getPrototypeOf(n).__serialize__&&void 0===Reflect.getOwnPropertyDescriptor(n,"__serialize__"))for(var u=Reflect.getPrototypeOf(n).__serialize__,l=Object.keys(u),c=l.length,y=0;y<c;y++)o[l[y]]=u[l[y]].slice(0);Reflect.defineProperty(n,"__serialize__",{value:o})}if(n.__serialize__[e])throw"SerializeKey has already been declared:"+e;n.__serialize__[e]=[s,t,r,i,a]}})),i._RF.push({},"6ffc0ADekNBn6xYaGYHBeeL","BinaryStreamMessage",void 0);var u=function(){function e(){this.data=null}var t=e.prototype;return t.read=function(e){},t.write=function(e){},r(e,[{key:"littleEndian",get:function(){return a.USING_LITTLE_ENDIAN}}]),e}(),l=function(e){function r(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).data=0,t}return t(r,e),r}(u),c=e("BOOL",function(e){function r(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).data=!1,t}t(r,e);var i=r.prototype;return i.read=function(e){this.data=e.readBoolean()},i.write=function(e){e.writeBoolean(this.data)},r}(u)),y=e("STRING",function(e){function r(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).data="",t.byteSize=void 0,t}t(r,e);var i=r.prototype;return i.read=function(e){var t=this.byteSize;null==this.byteSize&&(t=e.readUnsignedInt()),this.data=e.readUTFBytes(t)},i.write=function(e){var t=new n;t.writeUTFBytes(this.data,this.byteSize),null==this.byteSize&&e.writeUnsignedInt(t.length),e.writeBytes(t)},r}(u)),h=e("FLOAT",function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var i=r.prototype;return i.read=function(e){this.data=e.readFloat()},i.write=function(e){e.writeFloat(this.data)},r}(l)),f=e("DOUBLE",function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var i=r.prototype;return i.read=function(e){this.data=e.readDouble()},i.write=function(e){e.writeDouble(this.data)},r}(l)),d=e("BYTE",function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var i=r.prototype;return i.read=function(e){this.data=e.readByte()},i.write=function(e){e.writeByte(this.data)},r}(l)),p=e("SHORT",function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var i=r.prototype;return i.read=function(e){this.data=e.readShort()},i.write=function(e){e.writeShort(this.data)},r}(l)),b=e("INT",function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var i=r.prototype;return i.read=function(e){this.data=e.readInt()},i.write=function(e){e.writeInt(this.data)},r}(l)),z=e("UBYTE",function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var i=r.prototype;return i.read=function(e){this.data=e.readUnsignedByte()},i.write=function(e){e.writeByte(this.data)},r}(l)),v=e("USHORT",function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var i=r.prototype;return i.read=function(e){this.data=e.readUnsignedShort()},i.write=function(e){e.writeUnsignedShort(this.data)},r}(l)),A=e("UINT",function(e){function r(){return e.apply(this,arguments)||this}t(r,e);var i=r.prototype;return i.read=function(e){this.data=e.readUnsignedInt()},i.write=function(e){e.writeUnsignedInt(this.data)},r}(l)),_=e("BinaryStream",function(e){function r(){for(var t,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return(t=e.call.apply(e,[this].concat(i))||this).byteArray=null,t.buffer=null,t}t(r,e);var i=r.prototype;return i.encode=function(){return this.byteArray=new n(this.buffer),this.byteArray.endian=a.USING_LITTLE_ENDIAN,this.serialize(),this.buffer=this.byteArray.bytes,!0},i.isNumberValue=function(e){return e==h||e==f||e==d||e==p||e==b||e==z||e==v||e==A},i.isBoolValue=function(e){return e==c},i.isStringValue=function(e){return e==y},i.serialize=function(){var e=Reflect.getPrototypeOf(this).__serialize__;if(!e)return null;for(var t=Object.keys(e),r=t.length,i=0;i<r;i++){var a=e[t[i]],n=a[0],s=a[1],o=a[2],u=a[3],l=a[4];this.serializeMember(this[n],n,s,o,u,l)}},i.serializeMember=function(e,t,i,a,n,s){this.isNumberValue(i)?this.serializeNumberStreamValue(e,i):this.isBoolValue(i)?this.serializeBoolValue(e,i):this.isStringValue(i)?this.serializeStringStreamValue(e,i,a):e instanceof Array?this.serializeArray(e,t,i,a,n,s):e instanceof r?(e.byteArray=this.byteArray,e.serialize()):Log.e("序列化成员 : "+t+" 出错!!")},i.serializeNumberStreamValue=function(e,t){var r=new t;r.data=null==e||e==Number.NaN?0:e,r.write(this.byteArray)},i.serializeBoolValue=function(e,t){var r=new t;r.data=null!=e&&e,r.write(this.byteArray)},i.serializeStringStreamValue=function(e,t,r){var i=new t;i.byteSize=r,i.data=null==e?"":e,i.write(this.byteArray)},i.checkArrayDimension=function(e,t){var r=0,i=e;do{r++,i=i[0]}while(i&&Array.isArray(i)&&i.length>0);return r==t},i.serializeArray=function(e,t,r,i,a,n){if(null==n&&(n=1),this.checkArrayDimension(e,n)){this.byteArray.writeUnsignedInt(e.length);for(var s=0;s<e.length;s++)e[s]instanceof Array?this.serializeArray(e[s],t+"["+s+"]",r,i,a,n-1):this.serializeMember(e[s],t+"["+s+"]",i,a,void 0)}else Log.e(t+" 定义数组跟序列化的数组维度不一致")},i.decode=function(e){return this.buffer=e,this.byteArray=new n(e),this.byteArray.endian=a.USING_LITTLE_ENDIAN,this.deserialize(),!0},i.deserialize=function(){var e=Reflect.getPrototypeOf(this).__serialize__;if(!e)return!0;for(var t=Object.keys(e),r=t.length,i=0;i<r;i++){var a=e[t[i]],n=a[0],s=a[1],o=a[2],u=a[3],l=a[4];this.deserializeMember(n,s,o,u,l)}},i.deserializeMember=function(e,t,i,a,n){try{var s=this[e];this.isNumberValue(t)?this[e]=this.deserializeNumberStreamValue(e,t):this.isBoolValue(t)?this[e]=this.deserializeBoolValue(e,t):this.isStringValue(t)?this[e]=this.deserializeStringStreamValue(e,t,i):s instanceof Array?this.deserializeArray(e,t,i,a,n):s instanceof r?(s.byteArray=this.byteArray,s.deserialize()):Log.e("deserializeMember "+e+" error!!!")}catch(t){Log.w(t.message),Log.e("deserializeMember "+e+" error!!!")}},i.deserializeNumberStreamValue=function(e,t){var r=new t;return r.read(this.byteArray),r.data},i.deserializeBoolValue=function(e,t){var r=new t;return r.read(this.byteArray),r.data},i.deserializeStringStreamValue=function(e,t,r){var i=new t;return i.byteSize=r,i.read(this.byteArray),i.data},i._deserializeArray=function(e,t,i,a,n,s){if(void 0===s&&(s=1),!(s<=0))for(var o=this.byteArray.readUnsignedInt(),u=0,l=0;l<o;l++)if(s>1)e.push([]),this._deserializeArray(e[u],t+"["+u+"]",i,a,n,s-1),u++;else{var c=new a;c instanceof r?(c.byteArray=this.byteArray,e[l]=c.deserialize()):c instanceof y?(c.byteSize=n,c.read(this.byteArray),e[l]=c.data):(c.read(this.byteArray),e[l]=c.data)}},i.deserializeArray=function(e,t,r,i,a){this[e]=[],null==a&&(a=1),this._deserializeArray(this[e],e,t,r,i,a)},r}(o));e("BinaryStreamHeartbeat",function(e){function r(){return e.apply(this,arguments)||this}return t(r,e),r}(_)).type=s.ServiceType.BinaryStream,i._RF.pop()}}}));

System.register("chunks:///_virtual/BitEncrypt.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"dc65dfUZyBKGo+ZLjacvgTW","BitEncrypt",void 0);t("BitEncrypt",new(function(){function t(){this.logTag="[BitEncrypt]:",this._encryptKey="EskKbMvzZBILhcTv"}var n=t.prototype;return n.decode=function(t,e){return this._code(t,e)},n.encode=function(t,e){return this._code(t,e)},n._code=function(t,e){var n=this._check(t,e);if(n.isOK){for(var r=[],c=0;c<t.length;c++)r.push(t.charCodeAt(c));for(var i=0,o=/[\w\d_-`~#!$%^&*(){}=+;:'"<,>,/?|\\\u4e00-\u9fa5]/g,h=0;h<r.length;h++){var y=t[h].match(o);y&&y.length>0&&(r[h]^=n.key.charCodeAt(i),(y=String.fromCharCode(r[h]).match(o))&&y.length||(r[h]^=n.key.charCodeAt(i)),++i>=n.key.length&&(i=0))}for(var s="",u=0;u<r.length;u++)s+=String.fromCharCode(r[u]);return s}return t},n._check=function(t,e){return t&&t.length>0?e&&e.length>0?{isOK:!0,key:e}:this.encryptKey&&this.encryptKey.length>0?{isOK:!0,key:this.encryptKey}:{isOK:!1,key:""}:{isOK:!1,key:""}},e(t,[{key:"encryptKey",get:function(){return this._encryptKey},set:function(t){this._encryptKey=t}}]),t}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/BundleDebugView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts"],(function(e){var t,n,o,i,r,a,l,u,s,c,g,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,l=e._decorator,u=e.Node,s=e.instantiate,c=e.find,g=e.Label},function(e){p=e.default},function(e){b=e.inject}],execute:function(){var f,d,h,y,D,m,v,w,C,V,z,P,E;a._RF.push({},"7ed39zq8HBHpYMcMSA4iL4r","BundleDebugView",void 0);var L=l.ccclass;l.property,e("BundleDebugView",(f=L("BundleDebugView"),d=b("content",u),h=b("item",u,"content"),y=b("background",u),D=b("logView",u),m=b("closeDebug",u),f((C=t((w=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"content",C,i(t)),o(t,"itemPrefab",V,i(t)),o(t,"background",z,i(t)),o(t,"logView",P,i(t)),o(t,"closeDebug",E,i(t)),t}n(t,e),t.getPrefabUrl=function(){return"common/prefabs/DebugView"};var a=t.prototype;return a.onLoad=function(){var t=this;e.prototype.onLoad.call(this),this.itemPrefab.removeFromParent(),this.content.removeAllChildren(),this.logView.destroy(),this.closeDebug.destroy(),this.onN(this.background,u.EventType.TOUCH_END,(function(){t.args&&t.args.onClose&&t.args.onClose(),t.close()}))},a.onShow=function(){e.prototype.onShow.call(this),this.initData()},a.onClose=function(){this.args&&this.args.onClose&&this.args.onClose(),e.prototype.onClose.call(this)},a.initData=function(){var e=this,t=this.datas;this.content.removeAllChildren(),t.forEach((function(t,n){var o=s(e.itemPrefab);o.name="debug"+n,o.userData=t,c("Label",o).getComponent(g).string=t,e.onN(o,u.EventType.TOUCH_END,e.onEvent),e.content.addChild(o)}))},a.onEvent=function(e){var t=e.target.userData;dispatch(t),this.close()},r(t,[{key:"datas",get:function(){var e=App.dataCenter.get(App.stageData.where);return e&&e.debugConfig?e.debugConfig:[]}}]),t}(p)).prototype,"content",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(w.prototype,"itemPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(w.prototype,"background",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(w.prototype,"logView",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(w.prototype,"closeDebug",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/BundleManager.ts",["cc","./Macros.ts"],(function(e){var n,u,d,l;return{setters:[function(e){n=e.cclegacy,u=e.AssetManager,d=e.assetManager},function(e){l=e.Macro}],execute:function(){n._RF.push({},"2e004QPo4RDaquC+p8l+fiE","BundleManager",void 0),e("BundleManager",function(){function e(){this.module=null}var n=e.prototype;return n.isEngineBundle=function(e){return e==u.BuiltinBundleName.MAIN||e==u.BuiltinBundleName.RESOURCES||e==u.BuiltinBundleName.START_SCENE||e==u.BuiltinBundleName.INTERNAL},n.removeLoadedBundle=function(e){var n=this,u=[];d.bundles.forEach((function(e,d){n.isEngineBundle(d)||u.push(d)}));for(var l=u.length;l--;){var o=u[l];if(-1==e.indexOf(o)){App.releaseManger.isExistBunble(o)||App.entryManager.onUnloadBundle(o);var a=this.getBundle(o);a&&(App.cache.removeBundle(o),App.releaseManger.removeBundle(a))}}},n.getBundle=function(e){return e?"string"==typeof e?d.getBundle(e):e:null},n.getBundleName=function(e){return e?"string"==typeof e?e:e.name:(Log.e("输入参数错误 : "+e),l.UNKNOWN)},n.enterBundle=function(e){e?App.updateManager.dowonLoad(e):Log.e("无效的入口信息")},n.loadBundle=function(e){if(this.getBundle(e.bundle))return Log.d(e.bundle+"已经加载在缓存中，直接使用"),App.releaseManger.onLoadBundle(e.bundle),void e.handler.onLoadBundleComplete(e);e.handler.onStartLoadBundle(e),Log.d("loadBundle : "+e.bundle),this._loadBundle(e.bundle,(function(n,u){n?(Log.e("load bundle : "+e.bundle+" fail !!!"),e.handler.onLoadBundleError(e,n)):(App.releaseManger.onLoadBundle(e.bundle),Log.d("load bundle : "+e.bundle+" success !!!"),e.handler.onLoadBundleComplete(e))}))},n._loadBundle=function(e,n){d.loadBundle(e,n)},n.debug=function(){Log.d("-------Bundle管理器状态信息-------");var e=[];d.bundles.forEach((function(n,u){e.push(n.name)})),Log.d("当前所有加载完成的bundle : "+e.toString())},e}()).module="【Bundle管理器】",n._RF.pop()}}}));

System.register("chunks:///_virtual/BundleMgrItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Decorators.ts","./Update.ts"],(function(t){var e,n,r,s,a,i,o,u,l,p,d,g,b,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,o=t.Button,u=t.Label,l=t.ProgressBar,p=t.Component,d=t.find},function(t){g=t.default},function(t){b=t.inject},function(t){c=t.Update}],execute:function(){var h,B,f,m,L,v,y,C,w,D,E,M,z;a._RF.push({},"8e03awryZBBuokoy6JrGyBi","BundleMgrItem",void 0);var I=i.ccclass;i.property,t("BundleMgrItem",(h=I("BundleMgrItem"),B=b("delete",o,"bg"),f=b("update",o,"bg"),m=b("label",u,"bg"),L=b("progressBar",l,"bg"),v=b("name",u,"bg"),h((w=e((C=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))||this).data=null,e.deleteCb=null,e.updateCb=null,r(e,"deleteBtn",w,s(e)),r(e,"updateBtn",D,s(e)),r(e,"statusLb",E,s(e)),r(e,"progress",M,s(e)),r(e,"nameLb",z,s(e)),e}n(e,t);var a=e.prototype;return a.onLoad=function(){this.nameLb.string=App.getLanguage(this.data.language),this.updateStatus();var t=new p.EventHandler;t.component="BundleMgrItem",t.handler="onUpdateBundle",t.target=this.node,this.updateBtn.clickEvents.push(t);var e=new p.EventHandler;e.component="BundleMgrItem",e.handler="onDeleteBundle",e.target=this.node,this.deleteBtn.clickEvents.push(e)},a.updateStatus=function(){var t=App.updateManager.getStatus(this.data.bundle);if(App.updateManager.isSkipUpdate)return this.updateBtn.interactable=!1,this.deleteBtn.interactable=!1,this.statusLb.string="最新版本",this.progress.progress=1,void(d("Label",this.updateBtn.node).getComponent(u).string="更新");this.deleteBtn.interactable=!0,t==c.Status.UP_TO_DATE?(this.statusLb.string="最新版本",this.progress.progress=1,this.updateBtn.interactable=!1,d("Label",this.updateBtn.node).getComponent(u).string="更新"):t==c.Status.NEED_UPDATE?(this.statusLb.string="有更新",this.progress.progress=0,this.updateBtn.interactable=!0,d("Label",this.updateBtn.node).getComponent(u).string="更新"):(this.statusLb.string="需要下载",this.progress.progress=0,this.updateBtn.interactable=!0,d("Label",this.updateBtn.node).getComponent(u).string="下载")},a.onDownLoadProgress=function(t,e){-1==e.progress?(this.statusLb.string="更新失败",this.updateBtn.interactable=!0,d("Label",this.updateBtn.node).getComponent(u).string="更新",this.progress.progress=0):e.progress<1?(this.statusLb.string="更新("+(100*e.progress).toFixed(2)+"%)",this.updateBtn.interactable=!1,this.deleteBtn.interactable=!1):(this.statusLb.string="更新完成",this.updateBtn.interactable=!1,this.deleteBtn.interactable=!0,this.progress.progress=1,d("Label",this.updateBtn.node).getComponent(u).string="更新")},a.onDeleteBundle=function(){this.deleteCb&&this.deleteCb(this)},a.onUpdateBundle=function(){this.updateCb&&this.updateCb(this)},e}(g)).prototype,"deleteBtn",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"updateBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(C.prototype,"statusLb",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(C.prototype,"progress",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(C.prototype,"nameLb",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=C))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/BundleMgrView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./BundleMgrItem.ts","./Macros.ts"],(function(e){var t,n,o,i,r,a,c,u,l,s,d,p,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,c=e._decorator,u=e.Node,l=e.find,s=e.instantiate},function(e){d=e.default},function(e){p=e.inject},function(e){f=e.BundleMgrItem},function(e){h=e.Macro}],execute:function(){var g,b,w,m,v,D,y,C,B;a._RF.push({},"7766aGctzdN/7Wjxu4n0W/x","BundleMgrView",void 0);var M=c.ccclass;c.property,e("default",(g=M("BundleMgrView"),b=p("content",u),w=p("scrollview/view/content/item",u,"content"),m=p("scrollview/view/content",u,"content"),g((y=t((D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"content",y,i(t)),o(t,"itemPrefab",C,i(t)),o(t,"viewContent",B,i(t)),t.items=new Map,t}n(t,e),t.getPrefabUrl=function(){return"common/prefabs/BundleMgrView"};var a=t.prototype;return a.onLoad=function(){var t=this;e.prototype.onLoad.call(this),this.onD(h.ON_UPDATE_DOWNLOADING,this.onDownloadProgress),this.onD(h.ON_DELETE_BUNDLE_CACHE,this.onDeleteBundleCache),this.onN(l("close",this.content),u.EventType.TOUCH_END,this.close),this.itemPrefab.removeFromParent(),App.stageData.entrys.forEach((function(e){t.viewContent.addChild(t.createItem(e))}))},a.createItem=function(e){var t=this,n=s(this.itemPrefab),o=n.addComponent(f);return o.data=e,o.deleteCb=function(e){t.onDelete(e)},o.updateCb=function(e){t.onUpdate(e)},this.items.set(e.bundle,o),n},a.onUpdate=function(e){var t=e.data;Log.d("更新",t.bundle),App.entryManager.enterBundle(t.bundle)},a.onDelete=function(e){var t=e.data;Log.d("删除",t.bundle),App.updateManager.removeBunbleCache(t.bundle)},a.onDownloadProgress=function(e,t,n){var o=this.items.get(t.bundle);o&&o.onDownLoadProgress(t,n)},a.onDeleteBundleCache=function(e,t){Log.d("删除 "+t+" 完成");var n=this.items.get(t);n&&n.updateStatus()},r(t,[{key:"showAction",get:function(){return App.utils.showView(this.content)}},{key:"closeAction",get:function(){return App.utils.hideView(this.content)}}]),t}(d)).prototype,"content",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(D.prototype,"itemPrefab",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(D.prototype,"viewContent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=D))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/BundleUpdate.ts",["cc","./Macros.ts"],(function(n){var e,t;return{setters:[function(n){e=n.cclegacy},function(n){t=n.Macro}],execute:function(){e._RF.push({},"be6ad44gPZLRJGyZ+utzysn","BundleUpdate",void 0),n("BundleUpdate",function(){function n(){this.module=null,this.isResident=!0}var e=n.prototype;return e.onNewVersionFund=function(n){n.doUpdate()},e.onUpdateFailed=function(n){App.tips.show(App.getLanguage("updateFaild",[n.name])),dispatch(t.ON_UPDATE_FAILED,n)},e.onPreVersionFailed=function(n){this.onUpdateFailed(n)},e.onShowUpdating=function(n){App.tips.show(App.getLanguage("checkingUpdate"))},e.onOther=function(n){},e.onDownloading=function(n,e){dispatch(t.ON_UPDATE_DOWNLOADING,n,e)},e.onAreadyUpToData=function(n){App.tips.show(App.getLanguage("alreadyRemoteVersion",[n.name]))},e.onStarCheckUpdate=function(n){},e.onStartLoadBundle=function(n){},e.onLoadBundleError=function(n,e){App.tips.show(App.getLanguage("loadFailed",[n.name]))},e.onLoadBundleComplete=function(n){App.entryManager.onLoadBundleComplete(n)},e.onLoadBundle=function(n){App.bundleManager.loadBundle(n)},e.onDownloadComplete=function(n){App.releaseManger.tryRemoveBundle(n.bundle)},e.onNeedRestartApp=function(n,e){var t=App.getLanguage("restartApp",[n.name]);App.alert.show({text:t,confirmCb:function(n){e(!1)}})},n}()).module="【Bundle热更新】",e._RF.pop()}}}));

System.register("chunks:///_virtual/ByteArray.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"38d2fDM+JpA/rYzsaBoQexx","ByteArray",void 0);var n=t("Endian",(function(){}));n.LITTLE_ENDIAN="littleEndian",n.BIG_ENDIAN="bigEndian";var s=t("EndianConst",{LITTLE_ENDIAN:0,BIG_ENDIAN:1}),r=1,o=1,a=2,h=4,f=1,u=2,d=4,l=4,_=8;t("ByteArray",function(){function t(t,i){void 0===i&&(i=0),this.bufferExtSize=0,this.data=void 0,this._bytes=void 0,this._position=void 0,this.write_position=void 0,this.$endian=null,this.EOF_byte=-1,this.EOF_code_point=-1,i<0&&(i=0),this.bufferExtSize=i;var e,s=0;if(t){var r;if(t instanceof Uint8Array?(r=t,s=t.length):(s=t.byteLength,r=new Uint8Array(t)),0==i)e=new Uint8Array(s);else e=new Uint8Array((1+(s/i|0))*i);e.set(r)}else e=new Uint8Array(i);this.write_position=s,this._position=0,this._bytes=e,this.data=new DataView(e.buffer),this.endian=n.BIG_ENDIAN}var e=t.prototype;return e.setArrayBuffer=function(t){},e._validateBuffer=function(t){if(this.data.byteLength<t){var i,e=this.bufferExtSize;if(0==e)i=new Uint8Array(t);else i=new Uint8Array((1+(t/e>>0))*e);i.set(this._bytes),this._bytes=i,this.data=new DataView(i.buffer)}},e.clear=function(){var t=new ArrayBuffer(this.bufferExtSize);this.data=new DataView(t),this._bytes=new Uint8Array(t),this._position=0,this.write_position=0},e.readBoolean=function(){return!!this.validate(r)&&!!this._bytes[this.position++]},e.readByte=function(){return this.validate(o)?this.data.getInt8(this.position++):0},e.readBytes=function(t,i,e){if(void 0===i&&(i=0),void 0===e&&(e=0),t){var n=this._position,s=this.write_position-n;if(!(s<0)){if(0==e)e=s;else if(e>s)return;var r=t._position;t._position=0,t.validateBuffer(i+e),t._position=r,t._bytes.set(this._bytes.subarray(n,n+e),i),this.position+=e}}},e.readDouble=function(){if(this.validate(_)){var t=this.data.getFloat64(this._position,this.$endian==s.LITTLE_ENDIAN);return this.position+=_,t}return 0},e.readFloat=function(){if(this.validate(l)){var t=this.data.getFloat32(this._position,this.$endian==s.LITTLE_ENDIAN);return this.position+=l,t}return 0},e.readInt=function(){if(this.validate(h)){var t=this.data.getInt32(this._position,this.$endian==s.LITTLE_ENDIAN);return this.position+=h,t}return 0},e.readShort=function(){if(this.validate(a)){var t=this.data.getInt16(this._position,this.$endian==s.LITTLE_ENDIAN);return this.position+=a,t}return 0},e.readUnsignedByte=function(){return this.validate(f)?this._bytes[this.position++]:0},e.readUnsignedInt=function(){if(this.validate(d)){var t=this.data.getUint32(this._position,this.$endian==s.LITTLE_ENDIAN);return this.position+=d,t}return 0},e.readUnsignedShort=function(){if(this.validate(u)){var t=this.data.getUint16(this._position,this.$endian==s.LITTLE_ENDIAN);return this.position+=u,t}return 0},e.readUTF=function(){var t=this.readUnsignedShort();return t>0?this.readUTFBytes(t):""},e.readUTFBytes=function(t){if(!this.validate(t))return"";var i=this.data,e=new Uint8Array(i.buffer,i.byteOffset+this._position,t);return this.position+=t,this.decodeUTF8(e)},e.writeBoolean=function(t){this.validateBuffer(r),this._bytes[this.position++]=+t},e.writeByte=function(t){this.validateBuffer(o),this._bytes[this.position++]=255&t},e.writeBytes=function(t,i,e){var n;void 0===i&&(i=0),void 0===e&&(e=0),i<0||e<0||(n=0==e?t.length-i:Math.min(t.length-i,e))>0&&(this.validateBuffer(n),this._bytes.set(t._bytes.subarray(i,i+n),this._position),this.position=this._position+n)},e.writeDouble=function(t){this.validateBuffer(_),this.data.setFloat64(this._position,t,this.$endian==s.LITTLE_ENDIAN),this.position+=_},e.writeFloat=function(t){this.validateBuffer(l),this.data.setFloat32(this._position,t,this.$endian==s.LITTLE_ENDIAN),this.position+=l},e.writeInt=function(t){this.validateBuffer(h),this.data.setInt32(this._position,t,this.$endian==s.LITTLE_ENDIAN),this.position+=h},e.writeShort=function(t){this.validateBuffer(a),this.data.setInt16(this._position,t,this.$endian==s.LITTLE_ENDIAN),this.position+=a},e.writeUnsignedInt=function(t){this.validateBuffer(d),this.data.setUint32(this._position,t,this.$endian==s.LITTLE_ENDIAN),this.position+=d},e.writeUnsignedShort=function(t){this.validateBuffer(u),this.data.setUint16(this._position,t,this.$endian==s.LITTLE_ENDIAN),this.position+=u},e.writeUTF=function(t){var i=this.encodeUTF8(t),e=i.length;this.validateBuffer(u+e),this.data.setUint16(this._position,e,this.$endian==s.LITTLE_ENDIAN),this.position+=u,this._writeUint8Array(i,!1)},e.writeUTFBytes=function(t,i){this._writeUint8Array(this.encodeUTF8(t,i))},e.toString=function(){return"[ByteArray] length:"+this.length+", bytesAvailable:"+this.bytesAvailable},e._writeUint8Array=function(t,i){void 0===i&&(i=!0);var e=this._position,n=e+t.length;i&&this.validateBuffer(n),this.bytes.set(t,e),this.position=n},e.validate=function(t){var i=this._bytes.length;return i>0&&this._position+t<=i},e.validateBuffer=function(t){this.write_position=t>this.write_position?t:this.write_position,t+=this._position,this._validateBuffer(t)},e.encodeUTF8=function(t,i){for(var e=0,n=this.stringToCodePoints(t),s=[];n.length>e;){var r=n[e++];if(this.inRange(r,55296,57343))this.encoderError(r);else if(this.inRange(r,0,127))if(null==i)s.push(r);else{if(!(s.length+1<i))break;s.push(r)}else{var o=0,a=0;if(this.inRange(r,128,2047)?(o=1,a=192):this.inRange(r,2048,65535)?(o=2,a=224):this.inRange(r,65536,1114111)&&(o=3,a=240),null==i)for(s.push(this.div(r,Math.pow(64,o))+a);o>0;){var h=this.div(r,Math.pow(64,o-1));s.push(128+h%64),o-=1}else{var f=0;for(s.push(this.div(r,Math.pow(64,o))+a),f++;o>0;){var u=this.div(r,Math.pow(64,o-1));s.push(128+u%64),o-=1,f++}if(s.length>i){s.splice(s.length-f,f);break}}}}if(null!=i&&s.length<i)for(var d=i-s.length;d>0;)s.push(0),d--;return new Uint8Array(s)},e.decodeUTF8=function(t){for(var i=!1,e=0,n="",s=null,r=0,o=0,a=0,h=0;t.length>e;){var f=t[e++];if(f==this.EOF_byte)s=0!=o?this.decoderError(i):this.EOF_code_point;else if(0==o)this.inRange(f,0,127)?s=f:(this.inRange(f,194,223)?(o=1,h=128,r=f-192):this.inRange(f,224,239)?(o=2,h=2048,r=f-224):this.inRange(f,240,244)?(o=3,h=65536,r=f-240):this.decoderError(i),r*=Math.pow(64,o),s=null);else if(this.inRange(f,128,191))if(a+=1,r+=(f-128)*Math.pow(64,o-a),a!==o)s=null;else{var u=r,d=h;r=0,o=0,a=0,h=0,s=this.inRange(u,d,1114111)&&!this.inRange(u,55296,57343)?u:this.decoderError(i,f)}else r=0,o=0,a=0,h=0,e--,s=this.decoderError(i,f);null!==s&&s!==this.EOF_code_point&&(s<=65535?s>0&&(n+=String.fromCharCode(s)):(s-=65536,n+=String.fromCharCode(55296+(s>>10&1023)),n+=String.fromCharCode(56320+(1023&s))))}return n},e.encoderError=function(t){},e.decoderError=function(t,i){return i||65533},e.inRange=function(t,i,e){return i<=t&&t<=e},e.div=function(t,i){return Math.floor(t/i)},e.stringToCodePoints=function(t){for(var i=[],e=0,n=t.length;e<t.length;){var s=t.charCodeAt(e);if(this.inRange(s,55296,57343))if(this.inRange(s,56320,57343))i.push(65533);else if(e==n-1)i.push(65533);else{var r=t.charCodeAt(e+1);if(this.inRange(r,56320,57343)){var o=1023&s,a=1023&r;e+=1,i.push(65536+(o<<10)+a)}else i.push(65533)}else i.push(s);e+=1}return i},i(t,[{key:"endian",get:function(){return this.$endian==s.LITTLE_ENDIAN?n.LITTLE_ENDIAN:n.BIG_ENDIAN},set:function(t){this.$endian=t==n.LITTLE_ENDIAN?s.LITTLE_ENDIAN:s.BIG_ENDIAN}},{key:"readAvailable",get:function(){return this.write_position-this._position}},{key:"buffer",get:function(){return this.data.buffer.slice(0,this.write_position)},set:function(t){var i,e=t.byteLength,n=new Uint8Array(t),s=this.bufferExtSize;0==s?i=new Uint8Array(e):i=new Uint8Array((1+(e/s|0))*s);i.set(n),this.write_position=e,this._bytes=i,this.data=new DataView(i.buffer)}},{key:"rawBuffer",get:function(){return this.data.buffer}},{key:"bytes",get:function(){return this._bytes}},{key:"dataView",get:function(){return this.data},set:function(t){this.buffer=t.buffer}},{key:"bufferOffset",get:function(){return this.data.byteOffset}},{key:"position",get:function(){return this._position},set:function(t){this._position=t,t>this.write_position&&(this.write_position=t)}},{key:"length",get:function(){return this.write_position},set:function(t){this.write_position=t,this.data.byteLength>t&&(this._position=t),this._validateBuffer(t)}},{key:"bytesAvailable",get:function(){return this.data.byteLength-this._position}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/CacheManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Resource.ts","./Macros.ts"],(function(e){var t,n,s,a,i,r,c,u,h,o,l,d;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,s=e.isValid,a=e.SpriteAtlas,i=e.SpriteFrame,r=e.Texture2D,c=e.ImageAsset,u=e.sp,h=e.JsonAsset,o=e.TextAsset},function(e){l=e.Resource},function(e){d=e.Macro}],execute:function(){n._RF.push({},"4859cspWPZNhIIuXN1LpfKQ","CacheManager",void 0);var f=function(){function e(e){this._caches=new Map,this.name=d.UNKNOWN,this.name=e}var n=e.prototype;return n.get=function(e,t){if(this._caches.has(e)){var n=this._caches.get(e);return t&&n&&n.isInvalid?(Log.w("资源加载完成，但已经被释放 , 重新加载资源 : "+e),this.remove(e),null):this._caches.get(e)}return null},n.set=function(e){this._caches.set(e.key,e)},n.remove=function(e){return this._caches.delete(e)},n.debug=function(){this.name;var e=this._caches,t=[],n=[];e.forEach((function(e,a,i){e.isLoaded&&s(e.data)?t.push(e.debug()):n.push(e.debug())})),t.length>0&&(Log.d("----------- 有效缓存信息 -----------"),Log.d(JSON.stringify(t))),n.length>0&&(Log.d("----------- 无效缓存信息 -----------"),Log.d(JSON.stringify(n)))},t(e,[{key:"size",get:function(){return this._caches.size}}]),e}(),g=function(){function e(){this._caches=new Map}var t=e.prototype;return t.get=function(e){return this._caches.has(e)?this._caches.get(e):null},t.getSpriteFrame=function(e){var t=l.getKey(e,i),n=this.get(t);return n?this.get(l.getKey(e,r))?n:(this.remove(e,i,!0),null):null},t.makeSpriteFrame=function(e,t){if(t&&t instanceof c){var n=this.getSpriteFrame(e);if(n)return{cache:n,asset:n.data};n=new l.Cache(e,i,d.BUNDLE_REMOTE);var s=new i,a=new r;return a.image=t,s.texture=a,s.name=e,s._nativeUrl=e,n.isLoaded=!0,n.url=e,n.data=s,this.set(n),{cache:n,asset:n.data}}return{cache:null,asset:null}},t.makeSkeletonData=function(e,t,n,s,a){var i=new u.SkeletonData;i.skeletonJson=n.json,i.atlasText=s.text;var c=new r;c.image=t,i.textures=[c];var h=a+".png";return i.textureNames=[h],e.data=i,e.isLoaded=!0,e},t.set=function(e){this._caches.set(e.key,e)},t.retainAsset=function(e){e&&(e.retain?e.retain:e.retain=e.retain,this.addRef(e.url,e.type),e.type==i&&this.addRef(e.url,r),e.type==u.SkeletonData&&(this.addRef(e.url+".png",r),this.addRef(e.url+".json",h),this.addRef(e.url+".atlas",o)))},t.releaseAsset=function(e){if(e){if(e.retain)return;this.remove(e.url,e.type)}},t.addRef=function(e,t){var n=l.getKey(e,t),s=this.get(n);s&&s.addRef()},t.decRef=function(e,t,n){void 0===n&&(n=!1);var s=l.getKey(e,t),a=this.get(s);a&&(a.decRef(!1)?a.refCount<=0&&(this._caches.delete(s),App.releaseManger.releaseRemote(a,n)):this._caches.delete(s))},t.remove=function(e,t,n){void 0===n&&(n=!1),this.decRef(e,t,n),t==i&&this.decRef(e,r,n),t==u.SkeletonData&&(this.decRef(e+".png",r,n),this.decRef(e+".json",h,n),this.decRef(e+".atlas",o,n))},t.debug=function(){var e=this._caches;Log.d("---- 远程加载资源缓存信息 ----");var t=[],n=[];e.forEach((function(e,a,i){e.isLoaded&&e.data&&s(e.data)?t.push(e.debug()):n.push(e.debug())})),t.length>0&&(Log.d("----------------有效缓存信息------------------"),Log.d(JSON.stringify(t))),n.length>0&&(Log.d("----------------无效缓存信息------------------"),Log.d(JSON.stringify(n)))},t.clear=function(){this._caches.clear()},e}();e("CacheManager",function(){function e(){this.isResident=!0,this.module=null,this._bundles=new Map,this._remoteCaches=new g}var n=e.prototype;return n.getBundleName=function(e){return App.bundleManager.getBundleName(e)},n.get=function(e,t,n,s){void 0===s&&(s=!0);var a=this.getBundleName(e);return a&&this._bundles.has(a)?this._bundles.get(a).get(l.getKey(t,n),s):null},n.set=function(e){var t=this.getBundleName(e.bundle);if(t)if(this._bundles.has(t))this._bundles.get(t).set(e);else{var n=new f(t);n.set(e),this._bundles.set(t,n)}},n.remove=function(e){var t=this.getBundleName(e.bundle);return!(!t||!this._bundles.has(t))&&this._bundles.get(t).remove(e.key)},n.removeWithInfo=function(e,t,n){var s=this,a=!0;if(e){e.decRef(!1);e.isDir;if(e.refCount<=0)if(App.isLazyRelease){if(n&&n.add&&e.isDir)e.deps.forEach((function(t){var a=s.get(e.bundle,t,e.type);a&&(n.add(a),s.remove(a))}))}else{if(e.isDir)e.deps.forEach((function(n){var a=s.get(e.bundle,n,e.type);a&&a.refCount<=0&&(t.release(a.url,e.type),s.remove(a))}));else t.release(e.url,e.type);this.remove(e)}else if(a=!1,e.refCount==e.originaRefCount)return!0}return a},n.removeBundle=function(e){var t=this.getBundleName(e);t&&this._bundles.has(t)&&this._bundles.delete(t)},n.getCache=function(e,t,n,s){var a=t,i=this.get(n,e,a);return i?i.isLoaded?i.data instanceof a?{cache:i,asset:i.data}:{cache:i,asset:null}:(i.finishCb.push((function(e){s(e)})),{cache:i,asset:null}):{cache:null,asset:null}},n.getCacheByAsync=function(e,t,n,s){var a=this,i=t,r=function(e){s&&s(e)},c=this.getCache(e,t,n,r);c.cache?c.cache.isLoaded&&r(c):App.asset.load(n,e,i,null,(function(t){t&&t.data&&t.data instanceof i?s&&s({cache:t,asset:t.data}):(Log.e(a.module+"加载失败 : "+e),s&&s({cache:null,asset:null}))}))},n.getSpriteFrameByAsync=function(e,t,n,i,r,c){var u=this,h=0,o=function(a){i(n,a.cache);var r=a.asset.getSpriteFrame(t);r?s(r)?c({url:e[h],spriteFrame:r,cache:a.cache}):(Log.e("精灵帧被释放，释放当前无法的图集资源 url ："+e[h]+" key : "+t),App.asset.releaseAsset(a.cache),c({url:e[h],spriteFrame:null,isTryReload:!0,cache:a.cache})):++h>=e.length?c({url:e[h],spriteFrame:null,cache:a.cache}):l(e[h])},l=function(e){u.getCacheByAsync(e,a,r,o)};l(e[h])},n.debug=function(){this._bundles.forEach((function(e){e.debug()})),this.remoteCaches.debug()},n.clear=function(){this._bundles.clear(),this.remoteCaches.clear()},n.onDestroy=function(e){this.clear()},t(e,[{key:"remoteCaches",get:function(){return this._remoteCaches}}]),e}()).module="【缓存管理器】",n._RF.pop()}}}));

System.register("chunks:///_virtual/CanvasHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a;return{setters:[function(e){t=e.createClass},function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"a96d56Mr9FI4rHutCkVnb9o","CanvasHelper",void 0),e("CanvasHelper",function(){function e(){this.module=null,this.downloadMime="image/octet-stream"}var a=e.prototype;return a.scaleCanvas=function(e,t,a){var n=e.width,i=e.height;null==t&&(t=n),null==a&&(a=i);var r=document.createElement("canvas"),o=r.getContext("2d");return r.width=t,r.height=a,null==o||o.drawImage(e,0,0,n,i,0,0,t,a),r},a.getDataURL=function(e,t,a,n){return(e=this.scaleCanvas(e,a,n)).toDataURL(t)},a.saveFile=function(e,t,a){this.fileDownload(e,t,a)},a.genImage=function(e){var t=document.createElement("img");return t.src=e,t},a.fixType=function(e){return"image/"+(e=e.toLowerCase().replace(/jpg/i,"jpeg")).match(/png|jpeg|bmp|gif/)[0]},a.encodeData=function(e){if(!window.btoa)throw"btoa undefined";var t="";if("string"==typeof e)t=e;else for(var a=0;a<e.length;a++)t+=String.fromCharCode(e[a]);return btoa(t)},a.getImageData=function(e){var t,a=e.width,n=e.height;return null==(t=e.getContext("2d"))?void 0:t.getImageData(0,0,a,n)},a.makeURL=function(e,t){return"data:"+t+";base64,"+e},a.genBitmapImage=function(e){var t=e.width,a=e.height,n=t*a*3,i=n+54,r=[66,77,255&i,i>>8&255,i>>16&255,i>>24&255,0,0,0,0,54,0,0,0],o=[40,0,0,0,255&t,t>>8&255,t>>16&255,t>>24&255,255&a,a>>8&255,a>>16&255,a>>24&255,1,0,24,0,0,0,0,0,255&n,n>>8&255,n>>16&255,n>>24&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],s=(4-3*t%4)%4,u=e.data,c="",g=t<<2,l=a,m=String.fromCharCode;do{for(var v=g*(l-1),f="",d=0;d<t;d++){var h=d<<2;f+=m(u[v+h+2])+m(u[v+h+1])+m(u[v+h])}for(var p=0;p<s;p++)f+=String.fromCharCode(0);c+=f}while(--l);return this.encodeData(r.concat(o))+this.encodeData(c)},a.savaAsImage=function(e,t,a,n,i){void 0===n&&(n="png"),void 0===i&&(i="defaultpng");var r=null;if(this.support.canvas&&this.support.dataURL){if("string"==typeof e){var o=document.getElementById(e);o&&(r=o)}else r=e;if(!r)return;if(n=this.fixType(n),/bmp/.test(n)){var s=this.getImageData(this.scaleCanvas(r,t,a));if(s){var u=this.genBitmapImage(s);this.saveFile(this.makeURL(u,this.downloadMime),n.replace("image/",""),i)}}else{r=this.scaleCanvas(r,t,a);var c=this;r.toBlob((function(e){var t=URL.createObjectURL(e);c.saveFile(t,n.replace("image/",""),i)}),n,1)}}},a.convertToImage=function(e,t,a,n){void 0===n&&(n="png");var i=null;if(this.support.canvas&&this.support.dataURL){if("string"==typeof e){var r=document.getElementById(e);r&&(i=r)}else i=e;if(!i)return;if(/bmp/.test(n)){var o=this.getImageData(this.scaleCanvas(i,t,a)),s=this.genBitmapImage(o);return this.genImage(this.makeURL(s,"image/bmp"))}s=this.getDataURL(i,n,t,a);return this.genImage(s)}},a.fileDownload=function(e,t,a){var n=document.createElement("a");n.style.display="none",n.href=e,n.download=a+"."+t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},a.saveAsPNG=function(e,t,a){return this.savaAsImage(e,t,a,"png","defaultpng")},a.saveAsJPEG=function(e,t,a){return this.savaAsImage(e,t,a,"jpeg","defaultjpg")},a.saveAsGIF=function(e,t,a){return this.savaAsImage(e,t,a,"gif","defaultgif")},a.saveAsBMP=function(e,t,a){return this.savaAsImage(e,t,a,"bmp","defaultbmp")},a.convertToPNG=function(e,t,a){return this.convertToImage(e,t,a,"png")},a.convertToJPEG=function(e,t,a){return this.convertToImage(e,t,a,"jpeg")},a.convertToGIF=function(e,t,a){return this.convertToImage(e,t,a,"gif")},a.convertToBMP=function(e,t,a){return this.convertToImage(e,t,a,"bmp")},t(e,[{key:"support",get:function(){var e=document.createElement("canvas"),t=e.getContext("2d");return{canvas:!!t,imageData:!(null==t||!t.getImageData),dataURL:!!e.toDataURL,btoa:!!window.btoa}}}]),e}()).module="【CanvasHelper】",a._RF.pop()}}}));

System.register("chunks:///_virtual/ChangeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Macros.ts"],(function(e){var t,n,i,o,r,s,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,i=e._decorator,o=e.view,r=e.ResolutionPolicy},function(e){s=e.default},function(e){a=e.Macro}],execute:function(){var c;n._RF.push({},"57531QVOSJPerFOf4DoBY4H","ChangeView",void 0);var u=i.ccclass;i.property,e("default",u("ChangeView")(c=function(e){function n(){return e.apply(this,arguments)||this}return t(n,e),n.getPrefabUrl=function(){return"common/prefabs/ChangeView"},n.prototype.onShow=function(){if(App.stageData.isLandscape){var t=o.getDesignResolutionSize();o.setDesignResolutionSize(t.height,t.width,r.SHOW_ALL)}else{var n=o.getDesignResolutionSize();o.setDesignResolutionSize(n.width,n.height,r.SHOW_ALL)}e.prototype.onShow.call(this),App.entryManager.enterBundle(a.BUNDLE_RESOURCES,{changeOrientation:!0})},n}(s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ChatService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./CommonService.ts"],(function(e){var t,n,r,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){r=e.NetPriority},function(e){i=e.CommonService}],execute:function(){n._RF.push({},"35307er0mdBR7bBHQJfElHc","ChatService",void 0),e("ChatService",function(e){function n(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this).priority=r.Chat,t}return t(n,e),n}(i)).module="聊天",n._RF.pop()}}}));

System.register("chunks:///_virtual/CmdDefines.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"8b0d47nT5xN3LlWFAW1DU7w","CmdDefines",void 0);e("MainCmd",{CMD_SYS:1,CMD_GAME:2,CMD_LOBBY:3,CMD_PAY:4,CMD_CHAT:5}),e("SUB_CMD_SYS",{CMD_SYS_HEART:1});n._RF.pop()}}}));

System.register("chunks:///_virtual/CmmAudioComp.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioComponent.ts","./Config.ts"],(function(t){var o,n,u,e,i;return{setters:[function(t){o=t.inheritsLoose},function(t){n=t.cclegacy,u=t._decorator},function(t){e=t.default},function(t){i=t.Config}],execute:function(){var c;n._RF.push({},"b35bdKfPtJFgqsmwctM1K0r","CmmAudioComp",void 0);var r=u.ccclass;u.property,u.menu,t("default",r("CmmAudioComp")(c=function(t){function n(){return t.apply(this,arguments)||this}return o(n,t),n.prototype.playButton=function(){this.playEffect(i.audioPath.button)},n}(e))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/CmmProto.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProtoMessage.ts"],(function(t){var o,e,n;return{setters:[function(t){o=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.ProtoMessage}],execute:function(){e._RF.push({},"b35e78QVExCGoTgRGudayLT","CmmProto",void 0);t("CmmProto",function(t){function e(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this).cmd="",o.mainCmd=0,o.subCmd=0,o}return o(e,t),e}(n));e._RF.pop()}}}));

System.register("chunks:///_virtual/CocosExtention.ts",["cc","./CocosUtils.ts","./Resource.ts","./Macros.ts"],(function(e){var t,a,o,c,n,r,i,s,l,p,u,d,f,h,y,m,v,R,S,F,g,C,D,A,w;return{setters:[function(e){t=e.cclegacy,a=e.Node,o=e.Sprite,c=e.SpriteFrame,n=e.isValid,r=e.sp,i=e.Button,s=e.dragonBones,l=e.ParticleSystem2D,p=e.ParticleAsset,u=e.Label,d=e.Font},function(e){f=e.getBundle,h=e.setSpriteSpriteFrame,y=e.addExtraLoadResource,m=e.setSkeletonSkeletonData,v=e.setButtonSpriteFrame,R=e.loadDragonDisplay,S=e.setParticleSystemFile,F=e.setLabelFont,g=e.createNodeWithPrefab,C=e._loadDirRes,D=e._loadRes},function(e){A=e.Resource},function(e){w=e.Macro}],execute:function(){e("CocosExtentionInit",(function(){Log.d("Cocos扩展初始化")})),t._RF.push({},"41a78zq+i1C45s4JKGkhQdk","CocosExtention",void 0),"object"==typeof Reflect?Reflect.defineProperty(a.prototype,"userData",{value:null,writable:!0}):a.prototype.userData=null,o.prototype.loadRemoteImage=function(e){var t=this;null!=e.isNeedCache&&null!=e.isNeedCache||(e.isNeedCache=!0);var a=!1;e.retain&&(a=!0),t.loadUrl=e.url;var o=f({bundle:e.defaultBundle,view:e.view});App.asset.remote.loadImage(e.url,e.isNeedCache,(function(r){if(r.asset){var i=r.asset;h({view:e.view,url:e.url,sprite:t,spriteFrame:i,complete:e.complete,bundle:w.BUNDLE_REMOTE,resourceType:A.Type.Remote,retain:a,cache:r.cache})}else e.defaultSpriteFrame?"string"==typeof e.defaultSpriteFrame&&App.cache.getCacheByAsync(e.defaultSpriteFrame,c,o,(function(a){h({view:e.view,url:e.defaultSpriteFrame,sprite:t,spriteFrame:a.asset,complete:e.complete,bundle:o,cache:a.cache})})):n(t)&&e.complete&&e.complete(null)}))},o.prototype.loadImage=function(e){var t=this,a=e.view,o=e.url,n=f(e),r=function(o){var c=o[0],r=o[1],i=o[2],s=o[3];h({view:a,url:i,sprite:t,spriteFrame:r,complete:e.complete,bundle:n,cache:c,isAtlas:s})};"string"==typeof o?(o+="/spriteFrame",App.cache.getCacheByAsync(o,c,n,(function(e){r([e.cache,e.asset,o,!1])}))):App.cache.getSpriteFrameByAsync(o.urls,o.key,a,y,n,(function(e){e&&e.isTryReload||r([e.cache,e.spriteFrame,e.url,!0])}))},r.Skeleton.prototype.loadRemoteSkeleton=function(e){var t=this;null!=e.isNeedCache&&null!=e.isNeedCache||(e.isNeedCache=!0),App.asset.remote.loadSkeleton(e.path,e.name,e.isNeedCache,(function(a){m({component:t,config:e,data:a.asset,resourceType:A.Type.Remote,cache:a.cache})}))},r.Skeleton.prototype.loadSkeleton=function(e){var t=this,a=e.url,o=f(e);App.cache.getCacheByAsync(a,r.SkeletonData,o,(function(a){!function(a){var o=a[0],c=a[1];m({component:t,config:e,data:c,cache:o})}([a.cache,a.asset])}))},i.prototype.loadButton=function(e){v(this,e)},s.ArmatureDisplay.prototype.loadDisplay=function(e){R(this,e)},l.prototype.loadFile=function(e){var t=this,a=e.url,o=f(e);App.cache.getCacheByAsync(a,p,o,(function(a){S(t,e,a.asset,a.cache)}))},u.prototype.forceDoLayout=function(){var e=this;e._forceUpdateRenderData?e._forceUpdateRenderData():e._updateRenderData?e._updateRenderData(!0):e.updateRenderData&&e.updateRenderData(!0)},u.prototype.loadFont=function(e){var t=e.font,a=this,o=f(e);App.cache.getCacheByAsync(t,d,o,(function(t){F(a,e,t.asset,t.cache)}))},window.createPrefab=function(e){g(e)},window.loadDirRes=function(e){C(e)},window.loadRes=function(e){D(e)},t._RF.pop()}}}));

System.register("chunks:///_virtual/CocosUtils.ts",["cc","./Resource.ts","./UIView.ts","./Enums.ts","./Macros.ts"],(function(e){var t,o,l,r,c,n,a,i,s,p;return{setters:[function(e){t=e.cclegacy,o=e.isValid,l=e.Prefab,r=e.SpriteFrame,c=e.dragonBones,n=e.instantiate},function(e){a=e.Resource},function(e){i=e.default},function(e){s=e.ButtonSpriteType},function(e){p=e.Macro}],execute:function(){function m(e,t){var o=App.uiManager;e==o.retainMemory?o.retainMemory.addLocal(t):e&&e instanceof i?o.addLocal(t,e.className):o.garbage.addLocal(t)}function u(e,t){var o=App.uiManager;e==o.retainMemory?o.retainMemory.addRemote(t):e&&e instanceof i?o.addRemote(t,e.className):o.garbage.addRemote(t)}function f(e){var t=e.bundle;return null!=e.bundle&&null!=e.bundle||(t=p.BUNDLE_RESOURCES,e.view&&(t=e.view.bundle)),t}function v(e){return!!(o(e)&&e.node&&o(e.node))}function d(e){null!=e.isAtlas&&null!=e.isAtlas||(e.isAtlas=!1),e.spriteFrame&&v(e.button)?function(e){if(e.cache)if(e.isAtlas||m(e.view,e.cache),e.spriteFrame&&v(e.button)){var t=e.button[e.memberName];try{var l=o(e.spriteFrame)?e.spriteFrame:null;l&&(e.button[e.memberName]=l),e.complete&&e.complete(e.memberName,l)}catch(l){var r=o(t)?t:null;e.button[e.memberName]=r,e.complete&&e.complete(e.memberName,null),Log.e(e.url+" : "+(l||"replace spriteframe error"))}}else e.complete&&v(e.button)&&e.complete(e.memberName,e.spriteFrame);else e.complete&&v(e.button)&&e.complete(e.memberName,null)}(e):e.complete&&v(e.button)&&e.complete(e.memberName,e.spriteFrame)}function y(e,t,o,l,c,n){var a=function(l){var r=l[0],a=l[1],i=l[2],s=l[3];d({button:e,memberName:t,view:o,url:i,spriteFrame:a,complete:c,bundle:n,cache:r,isAtlas:s})};l?"string"==typeof l?(l+="/spriteFrame",App.cache.getCacheByAsync(l,r,n,(function(e){a([e.cache,e.asset,l,!1])}))):App.cache.getSpriteFrameByAsync(l.urls,l.key,o,m,n,(function(e){e&&e.isTryReload?c&&c(t,null):a([e.cache,e.spriteFrame,e.url,!0])})):c&&c(t,null)}e({_loadDirRes:function(e){var t=f(e);App.asset.loadDir(t,e.url,e.type,e.onProgress,(function(t){!function(t){t&&m(e.view,t),e.onComplete&&e.onComplete(t)}(t)}))},_loadRes:function(e){var t=f(e);e.type==r&&(e.url=e.url+"/spriteFrame");App.cache.getCacheByAsync(e.url,e.type,t,(function(t){!function(t){t.cache&&m(e.view,t.cache),e.onComplete&&e.onComplete(t.asset)}(t)}))},addExtraLoadResource:m,addRemoteLoadResource:u,createNodeWithPrefab:function(e){var t=e.url,o=f(e);App.cache.getCacheByAsync(t,l,o,(function(t){!function(t){var o=t[0],l=t[1];if(o&&m(e.view,o),l&&v(e.view)){var r=n(l);e.complete&&e.complete(r)}else v(e.view),e.complete&&e.complete(null)}([t.cache,t.asset])}))},getAsset:function(e,t,o,l){return App.bundleManager.getBundle(o).get(e+"/"+t,l)},getBundle:f,loadDragonDisplay:function(e,t){var o=f(t);App.cache.getCacheByAsync(t.assetUrl,c.DragonBonesAsset,o,(function(l){var r,n;l.asset?(r=[l.cache,l.asset],n=r[0],r[1],n&&m(t.view,n),App.cache.getCacheByAsync(t.atlasUrl,c.DragonBonesAtlasAsset,o,(function(o){var r,c,n,a;r=[o.cache,o.asset,l.asset],c=r[0],n=r[1],a=r[2],n?(m(t.view,c),e.dragonAsset=a,e.dragonAtlasAsset=n,t.complete&&t.complete(a,n)):t.complete&&t.complete(a,null)}))):t.complete&&t.complete(null,null)}))},setButtonSpriteFrame:function(e,t){var o=f(t);y(e,s.Norml,t.view,t.normalSprite,t.complete,o),y(e,s.Pressed,t.view,t.pressedSprite,t.complete,o),y(e,s.Hover,t.view,t.hoverSprite,t.complete,o),y(e,s.Disable,t.view,t.disabledSprite,t.complete,o)},setLabelFont:function(e,t,l,r){if(!r)return void(t.complete&&v(e)&&t.complete(null));if(m(t.view,r),l&&v(e)){var c=e.font;try{var n=o(l)?l:null;n&&(e.font=n),t.complete&&t.complete(n)}catch(l){var a=o(c)?c:null;e.font=a,t.complete&&t.complete(null),Log.e(t.font+" : "+(l||"replace font error"))}}else t.complete&&v(e)&&t.complete(l)},setParticleSystemFile:function(e,t,l,r){if(!r)return void(t.complete&&v(e)&&t.complete(null));if(m(t.view,r),l&&v(e)){var c=e.file;try{var n=o(l)?l:null;n&&(e.file=n),t.complete&&t.complete(n)}catch(l){var a=o(c)?c:null;e.file=a,t.complete&&t.complete(null),Log.e(t.url+" : "+(l||"replace file error"))}}else t.complete&&v(e)&&t.complete(l)},setSkeletonSkeletonData:function(e){if(!e.cache)return void(e.config.complete&&v(e.component)&&e.config.complete(null));null!=e.resourceType&&null!=e.resourceType||(e.resourceType=a.Type.Local);e.resourceType==a.Type.Remote?u(e.config.view,e.cache):m(e.config.view,e.cache);if(e.data&&v(e.component)){var t=e.component.skeletonData;try{var l=o(e.data)?e.data:null;l&&(e.component.skeletonData=l),e.config.complete&&e.config.complete(l)}catch(l){var r=o(t)?t:null;e.component.skeletonData=r,e.config.complete&&e.config.complete(null),Log.e(e.cache.key+" : "+(l||"replace skeletonData error"))}}else e.config.complete&&v(e.component)&&e.config.complete(e.data)},setSpriteSpriteFrame:function(e){null!=e.resourceType&&null!=e.resourceType||(e.resourceType=a.Type.Local);null!=e.retain&&null!=e.retain||(e.retain=!1);null!=e.isAtlas&&null!=e.isAtlas||(e.isAtlas=!1);if(!e.cache)return Log.e("加载"+e.url+"图片错误"),void(e.complete&&v(e.sprite)&&e.complete(null));e.isAtlas||(e.resourceType==a.Type.Remote?u(e.view,e.cache):m(e.view,e.cache));if(e.spriteFrame&&v(e.sprite)){var t=e.sprite.spriteFrame,l=o(e.spriteFrame)?e.spriteFrame:null;try{l&&(e.sprite.spriteFrame=l),e.complete&&e.complete(l)}catch(l){var r=o(t)?t:null;e.sprite.spriteFrame=r,e.complete&&e.complete(null),Log.e(e.url+" : "+(l||"replace spriteframe error"))}}else e.complete&&v(e.sprite)&&e.complete(e.spriteFrame)}}),t._RF.push({},"c5e498hvkpGm6BWGue9rQcW","CocosUtils",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/CommonEvent.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"44b3bL/ZNdPXbAWy02ohBa3","CommonEvent",void 0);n("CommonEvent",function(n){return n.TEST_PROTO_MSG="TEST_PROTO_MSG",n.TEST_BINARY_MSG="TEST_BINARY_MSG",n.TEST_JSON_MSG="TEST_JSON_MSG",n}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/CommonService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GetCmdKey.ts","./Message.ts","./Net.ts","./WSService.ts","./Macros.ts","./ByteArray.ts","./CmdDefines.ts","./HeartbetBinary.ts"],(function(e){var t,n,r,o,a,i,s,u,c,f,d,p,l,g;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){a=e.cclegacy},function(e){i=e.GetCmdKey},function(e){s=e.MessageHead},function(e){u=e.Net},function(e){c=e.WSService},function(e){f=e.Macro},function(e){d=e.ByteArray},function(e){p=e.MainCmd,l=e.SUB_CMD_SYS},function(e){g=e.HeartbeatBinary}],execute:function(){a._RF.push({},"aad07lPwddEKJJ1ajESY2A1","CommonService",void 0);var m=e("CmmHead",function(e){function r(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).mainCmd=0,t.subCmd=0,t.buffer=null,t.headerSize=3*Uint32Array.BYTES_PER_ELEMENT,t}t(r,e);var o=r.prototype;return o.encode=function(e){this.mainCmd=e.mainCmd,this.subCmd=e.subCmd;var t=0;e.buffer&&(t=e.buffer.length);var n=new d;if(n.endian=f.USING_LITTLE_ENDIAN,n.writeUnsignedInt(this.mainCmd),n.writeUnsignedInt(this.subCmd),n.writeUnsignedInt(t),e.buffer){var r=new d(e.buffer);n.writeBytes(r)}return this.buffer=n.bytes,!0},o.decode=function(e){var t=new d(e.data);t.endian=f.USING_LITTLE_ENDIAN,this.mainCmd=t.readUnsignedInt(),this.subCmd=t.readUnsignedInt();var n=t.readUnsignedInt(),r=t.buffer.slice(t.position);return this.buffer=new Uint8Array(r),n==this.buffer.length},n(r,[{key:"cmd",get:function(){return String(this.mainCmd)+String(this.subCmd)}}]),r}(s));e("CommonService",function(e){function a(t){var n;(n=e.call(this,t)||this).ip="localhost",n.port=3e3,n.protocol="ws",n._backgroundTimeOutId=-1,n._Heartbeat=null;var a={url:n.protocol+"://"+n.ip+":"+n.port,tag:t};return n.options=a,n.flows.sendHeartbeatFlow.push(r(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.heartbeat){e.next=5;break}return e.next=3,n.send(new n.heartbeat);case 3:e.next=6;break;case 5:Log.e("请先设置心跳解析类型");case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))),n.flows.isHeartBeatFlow.push((function(e){return e.result=e.message.cmd==i(p.CMD_SYS,l.CMD_SYS_HEART),e})),n.flows.decodeHeaderFlow.push((function(e){var t=new m;return t.decode(e.message),e.result=t,e})),n.flows.encodeHeaderFlow.push((function(e){var t=new m,n=t.encode(e.message);return e.result={isSuccess:n,message:t},e})),n.flows.decodeMessageFlow.push((function(e){var t=e.decodeData,r=e.message,o=null;if(n.serviceType==u.ServiceType.Proto){if(t.type&&"string"==typeof t.type)if(App.protoManager.lookup(t.type))try{o=App.protoManager.decode({className:t.type,buffer:r.buffer})}catch(e){o=null}else o=r.buffer;else o=r.buffer;return e.result=o,e}return t.type&&"string"!=typeof t.type?(o=new t.type).decode(r.buffer):o=r.buffer,e.result=o,e})),n.flows.enterBackgroundFlow.push((function(e){return n.data.isLoginStage()||(n._backgroundTimeOutId=setTimeout((function(){App.alert.close(f.RECONNECT_ALERT_TAG),n.stop()}),n.options.maxEnterBackgroundTime)),e})),n.flows.enterForegroundFlow.push((function(e){if(-1!=n._backgroundTimeOutId){if(clearTimeout(n._backgroundTimeOutId),n.data.isLoginStage())return e.isNeedReconnect=!1,e;if(1e3*e.enterBackgroundTime>n.options.maxEnterBackgroundTime)return App.alert.close(f.RECONNECT_ALERT_TAG),e.isNeedReconnect=!0,e}return e.isNeedReconnect=!1,e})),n.flows.reconnectFailedFlow.push(r(o().mark((function e(t){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(App.uiReconnect.hide(),!n.data.isLoginStage()){e.next=4;break}return t.isNeedReconnect=!1,e.abrupt("return",t);case 4:return e.next=6,n.showReconnectAlert();case 6:return r=e.sent,t.isNeedReconnect=r,e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))),n.flows.reconnectStartFlow.push((function(e){return App.uiReconnect.show(App.getLanguage("tryReconnect",[n.module,e.reconnectTimes])),e})),n.flows.reconnectSuccessFlow.push((function(e){return App.uiReconnect.hide(),e})),n.heartbeat=g,n}t(a,e);var s=a.prototype;return s.showReconnectAlert=function(){var e=this;return new Promise((function(t,n){App.alert.show({tag:f.RECONNECT_ALERT_TAG,isRepeat:!1,text:App.getLanguage("warningReconnect",[e.module]),confirmCb:function(n){n?(Log.d(e.module+" 重连连接网络"),t(!0)):(e.gotoLogin(),t(!1))},cancelCb:function(){t(!1),e.gotoLogin()}})}))},s.gotoLogin=function(){Log.d(this.module+" 玩家网络不好，不重连，退回到登录界面"),App.entryManager.enterBundle(f.BUNDLE_RESOURCES)},n(a,[{key:"data",get:function(){return App.stageData}},{key:"heartbeat",get:function(){return this._Heartbeat},set:function(e){this._Heartbeat=e,this.serviceType=e.type}}]),a}(c));a._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc"],(function(e){var t,n;return{setters:[function(e){t=e.cclegacy,n=e.Enum}],execute:function(){e("Config",void 0),t._RF.push({},"4227bYQTFFOYb3+qzJ9yRmP","Config",void 0);var o,a,i=e("BundleType",function(e){return e[e.resources=0]="resources",e[e.moneyComing=1]="moneyComing",e[e.eliminate=2]="eliminate",e[e.hall=3]="hall",e[e.loadTest=4]="loadTest",e[e.netTest=5]="netTest",e[e.nodePoolTest=6]="nodePoolTest",e[e.tankBattle=7]="tankBattle",e[e.taxi=8]="taxi",e[e.qrcode=9]="qrcode",e[e.stateMachine=10]="stateMachine",e[e.multiLogic=11]="multiLogic",e[e.snapshot=12]="snapshot",e[e.changeOrientation=13]="changeOrientation",e[e.l10nTest=14]="l10nTest",e[e.eventTest=15]="eventTest",e}({})),s=function(e){return e[e.resources=0]="resources",e[e.hall=1]="hall",e[e.moneyComing=2]="moneyComing",e[e.eliminate=3]="eliminate",e[e.loadTest=4]="loadTest",e[e.taxi=5]="taxi",e[e.netTest=6]="netTest",e[e.nodePoolTest=7]="nodePoolTest",e[e.tankBattle=8]="tankBattle",e[e.stateMachine=9]="stateMachine",e[e.qrcode=10]="qrcode",e[e.multiLogic=11]="multiLogic",e[e.snapshot=12]="snapshot",e[e.changeOrientation=13]="changeOrientation",e[e.l10nTest=14]="l10nTest",e[e.eventTest=15]="eventTest",e[e.private=16]="private",e}(s||{}),l=n(i),r=e("ViewZOrder",function(e){return e[e.Default=0]="Default",e[e.Horn=1]="Horn",e[e.UI=2]="UI",e[e.Tips=3]="Tips",e[e.Alert=4]="Alert",e[e.Loading=5]="Loading",e[e.UILoading=6]="UILoading",e[e.Debug=7]="Debug",e}({}));(a=o||(o=e("Config",{}))).isShowDebugButton=!1,a.audioPath={dialog:"common/audio/dlg_open",button:"common/audio/btn_click"},a.isSkipUpdate=!1,a.HOT_UPDATE_URL="http://192.168.43.8/hotupdate387",a.USE_AUTO_VERSION=!0,a.LOADING_TIME_OUT=30,a.LOADING_CONTENT_CHANGE_INTERVAL=3,a.LOAD_VIEW_TIME_OUT=20,a.LOAD_VIEW_DELAY=.1,a.RECONNECT_TIME_OUT=30,a.MAX_INBACKGROUND_TIME=60,a.MIN_INBACKGROUND_TIME=5,a.BUNDLES=[{sort:s.moneyComing,type:i.moneyComing,name:{CN:"财神到",EN:"Money Coming"},bundle:l[i.moneyComing]},{sort:s.loadTest,type:i.loadTest,name:{CN:"加载示例",EN:"Load Test"},bundle:l[i.loadTest]},{sort:s.netTest,type:i.netTest,name:{CN:"网络示例",EN:"Net Test"},bundle:l[i.netTest]},{sort:s.nodePoolTest,type:i.nodePoolTest,name:{CN:"对象池示例",EN:"Node Pool"},bundle:l[i.nodePoolTest]},{sort:s.tankBattle,type:i.tankBattle,name:{CN:"坦克大战",EN:"BATTLE\nCITY"},bundle:l[i.tankBattle]},{sort:s.taxi,type:i.taxi,name:{CN:"快上车",EN:"Taxi"},bundle:l[i.taxi]},{sort:s.resources,type:i.resources,name:{CN:"主包",EN:"Main"},bundle:l[i.resources]},{sort:s.hall,type:i.hall,name:{CN:"大厅",EN:"Hall"},bundle:l[i.hall]},{sort:s.qrcode,type:i.qrcode,name:{CN:"二维码",EN:"QR Code"},bundle:l[i.qrcode]},{sort:s.stateMachine,type:i.stateMachine,name:{CN:"状态机",EN:"State\nMachine"},bundle:l[i.stateMachine]},{sort:s.multiLogic,type:i.multiLogic,name:{CN:"Multi Logic",EN:"Multi Logic"},bundle:l[i.multiLogic]},{sort:s.snapshot,type:i.snapshot,name:{CN:"截图",EN:"Snapshot"},bundle:l[i.snapshot]},{sort:s.changeOrientation,type:i.changeOrientation,name:{CN:"横竖屏切换",EN:"Change\nOrientation"},bundle:l[i.changeOrientation]},{sort:s.eventTest,type:i.eventTest,name:{CN:"事件测试",EN:"Event Test"},bundle:l[i.eventTest]}],a.LAYERS=n(r),a.SHOW_STATUS=!0;e("NetPriority",function(e){return e[e.Game=0]="Game",e[e.Chat=1]="Chat",e[e.Lobby=2]="Lobby",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/DataCenter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonT.ts"],(function(t){var n,e,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){o=t.SingletonT}],execute:function(){e._RF.push({},"39dddWDYJJE9aqb6DTOKM/X","DataCenter",void 0),t("DataCenter",function(t){function e(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(n=t.call.apply(t,[this].concat(o))||this).module=null,n}return n(e,t),e.prototype.onDestroy=function(t){this._datas.forEach((function(n){n.onDestroy(t)}))},e}(o)).module="【数据中心】",e._RF.pop()}}}));

System.register("chunks:///_virtual/DebugView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts","./Decorators.ts","./Enums.ts","./Macros.ts","./Singleton.ts","./BundleDebugView.ts","./Config.ts"],(function(e){var n,t,o,i,r,a,g,u,l,s,c,d,h,p,f,b,w,v,L,S,D,E,m;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,g=e._decorator,u=e.Node,l=e.instantiate,s=e.find,c=e.Label,d=e.Input,h=e.profiler,p=e.screen,f=e.view,b=e.Toggle},function(e){w=e.default},function(e){v=e.inject},function(e){L=e.LogLevel},function(e){S=e.Macro},function(e){D=e.Singleton},function(e){E=e.BundleDebugView},function(e){m=e.ViewZOrder}],execute:function(){var x,y,C,M,V,A,z,P,B,R,U,N,k,I,H;a._RF.push({},"bdd324XQYlLbq4LbFeMUaSA","DebugView",void 0);var T=g.ccclass;g.property,e("DebugView",(x=T("DebugView"),y=v("logView",u),C=v("content",u),M=v("item",u,"content"),V=v("background",u),A=v("background",u,"logView"),z=v("closeDebug",u),x((R=n((B=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,o(n,"logView",R,i(n)),o(n,"content",U,i(n)),o(n,"itemPrefab",N,i(n)),o(n,"background",k,i(n)),o(n,"logViewBackground",I,i(n)),o(n,"closeDebug",H,i(n)),n}t(n,e),n.getPrefabUrl=function(){return"common/prefabs/DebugView"};var a=n.prototype;return a.initData=function(){var e=this,n=this.config;this.content.removeAllChildren(),n.forEach((function(n,t){var o=l(e.itemPrefab);o.name="debug"+t,s("Label",o).getComponent(c).string=n.text,e.onN(o,u.EventType.TOUCH_END,n.onEvent),e.content.addChild(o)}))},a.onLoad=function(){e.prototype.onLoad.call(this),this.itemPrefab.removeFromParent(),this.initData(),this.doOther()},a.doOther=function(){var e=this;this.logView&&(this.logView.active=!1,this.initLogView()),this.onN(this.background,d.EventType.TOUCH_END,(function(){e.args.onClose&&e.args.onClose(),e.close()})),this.onN(this.closeDebug,d.EventType.TOUCH_END,(function(){e.close(),e.args.onCloseDebug&&e.args.onCloseDebug()}))},a.onClose=function(){var n=this.args;n&&n.onClose&&n.onClose(),e.prototype.onClose.call(this)},a.initLogView=function(){var e=this;this.onN(this.logViewBackground,d.EventType.TOUCH_END,(function(){e.logView.active=!1}));var n=s("level",this.logView);if(n)for(var t=function(t){var o=s("type"+t,n);if(o){var i=o.getComponent(b);i&&(i.isChecked=App.logger.isValid(e.getLogLevel(t))),e.onN(o,"toggle",(function(n){n.isChecked?App.logger.attach(e.getLogLevel(t)):App.logger.detach(e.getLogLevel(t)),e.testLog()}))}},o=0;o<n.children.length-1;o++)t(o)},a.getLogLevel=function(e){switch(e){case 0:return L.DEBUG;case 1:return L.WARN;case 2:return L.ERROR;case 3:return L.DUMP;default:return L.DEBUG}},a.testLog=function(){Log.d("测试 debug"),Log.w("测试 warn"),Log.e("测试 error"),Log.dump({name:"测试dump",value:666},"dump")},a.onLogicManager=function(){App.logicManager.debug()},a.onDataCenter=function(){App.dataCenter.debug()},a.onEntry=function(){App.entryManager.debug()},a.onProto=function(){App.protoManager.debug()},a.onBundleMgr=function(){App.bundleManager.debug()},a.onPool=function(){App.pool.debug()},a.onLog=function(){this.logView.active=!0},a.onShowDebugInfo=function(){h.isShowingStats()?h.hideStats():h.showStats(),App.storage.setItem(S.SHOW_DEBUG_INFO_KEY,h.isShowingStats())},a.onShowUI=function(){App.uiManager.debug()},a.onShowNode=function(){App.layerMgr.debug({showChildren:!0})},a.onShowRes=function(){App.cache.debug()},a.onShowComp=function(){App.layerMgr.debug({showComp:!0})},a.onHandler=function(){App.handlerManager.debug()},a.onServiceManager=function(){App.serviceManager.debug()},a.onHotUpdate=function(){App.updateManager.debug()},a.onLowMemory=function(){App.onLowMemory()},a.onReleaseManager=function(){App.releaseManger.debug()},a.onAdaptor=function(){Log.d("-----------------------------适配信息-----------------------------------------------"),Log.d("屏幕分辨率: "+p.windowSize.width+" x "+p.windowSize.height),Log.d("视图窗口可见区域分辨率: "+f.getVisibleSize().width+" x "+f.getVisibleSize().height),Log.d("视图中边框尺寸: "+p.windowSize.width+" x "+p.windowSize.height),Log.d("设备或浏览器像素比例: "+p.devicePixelRatio),Log.d("返回视图窗口可见区域像素尺寸: "+f.getVisibleSizeInPixel().width+" x "+f.getVisibleSizeInPixel().height),Log.d("当前场景设计分辨率: "+f.getDesignResolutionSize().width+" x "+f.getDesignResolutionSize().height);var e=p.windowSize.width/p.windowSize.height,n=f.getDesignResolutionSize().width/f.getDesignResolutionSize().height;Log.d("视图宽高比:"+e),Log.d("设置分辨率宽高比:"+n)},a.onSingleton=function(){D.debug()},a.onBundleDebug=function(){var e=this;setTimeout((function(){e.node.active=!1,App.uiManager.open({type:E,zIndex:m.Debug,args:{onClose:function(){e.node.active=!0,e.close()}}})}),100)},r(n,[{key:"config",get:function(){return[{text:"显示视图",onEvent:this.onShowUI},{text:"显示节点",onEvent:this.onShowNode},{text:"资源缓存",onEvent:this.onShowRes},{text:"显示组件",onEvent:this.onShowComp},{text:"调试信息",onEvent:this.onShowDebugInfo},{text:"日志",onEvent:this.onLog},{text:"逻辑管理器",onEvent:this.onLogicManager},{text:"数据中心",onEvent:this.onDataCenter},{text:"Bundle入口",onEvent:this.onEntry},{text:"Proto信息",onEvent:this.onProto},{text:"Bundle管理器",onEvent:this.onBundleMgr},{text:"节点缓存池",onEvent:this.onPool},{text:"Handlers",onEvent:this.onHandler},{text:"网络管理器",onEvent:this.onServiceManager},{text:"热更新",onEvent:this.onHotUpdate},{text:"内存警告模拟",onEvent:this.onLowMemory},{text:"释放管理器",onEvent:this.onReleaseManager},{text:"适配器",onEvent:this.onAdaptor},{text:"当前单例",onEvent:this.onSingleton},{text:"Bundle调试",onEvent:this.onBundleDebug}]}}]),n}(w)).prototype,"logView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(B.prototype,"content",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=n(B.prototype,"itemPrefab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(B.prototype,"background",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(B.prototype,"logViewBackground",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(B.prototype,"closeDebug",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=B))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/Decorators.ts",["cc","./Singleton.ts"],(function(e){var t,r,n,o,a,i,p;return{setters:[function(e){t=e.cclegacy,r=e.Component,n=e.isValid,o=e.find,a=e.js,i=e.Node},function(e){p=e.Singleton}],execute:function(){e({inject:function(){if("string"==typeof arguments[0]){var e=arguments[0],t=arguments[1],r=void 0;return arguments.length>=3&&(r=arguments[2]),l(e,t,r)}var n=arguments[0];return u(n.type,n.name)},registerEntry:function(e,t,r){return function(n){if("object"==typeof App)n.__classname__=e,n.bundle=t,App.entryManager.register(n,r);else{"undefined"==typeof WaitToApp&&(WaitToApp={},window.WaitToApp=WaitToApp),WaitToApp.entrys||(WaitToApp.entrys={});var o=e+"|"+t;WaitToApp.entrys[o]||(WaitToApp.entrys[o]={target:n,type:r})}}},toApp:function(){"object"==typeof WaitToApp&&"object"==typeof WaitToApp.entrys&&Object.keys(WaitToApp.entrys).forEach((function(e){var t=e.split("|"),r=t[0],n=t[1],o=WaitToApp.entrys[e],a=o.target,i=o.type;a.__classname__=r,a.bundle=n,App.entryManager.register(a,i)}))}}),t._RF.push({},"79becuRyZJMkYDHY8CyWds7","Decorators",void 0);var f="_FIND_OPTIONS_";function c(e,t,n){var i=o(e,t);return a.isChildClassOf(n,r)?null==i?void 0:i.getComponent(n):i}function l(e,t,o){return function(a,p){if(a instanceof r){var l=a;if(!Reflect.has(a,f)){var s=l.onLoad;l.onLoad=function(){var e=this,t=Reflect.get(e,f),r=function(r){var o=Reflect.get(t,r);Reflect.get(e,o.member)||Reflect.defineProperty(e,o.member,{enumerable:!0,configurable:!0,get:function(){var t=e.node;if(o.root){var a="__"+o.root.replace(/\//g,"_");n(e[a])||(e[a]=c(o.root,t,i)),t=e[a]}return n(e[r])||(e[r]=c(o.path,t,o.type)),e[r]},set:function(t){e[r]=t}})};for(var o in t)r(o);s&&Reflect.apply(s,this,arguments)};var u=l.onDestroy;l.onDestroy=function(){var e=this,t=Reflect.get(e,f);for(var r in t){var n=Reflect.get(t,r);Reflect.deleteProperty(e,n.member)}u&&Reflect.apply(u,this,arguments)},Reflect.defineProperty(a,f,{value:{}})}var g={path:e,type:t,member:p,root:o},y="__"+p,v=Reflect.get(a,f);Reflect.defineProperty(v,y,{value:g,enumerable:!0})}else Log.e("无法注入,仅支持 Component 组件")}}var s="__MEMBER_INJECT__";function u(e,t){return function(r,n){var o=r,a=o.onLoad;if(a){if(!Reflect.has(r,s)){o.onLoad=function(){var e=this,t=Reflect.get(e,s),r=function(){var r=Reflect.get(t,n);Reflect.get(e,r.member)||Reflect.defineProperty(e,r.member,{enumerable:!0,configurable:!0,get:function(){return"logic"==r.tag?App.logicManager.get(r.type,!1):"singleton"==r.tag?p.get(r.type,!1):"data"==r.tag?App.dataCenter.get(r.type,!1):"service"==r.tag?App.serviceManager.get(r.type,!1):"handler"==r.tag?App.handlerManager.get(r.type,!1):null}})};for(var n in t)r();a&&Reflect.apply(a,this,arguments)};var i=o.onDestroy;o.onDestroy=function(){var e=this,t=Reflect.get(e,s);for(var r in t){var n=Reflect.get(t,r);Reflect.deleteProperty(e,n.member)}i&&Reflect.apply(i,this,arguments)},Reflect.defineProperty(r,s,{value:{}})}var f={type:e,member:n,tag:t},c="__member_inject_"+n,l=Reflect.get(r,s);Reflect.defineProperty(l,c,{value:f,enumerable:!0})}else Log.e("无法注入")}}t._RF.pop()}}}));

System.register("chunks:///_virtual/Dispatcher.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,a;return{setters:[function(e){t=e.createClass,r=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){a=e.cclegacy}],execute:function(){a._RF.push({},"82b2bGzpDlKYpAzukovUhGW","Dispatcher",void 0);var c=e("Dispatcher",function(){function e(){this._eventCaches=null,this.isResident=!0,this.module=null,this._eventCaches={}}var a=e.prototype;return a.destory=function(){e._instance=null},a.onDestroy=function(e){this.clear()},a.clear=function(){this._eventCaches={}},a.add=function(e,t,r,n){if(void 0===n&&(n={}),e&&t&&r){for(var a=this._eventCaches[e]||[],c=!1,s=0;s<a.length;s++)if(a[s].target===r){c=!0;break}if(!c){var i={type:e,callback:t,target:r,once:n.once,sort:null==n.sort?0:n.sort};a.push(i),a.sort((function(e,t){return t.sort-e.sort})),this._eventCaches[e]=a}}},a.remove=function(e,t){if(e&&t){var r=this._eventCaches[e];if(r){for(var n=0;n<r.length;n++)if(r[n].target===t){r.splice(n,1);break}0==r.length&&delete this._eventCaches[e]}}},a.dispatch=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(!(t.length<1)){var n=t[0];if(n){var a=t.slice(1),c=this._eventCaches[n];if(c){for(var s=[],i={isStop:!1,result:void 0},o=0;o<c.length;o++){var l=c[o];try{if("object"==typeof Reflect?i.result=Reflect.apply(l.callback,l.target,[i].concat(a)):i.result=l.callback.apply(l.target,[i].concat(a)),l.once&&s.push(l),i.isStop)break}catch(e){Log.e(e)}}for(var p=0;p<s.length;p++){var u=s[p];this.remove(u.type,u.target)}return i.result}}}},a.dispatchAsync=function(){var e=r(n().mark((function e(){var t,r,a,c,s,i,o,l,p,u,h,f,v=arguments;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=v.length,r=new Array(t),a=0;a<t;a++)r[a]=v[a];if(!(r.length<1)){e.next=3;break}return e.abrupt("return",void 0);case 3:if(c=r[0]){e.next=6;break}return e.abrupt("return",void 0);case 6:if(s=r.slice(1),i=this._eventCaches[c]){e.next=10;break}return e.abrupt("return");case 10:o=[],l={isStop:!1,result:void 0},p=0;case 13:if(!(p<i.length)){e.next=32;break}if(u=i[p],e.prev=15,"object"==typeof Reflect?l.result=Reflect.apply(u.callback,u.target,[l].concat(s)):l.result=u.callback.apply(u.target,[l].concat(s)),!(l.result instanceof Promise)){e.next=21;break}return e.next=20,l.result;case 20:l.result=e.sent;case 21:if(u.once&&o.push(u),!l.isStop){e.next=24;break}return e.abrupt("break",32);case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(15),Log.e(e.t0);case 29:p++,e.next=13;break;case 32:for(h=0;h<o.length;h++)f=o[h],this.remove(f.type,f.target);return e.abrupt("return",l.result);case 34:case"end":return e.stop()}}),e,this,[[15,26]])})));return function(){return e.apply(this,arguments)}}(),t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e)}}]),e}());c._instance=null,c.module="【事件管理器】",window.dispatch=function(){return App?Reflect.apply(App.dispatcher.dispatch,App.dispatcher,arguments):Reflect.apply(c.instance.dispatch,c.instance,arguments)},window.dispatchAsync=function(){return App?Reflect.apply(App.dispatcher.dispatchAsync,App.dispatcher,arguments):Reflect.apply(c.instance.dispatchAsync,c.instance,arguments)},a._RF.pop()}}}));

System.register("chunks:///_virtual/Entry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceLoader.ts","./Update.ts"],(function(e){var n,t,i,a;return{setters:[function(e){n=e.createClass},function(e){t=e.cclegacy},function(e){i=e.default},function(e){a=e.Update}],execute:function(){t._RF.push({},"5aaf2lBMtdMrrl2N8Y5zFqB","Entry",void 0);e("EntryData",function(){function e(e){this.data=null,this.update=null,this.data=e,this.update=new a.Config(this.getLanguage(e.bundle),e.bundle)}return e.prototype.getLanguage=function(e){return"bundles."+e},n(e,[{key:"bundle",get:function(){return this.data.bundle}},{key:"language",get:function(){return this.update.name}},{key:"name",get:function(){return this.data.name}}]),e}());e("Entry",function(){function e(){this.gameViewType=null,this.isMain=!1,this.bundle="",this.language=null,this.loader=null,this.node=null,this.isRunning=!1,this._gameView=null,this.loader=new i}var t=e.prototype;return t.onLoad=function(e){this.node=e,this.isRunning=!0},t.onDestroy=function(){this.isRunning=!1},t.onEnter=function(e){var n=this;App.language.addDelegate(this.language),this.initData(),this.addNetHandler(),this.pauseMessageQueue(),this.loadResources((function(){e&&e.isPreload?n.onPreload():n.onStartGameView(e)}))},t.onPreload=function(){},t.onStartGameView=function(e){this.openGameView(e)},t.onUnloadBundle=function(){App.uiManager.closeBundleView(this.bundle),this.removeNetHandler(),this.unloadResources()},t.unloadResources=function(){this.loader.unLoadResources()},t.openGameView=function(e){App.uiManager.open({type:this.gameViewType,bundle:this.bundle,args:e})},t.closeGameView=function(){App.uiManager.close(this.gameViewType)},t.call=function(e,n){},t.onEnterGameView=function(e){this._gameView=e},t.onDestroyGameView=function(e){App.language.removeDelegate(this.language),this._gameView=null},t.onShowGameView=function(e){this._gameView=e},t.onCloseGameView=function(e){this._gameView=null},t.onMainUpdateComplete=function(e){},n(e,[{key:"gameView",get:function(){return this._gameView},set:function(e){this._gameView=e}}]),e}()).bundle="",t._RF.pop()}}}));

System.register("chunks:///_virtual/EntryDelegate.ts",["cc","./Macros.ts"],(function(e){var t,a,n;return{setters:[function(e){t=e.cclegacy,a=e.isValid},function(e){n=e.Macro}],execute:function(){t._RF.push({},"7195eD0dxVOmIS0HcmWhEaq","EntryDelegate",void 0);e("EntryDelegate",function(){function e(){}var t=e.prototype;return t.unloadAttachBundle=function(e){var t=this.getPersistBundle();t.push(App.stageData.where),t.push.apply(t,App.stageData.excludeAttachWhere),App.bundleManager.removeLoadedBundle(t);var a=App.stageData.prevAttachWhere;return a?App.stageData.attachWhere=a:App.stageData.clearAttachStack(),a},t.onEnterGameView=function(e,t){},t.closeCurEntryGameView=function(){var e=App.entryManager.getEntry(App.stageData.where);e&&a(e.gameView)&&e.gameView.close()},t.onShowGameView=function(e,t){var n=a(t)&&t.args&&t.args.isAttach,r=this.getPersistBundle();if(e&&(r.push(e.bundle),n&&(r.push.apply(r,App.stageData.attachs),r.push(App.stageData.where))),App.stageData.where!==e.bundle){if(n){if(e.bundle==App.stageData.attachWhere)return;App.stageData.attachWhere=e.bundle}else this.closeCurEntryGameView(),App.stageData.clearAttachStack(),App.stageData.where=e.bundle;App.bundleManager.removeLoadedBundle(r)}},t.onCheckUpdate=function(){Log.d("主包检测更新");var e=this.getEntryConfig(n.BUNDLE_RESOURCES);App.bundleManager.enterBundle(e)},t.getPersistBundle=function(){return[n.BUNDLE_RESOURCES]},t.onEnterMain=function(e,t){e&&(this.closeCurEntryGameView(),e.onEnter(t))},t.getEntryConfig=function(e){return null},t.onMainUpdateComplete=function(e,t){e&&e.onMainUpdateComplete(t)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/EntryImpl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EntryDelegate.ts","./Macros.ts","./Singleton.ts","./BundleUpdate.ts","./HallUpdate.ts","./MainUpdate.ts"],(function(t){var n,e,r,o,a,i,u,l;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.EntryDelegate},function(t){o=t.Macro},function(t){a=t.Singleton},function(t){i=t.BundleUpdate},function(t){u=t.HallUpdate},function(t){l=t.MainUpdate}],execute:function(){e._RF.push({},"db279dsL0xIGIRItaz3wuPV","EntryImpl",void 0);t("EntryImpl",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var r=e.prototype;return r.onEnterGameView=function(t,n){},r.onShowGameView=function(n,e){t.prototype.onShowGameView.call(this,n,e),App.loading.hide()},r.getEntryConfig=function(t){var n=App.stageData.getEntry(t);if(n){var e=App.updateManager.getItem(n);return t==o.BUNDLE_RESOURCES?e.handler=a.get(l):t==o.BUNDLE_HALL?e.handler=a.get(u):e.handler=a.get(i),e}return Log.e("未找到入口配置信息"),null},r.getPersistBundle=function(){return[o.BUNDLE_RESOURCES,o.BUNDLE_HALL]},e}(r));e._RF.pop()}}}));

System.register("chunks:///_virtual/EntryManager.ts",["cc","./EntryDelegate.ts","./Macros.ts"],(function(e){var n,t,a;return{setters:[function(e){n=e.cclegacy},function(e){t=e.EntryDelegate},function(e){a=e.Macro}],execute:function(){n._RF.push({},"654eacHc69Fm50EILZ/ggOz","EntryManager",void 0),e("EntryManager",function(){function e(){this.module=null,this.isResident=!0,this._entrys=new Map,this.delegate=new t,this.node=null}var n=e.prototype;return n.register=function(e,n){var t=this.getEntry(e.bundle);t&&this._entrys.delete(e.bundle),(t=new e).bundle=e.bundle,t.gameViewType=n,this._entrys.set(t.bundle,t),this.node&&t.onLoad(this.node)},n.onLoad=function(e){var n=this;this.node=e,this._entrys.forEach((function(e,t){e.isRunning||(e.onLoad(n.node),e.isMain&&e.onEnter())}))},n.onDestroy=function(e){this._entrys.forEach((function(e){e.onDestroy()}))},n.onCheckUpdate=function(){this.delegate.onCheckUpdate()},n.call=function(e,n){var t=this.getEntry(e);if(t){for(var a=arguments.length,o=new Array(a>2?a-2:0),i=2;i<a;i++)o[i-2]=arguments[i];t.call(n,o)}},n.enterBundle=function(e,n){var t=this.delegate.getEntryConfig(e);if(t)if(e==a.BUNDLE_RESOURCES){var o=this.getEntry(e);this.delegate.onEnterMain(o,n)}else t.userData=n,App.bundleManager.enterBundle(t)},n.backBundle=function(e){var n=App.stageData.attachWhere;if(n!=a.UNKNOWN){var t=this.delegate.unloadAttachBundle(n);return t?((e=e||{}).isAttach=!0,void this.enterBundle(t,e)):(Log.d(this.module+"已经是最后一个附加场景，返回当前运行的场景"),void this.enterBundle(App.stageData.where,e))}var o=App.stageData.prevWhere;o?this.enterBundle(o,e):Log.d(this.module+"已经是最后一个场景，无法返回")},n.onLoadBundleComplete=function(e){e.isLoaded=!0;var n=this.getEntry(e.bundle);n&&n.onEnter(e.userData)},n.onEnterGameView=function(e,n){var t=this.getEntry(e);t&&(this.delegate.onEnterGameView(t,n),t.onEnterGameView(n))},n.onDestroyGameView=function(e,n){var t=this.getEntry(e);t&&t.onDestroyGameView(n)},n.onShowGameView=function(e,n){var t=this.getEntry(e);t&&(this.delegate.onShowGameView(t,n),t.onShowGameView(n))},n.onCloseGameView=function(e,n){var t=this.getEntry(e);t&&t.onCloseGameView(n)},n.onUnloadBundle=function(e){var n=this.getEntry(e);n&&n.onUnloadBundle()},n.onMainUpdateComplete=function(e){var n=this.getEntry(a.BUNDLE_RESOURCES);this.delegate.onMainUpdateComplete(n,e)},n.getEntry=function(e){var n=App.bundleManager.getBundleName(e),t=this._entrys.get(n);return t||null},n.debug=function(){Log.d("-------Bundle入口管理器-------"),this._entrys.forEach((function(e){Log.d("bundle : "+e.bundle)}))},e}()).module="【入口管理器】",n._RF.pop()}}}));

System.register("chunks:///_virtual/Enums.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"c707eh19D1BR5w4mqFeKK/+","Enums",void 0);e("LogLevel",function(e){return e[e.OFF=0]="OFF",e[e.DEBUG=1]="DEBUG",e[e.DUMP=16]="DUMP",e[e.WARN=256]="WARN",e[e.ERROR=4096]="ERROR",e[e.ALL=4369]="ALL",e}({})),e("ViewStatus",function(e){return e[e.WAITTING_CLOSE=0]="WAITTING_CLOSE",e[e.WATITING_HIDE=1]="WATITING_HIDE",e[e.WAITTING_NONE=2]="WAITTING_NONE",e}({})),e("ButtonSpriteType",function(e){return e.Norml="normalSprite",e.Pressed="pressedSprite",e.Hover="hoverSprite",e.Disable="disabledSprite",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/EventComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventProcessor.ts"],(function(t){var n,o,e,i,r;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t._decorator,i=t.Component},function(t){r=t.EventProcessor}],execute:function(){var c;o._RF.push({},"9cde5GFThVAMr5vKTrRR3M4","EventComponent",void 0);var s=e.ccclass;e.property,t("default",s("EventComponent")(c=function(t){function o(){for(var n,o=arguments.length,e=new Array(o),i=0;i<o;i++)e[i]=arguments[i];return(n=t.call.apply(t,[this].concat(e))||this)._eventProcessor=new r,n}n(o,t);var e=o.prototype;return e.on=function(t){null==t.forceBindTarget&&(t.forceBindTarget=!0),t.forceBindTarget&&!t.target&&(t.target=this),this._eventProcessor.on(t)},e.once=function(t){null==t.forceBindTarget&&(t.forceBindTarget=!0),t.forceBindTarget&&!t.target&&(t.target=this),this._eventProcessor.once(t)},e.off=function(t){null==t.forceBindTarget&&(t.forceBindTarget=!0),t.forceBindTarget&&!t.target&&(t.target=this),this._eventProcessor.off(t)},e.onD=function(t,n,o){this.on({bind:"Dispatcher",type:t,cb:n,sort:o})},e.onceD=function(t,n,o){this.once({bind:"Dispatcher",type:t,cb:n,sort:o})},e.offD=function(t){this.off({bind:"Dispatcher",type:t})},e.onG=function(t,n){this.on({bind:"Game",type:t,cb:n})},e.onceG=function(t,n){this.once({bind:"Game",type:t,cb:n})},e.offG=function(t,n){this.off({bind:"Game",type:t,cb:n})},e.onI=function(t,n){this.on({bind:"Input",type:t,cb:n})},e.onceI=function(t,n){this.once({bind:"Input",type:t,cb:n})},e.offI=function(t,n){this.off({bind:"Input",type:t,cb:n})},e.onN=function(t,n,o,e){this.on({bind:"Node",type:n,cb:o,target:null==e?void 0:e.target,nodeOptions:e,node:t})},e.onceN=function(t,n,o,e){this.once({bind:"Node",type:n,cb:o,target:null==e?void 0:e.target,nodeOptions:e,node:t})},e.offN=function(t,n,o,e){this.off({bind:"Node",type:n,cb:o,target:null==e?void 0:e.target,nodeOptions:e,node:t})},e.onH=function(t,n,o,e,i){this.on({bind:"EventHandler",type:n,cb:o,comp:t,target:e,handlerOptions:i,forceBindTarget:!1})},e.offH=function(t,n,o,e,i){this.off({bind:"EventHandler",type:n,cb:o,comp:t,target:e,handlerOptions:i,forceBindTarget:!1})},e.addEvents=function(){},e.onLoad=function(){t.prototype.onLoad&&t.prototype.onLoad.call(this),this.addEvents()},e.onDestroy=function(){this._eventProcessor.onDestroy(),this.node.targetOff(this),t.prototype.onDestroy&&t.prototype.onDestroy.call(this)},o}(i))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/EventProcessor.ts",["cc","./QuickEvent.ts"],(function(t){var e,n,o,a,c,i,s;return{setters:[function(t){e=t.cclegacy,n=t.game,o=t.input,a=t.isValid,c=t.Node,i=t.Component},function(t){s=t.QuickEvent}],execute:function(){e._RF.push({},"9b4a8lMol1JU4rkKbyLB54R","EventProcessor",void 0);t("EventProcessor",function(){function t(){this._eventsD=new Map,this._eventsG=[],this._eventsI=[]}var e=t.prototype;return e.onD=function(t,e,n){void 0===n&&(n=0),this.on({bind:"Dispatcher",type:t,cb:e,sort:n})},e.onceD=function(t,e,n){void 0===n&&(n=0),this.once({bind:"Dispatcher",type:t,cb:e,sort:n})},e.offD=function(t){this.off({bind:"Dispatcher",type:t})},e.onG=function(t,e){this.on({bind:"Game",type:t,cb:e})},e.onceG=function(t,e){this.once({bind:"Game",type:t,cb:e})},e.offG=function(t,e){this.off({bind:"Game",type:t,cb:e})},e.onI=function(t,e){this.on({bind:"Input",type:t,cb:e})},e.onceI=function(t,e){this.once({bind:"Input",type:t,cb:e})},e.offI=function(t,e){this.off({bind:"Input",type:t,cb:e})},e.onN=function(t,e,n,o){this.on({bind:"Node",type:e,cb:n,target:null==o?void 0:o.target,nodeOptions:o,node:t})},e.onceN=function(t,e,n,o){this.once({bind:"Node",type:e,cb:n,target:null==o?void 0:o.target,nodeOptions:o,node:t})},e.offN=function(t,e,n,o){this.off({bind:"Node",type:e,cb:n,target:null==o?void 0:o.target,nodeOptions:o,node:t})},e.onH=function(t,e,n,o,a){this.on({bind:"EventHandler",type:e,cb:n,comp:t,target:o,handlerOptions:a,forceBindTarget:!1})},e.offH=function(t,e,n,o,a){this.off({bind:"EventHandler",type:e,cb:n,comp:t,target:o,handlerOptions:a,forceBindTarget:!1})},e.addEvents=function(){},e.onLoad=function(){this.addEvents()},e.onDestroy=function(){this._cleanD(),this._cleanG(),this._cleanI(),this._cleanN(),this._cleanH()},e.on=function(t){switch(t.bind){case"Dispatcher":this._onD(t);break;case"Game":this._onG(t);break;case"Input":this._onI(t);break;case"Node":this._onN(t);break;case"EventHandler":this._onH(t);break;default:Log.e("on "+t.bind+" 未知事件类型")}},e.once=function(t){t.once=!0,this.on(t)},e.off=function(t){switch(t.bind){case"Dispatcher":this._offD(t);break;case"Game":this._offG(t);break;case"Input":this._offI(t);break;case"Node":this._offN(t);break;case"EventHandler":this._offH(t);break;default:Log.e("off "+t.bind+" 未知事件类型")}},e._onD=function(t){t.target||(t.target=this),this._eventsD.has(t.type)?Log.e(t.type+" 重复注册"):(App.dispatcher.add(t.type,t.cb,t.target,{once:t.once,sort:t.sort}),this._eventsD.set(t.type,t))},e._offD=function(t){t.target||(t.target=this),this._eventsD.has(t.type)&&(App.dispatcher.remove(t.type,t.target),this._eventsD.delete(t.type))},e._cleanD=function(){this._eventsD.forEach((function(t,e){App.dispatcher.remove(t.type,t.target)})),this._eventsD.clear()},e._onG=function(t){t.target||(t.target=this),n.hasEventListener(t.type,t.cb,t.target)||(n.on(t.type,t.cb,t.target,t.once),this._eventsG.push(t))},e._offG=function(t){t.target||(t.target=this),n.off(t.type,t.cb,t.target);for(var e=0;e<this._eventsG.length;e++){var o=this._eventsG[e];if(o.type==t.type&&o.cb==t.cb&&o.target==o.target){this._eventsG.splice(e,1);break}}},e._cleanG=function(){for(var t=0;t<this._eventsG.length;t++){var e=this._eventsG[t];n.off(e.type,e.cb,e.target)}this._eventsG=[]},e._onI=function(t){t.target||(t.target=this),this._has(this._eventsI,t)||(t.once?o.once(t.type,t.cb,t.target):o.on(t.type,t.cb,t.target),this._eventsI.push(t))},e._offI=function(t){t.target||(t.target=this),o.off(t.type,t.cb,t.target);for(var e=0;e<this._eventsI.length;e++){var n=this._eventsI[e];if(n.type==t.type&&n.cb==t.cb&&n.target==n.target){this._eventsI.splice(e,1);break}}},e._cleanI=function(){for(var t=0;t<this._eventsI.length;t++){var e=this._eventsI[t];o.off(e.type,e.cb,e.target)}this._eventsI=[]},e._onN=function(t){var e,n,o,i,s,r,u,p;(t.target||(t.target=this),a(t.node))&&(t.nodeOptions=t.nodeOptions||{},t.nodeOptions.playSound?t.once?t.type==c.EventType.TOUCH_START?(t.node.addTouchStartFunc=function(){var e;null!=(e=t.nodeOptions)&&e.playSoundFunc?t.nodeOptions.playSoundFunc():App.gAudio.playButton(),t.node.addTouchStartFunc=null,t.cb&&("object"==typeof Reflect?Reflect.apply(t.cb,t.target,[]):t.cb.apply(t.target,[]))},null==(e=t.node)||e.once(t.type,t.node.addTouchStartFunc,t.target,t.nodeOptions.useCapture)):(t.node.addTouchStartFunc=function(){var e;t.node.addTouchStartFunc=null,null!=(e=t.nodeOptions)&&e.playSoundFunc?t.nodeOptions.playSoundFunc():App.gAudio.playButton()},null==(n=t.node)||n.once(c.EventType.TOUCH_START,t.node.addTouchStartFunc,t.target,t.nodeOptions.useCapture),null==(o=t.node)||o.once(t.type,t.cb,t.target,t.nodeOptions.useCapture)):t.type==c.EventType.TOUCH_START?(t.node.addTouchStartFunc=function(){var e;null!=(e=t.nodeOptions)&&e.playSoundFunc?t.nodeOptions.playSoundFunc():App.gAudio.playButton(),t.cb&&("object"==typeof Reflect?Reflect.apply(t.cb,t.target,[]):t.cb.apply(t.target,[]))},null==(i=t.node)||i.on(t.type,t.node.addTouchStartFunc,t.target,t.nodeOptions.useCapture)):(t.node.addTouchStartFunc=function(){var e;null!=(e=t.nodeOptions)&&e.playSoundFunc?t.nodeOptions.playSoundFunc():App.gAudio.playButton()},null==(s=t.node)||s.on(c.EventType.TOUCH_START,t.node.addTouchStartFunc,t.target,t.nodeOptions.useCapture),null==(r=t.node)||r.on(t.type,t.cb,t.target,t.nodeOptions.useCapture)):t.once?null==(u=t.node)||u.once(t.type,t.cb,t.target,t.nodeOptions.useCapture):null==(p=t.node)||p.on(t.type,t.cb,t.target,t.nodeOptions.useCapture))},e._offN=function(t){var e,n,o,i;(t.target||(t.target=this),a(t.node))&&(t.nodeOptions=t.nodeOptions||{},t.node&&t.node.addTouchStartFunc?t.type==c.EventType.TOUCH_START?(null==(e=t.node)||e.off(c.EventType.TOUCH_START,t.node.addTouchStartFunc,t.target,t.nodeOptions.useCapture),t.node.addTouchStartFunc=null):(null==(n=t.node)||n.off(c.EventType.TOUCH_START,t.node.addTouchStartFunc,t.target,t.nodeOptions.useCapture),t.node.addTouchStartFunc=null,null==(o=t.node)||o.off(t.type,t.cb,t.target,t.nodeOptions.useCapture)):null==(i=t.node)||i.off(t.type,t.cb,t.target,t.nodeOptions.useCapture))},e._cleanN=function(){},e._onH=function(t){if(t.target&&t.target instanceof i&&a(t.comp)){var e=t.comp[""+t.type];s.addHandler(t,e)}},e._offH=function(t){if(t.target&&a(t.comp)){var e=t.comp[""+t.type];s.removeHandler(t,e)}},e._cleanH=function(){},e._has=function(t,e){for(var n=0;n<t.length;n++){var o=t[n];if(o.type==e.type&&o.cb==e.cb&&o.target==e.target)return!0}return!1},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Flow.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"f63b66NQnRCe5zS9QJGPkhU","Flow",void 0);e("Flow",function(){function e(e){void 0===e&&(e=!1),this.isUnique=!1,this.nodes=[],this.onError=null,this.isUnique=e}var r=e.prototype;return r.exec=function(){var e=n(t().mark((function e(n){var r,s;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n,s=0;case 2:if(!(s<this.nodes.length)){e.next=18;break}return e.prev=3,e.next=6,this.nodes[s](r);case 6:if(null!=(r=e.sent)){e.next=9;break}return e.abrupt("return",r);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(3),this.onError(e.t0,r,n),e.abrupt("return",void 0);case 15:s++,e.next=2;break;case 18:return e.abrupt("return",r);case 19:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(n){return e.apply(this,arguments)}}(),r.push=function(e){return this.isUnique&&(this.nodes=[]),this.nodes.push(e),e},r.remove=function(e){var n=this.nodes.indexOf(e);return n>=0&&this.nodes.splice(n,1),this.nodes},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/Framework.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Dispatcher.ts","./UIManager.ts","./LocalStorage.ts","./AssetManager.ts","./CacheManager.ts","./NodePoolManager.ts","./UpdateManager.ts","./BundleManager.ts","./CocosExtention.ts","./Language.ts","./Macros.ts","./ProtoManager.ts","./EntryManager.ts","./DataCenter.ts","./LogicManager.ts","./Logger.ts","./ServiceManager.ts","./ReleaseManager.ts","./HttpClient.ts","./Singleton.ts","./LayoutManager.ts","./HandlerManager.ts","./Utils.ts","./CanvasHelper.ts","./Platform.ts","./StageData.ts","./IAlert.ts","./ILoading.ts","./IUILoading.ts","./ITips.ts","./EntryImpl.ts","./AudioComponent.ts","./LayerManager.ts"],(function(e){var t,n,r,a,o,u,i,g,c,s,f,l,d,y,p,M,k,h,L,m,A,v,I,C,_,E,U,w,S,D,B,R,F,T,H,P;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,r=e.isValid},function(e){a=e.Dispatcher},function(e){o=e.UIManager},function(e){u=e.LocalStorage},function(e){i=e._AssetManager},function(e){g=e.CacheManager},function(e){c=e.NodePoolManager},function(e){s=e.UpdateManager},function(e){f=e.BundleManager},function(e){l=e.CocosExtentionInit},function(e){d=e.Language},function(e){y=e.Macro},function(e){p=e.ProtoManager},function(e){M=e.EntryManager},function(e){k=e.DataCenter},function(e){h=e.LogicManager},function(e){L=e.LoggerImpl},function(e){m=e.ServiceManager},function(e){A=e.ReleaseManager},function(e){v=e.HttpClient},function(e){I=e.Singleton},function(e){C=e.LayoutManager},function(e){_=e.HandlerManager},function(e){E=e.Utils},function(e){U=e.CanvasHelper},function(e){w=e.Platform},function(e){S=e.StageData},function(e){D=e.IAlert},function(e){B=e.ILoading},function(e){R=e.IUILoading},function(e){F=e.ITips},function(e){T=e.EntryImpl},function(e){H=e.default},function(e){P=e.default}],execute:function(){n._RF.push({},"1fa052sIW5GVb6Iw0KrOz1L","Framework",void 0);e("Framewok",function(){function e(){this._wssCacertUrl="",this._gAudio=null,this.updateTimer=0,this.updateInterval=1e3/60,this._enterBackgroundTime=0}var n=e.prototype;return n.getLanguage=function(e,t,n){void 0===t&&(t=[]),void 0===n&&(n=null),n||(n=y.BUNDLE_RESOURCES);var r=[];return r.push(""+y.USING_LAN_KEY+n+"."+e),r.push.apply(r,t),this.language.get(r)},n.init=function(){this.entryManager.delegate=new T,l()},n.onLowMemory=function(){this.releaseManger.onLowMemory()},n.onLoad=function(e){var t=this;App.layerMgr.onLoad(e),App.uiManager.onLoad(e),App.serviceManager.onLoad(),App.entryManager.onLoad(e),App.releaseManger.onLoad(e),this.updateTimer=setInterval((function(){I.onUpdate(e,t.updateInterval)}),this.updateInterval)},n.onDestroy=function(e){clearInterval(this.updateTimer),this._gAudio=null,I.onDestroy(e)},n.onEnterBackground=function(){this._enterBackgroundTime=Date.timeNow(),Log.d("[MainController]","onEnterBackground "+this._enterBackgroundTime),App.gAudio.onEnterBackground(),App.serviceManager.onEnterBackground()},n.onEnterForgeground=function(){var e=Date.timeNow(),t=e-this._enterBackgroundTime;Log.d("[MainController]","onEnterForgeground "+e+" background total time : "+t),App.gAudio.onEnterForgeground(t),App.serviceManager.onEnterForgeground(t)},t(e,[{key:"isCacheUI",get:function(){return!0}},{key:"Bundles",get:function(){return this.stageData.bundles}},{key:"layerMgr",get:function(){return I.get(P)}},{key:"stageData",get:function(){return I.get(S)}},{key:"isFullScreenAdaption",get:function(){return!0}},{key:"isLazyRelease",get:function(){return!0}},{key:"isAutoReleaseUnuseResources",get:function(){return!0}},{key:"autoReleaseUnuseResourcesTimeout",get:function(){return 300}},{key:"releaseManger",get:function(){return I.get(A)}},{key:"serviceManager",get:function(){return I.get(m)}},{key:"handlerManager",get:function(){return I.get(_)}},{key:"logger",get:function(){return I.get(L)}},{key:"logicManager",get:function(){return I.get(h)}},{key:"dataCenter",get:function(){return I.get(k)}},{key:"entryManager",get:function(){return I.get(M)}},{key:"utils",get:function(){return I.get(E)}},{key:"protoManager",get:function(){return I.get(p)}},{key:"bundleManager",get:function(){return I.get(f)}},{key:"updateManager",get:function(){return I.get(s)}},{key:"retainMemory",get:function(){return this.uiManager.retainMemory}},{key:"language",get:function(){return I.get(d)}},{key:"dispatcher",get:function(){return I.get(a)}},{key:"uiManager",get:function(){return I.get(o)}},{key:"localStorage",get:function(){return this.storage}},{key:"storage",get:function(){return I.get(u)}},{key:"assetManager",get:function(){return this.asset}},{key:"asset",get:function(){return I.get(i)}},{key:"cacheManager",get:function(){return this.cache}},{key:"cache",get:function(){return I.get(g)}},{key:"nodePoolManager",get:function(){return this.pool}},{key:"pool",get:function(){return I.get(c)}},{key:"http",get:function(){return I.get(v)}},{key:"layout",get:function(){return I.get(C)}},{key:"canvasHelper",get:function(){return I.get(U)}},{key:"platform",get:function(){return I.get(w)}},{key:"wssCacertUrl",get:function(){return this._wssCacertUrl},set:function(e){this._wssCacertUrl=e}},{key:"tips",get:function(){return I.get(F)}},{key:"uiLoading",get:function(){return I.get(R)}},{key:"alert",get:function(){return I.get(D)}},{key:"loading",get:function(){return I.get(B)}},{key:"updateLoading",get:function(){return I.get(B)}},{key:"uiReconnect",get:function(){return I.get(B)}},{key:"gAudio",get:function(){return this._gAudio||(this._gAudio=this.uiManager.addComponent(H),this._gAudio.isGlobal=!0),this._gAudio}},{key:"audio",get:function(){var e=this.stageData.where;if(e){var t=this.entryManager.getEntry(e);if(t&&r(t.gameView))return t.gameView.audioHelper}return null}},{key:"isShowStatus",get:function(){return!0}}]),e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/GameData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts"],(function(t){var e,n,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){o=t.Macro}],execute:function(){n._RF.push({},"8e673CIf65NRKDZgD9dNfXR","GameData",void 0),t("GameData",function(){function t(){this.module=""}var n=t.prototype;return n.init=function(){},n.destory=function(){},n.clear=function(){},n.debug=function(){Log.d(""+this.module)},n.onDestroy=function(t){this.clear()},n.getLanguage=function(t,e){return void 0===e&&(e=[]),App.getLanguage(t,e,this.module)},e(t,[{key:"debugConfig",get:function(){return[]}}]),t}()).module=o.UNKNOWN,n._RF.pop()}}}));

System.register("chunks:///_virtual/GameService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./CommonService.ts"],(function(e){var n,r,t,i;return{setters:[function(e){n=e.inheritsLoose},function(e){r=e.cclegacy},function(e){t=e.NetPriority},function(e){i=e.CommonService}],execute:function(){r._RF.push({},"ab9810xkgVJwY43X2UvWkHr","GameService",void 0),e("GameService",function(e){function r(){for(var n,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).priority=t.Game,n}return n(r,e),r}(i)).module="游戏",r._RF.pop()}}}));

System.register("chunks:///_virtual/GameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIView.ts"],(function(e){var t,n,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},function(e){i=e.default}],execute:function(){var r;n._RF.push({},"95d22Fw9QxKrKsNdNsPdF2g","GameView",void 0);var a=o.ccclass,s=(o.property,o.menu);e("default",a("GameView")(r=s("Quick公共组件/GameView")(r=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onLoad=function(){e.prototype.onLoad.call(this),this.onEnterGameView()},o.onShow=function(){App.entryManager.onShowGameView(this.bundle,this),e.prototype.onShow.call(this)},o.onEnterGameView=function(){App.entryManager.onEnterGameView(this.bundle,this)},o.enterBundle=function(e,t){App.entryManager.enterBundle(e,t)},o.backBundle=function(e){App.entryManager.backBundle(e)},o.onDestroy=function(){this.audioHelper&&this.audioHelper.stopAllEffects(),App.entryManager.onDestroyGameView(this.bundle,this),e.prototype.onDestroy.call(this)},o.onClose=function(){this.audioHelper&&this.audioHelper.stopAllEffects(),App.entryManager.onCloseGameView(this.bundle,this),e.prototype.onClose.call(this)},n}(i))||r)||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/GetCmdKey.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("GetCmdKey",(function(){for(var e="",t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(var u=0;u<r.length;u++)"number"!=typeof r[u]?e+=r[u]:e+=String(r[u]);return e})),t._RF.push({},"2095e9idlBLFYBU7OqoumWh","GetCmdKey",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/HallUpdate.ts",["cc","./Macros.ts"],(function(n){var e,a;return{setters:[function(n){e=n.cclegacy},function(n){a=n.Macro}],execute:function(){e._RF.push({},"56e0b/7E7ZLcZqTSB8fcghI","HallUpdate",void 0),n("HallUpdate",function(){function n(){this.module=null,this.isResident=!0}var e=n.prototype;return e.onNewVersionFund=function(n){n.doUpdate()},e.onUpdateFailed=function(n){var e=App.getLanguage("downloadFailed");App.alert.show({text:e,confirmCb:function(e){App.updateManager.dowonLoad(n)}}),App.updateLoading.hide()},e.onPreVersionFailed=function(n){var e=App.getLanguage("downloadFailed");App.alert.show({text:e,confirmCb:function(e){App.updateManager.dowonLoad(n)}}),App.updateLoading.hide()},e.onShowUpdating=function(n){App.updateLoading.show(App.getLanguage("loading"))},e.onOther=function(n){},e.onDownloading=function(n,e){App.updateLoading.updateProgress(e.progress)},e.onAreadyUpToData=function(n){App.bundleManager.loadBundle(n)},e.onStarCheckUpdate=function(n){App.updateLoading.show(App.getLanguage("loading"))},e.onStartLoadBundle=function(n){},e.onLoadBundleError=function(n,e){App.updateLoading.hide(),App.tips.show(App.getLanguage("loadFailed",[n.name]))},e.onLoadBundleComplete=function(n){App.updateLoading.hide(),App.entryManager.onLoadBundleComplete(n)},e.onLoadBundle=function(n){App.bundleManager.loadBundle(n)},e.onDownloadComplete=function(n){App.releaseManger.tryRemoveBundle(n.bundle),this.onLoadBundle(n)},e.onNeedRestartApp=function(n,e){var o=App.stageData.where;if(Log.d("重启游戏,当前位置 :"+o+",之前位置 : "+App.stageData.prevWhere),o==a.BUNDLE_RESOURCES)e(!0);else{var t=App.getLanguage("restartApp",[n.name]);App.alert.show({text:t,confirmCb:function(n){e(!1)}})}},n}()).module="【大厅热更新】",e._RF.pop()}}}));

System.register("chunks:///_virtual/Handler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventProcessor.ts","./Macros.ts"],(function(n){var e,t,r,o,s,u,i;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass,r=n.asyncToGenerator,o=n.regeneratorRuntime},function(n){s=n.cclegacy},function(n){u=n.EventProcessor},function(n){i=n.Macro}],execute:function(){s._RF.push({},"5e9ffPDWfxKL7ScegSeKBG6","Handler",void 0),n("Handler",function(n){function s(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this)._module=i.UNKNOWN,e}e(s,n);var u=s.prototype;return u.onS=function(n,e,t,r){void 0===r&&(r=!0);var o=this.service;o&&o.onS&&o.onS(n,e,t,r,this)},u.offS=function(n){var e=this.service;e&&e.offS&&e.offS(this,n)},u.send=function(){var n=r(o().mark((function n(e){var t;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=this.service)||!t.send){n.next=5;break}return n.next=4,t.send(e);case 4:return n.abrupt("return",n.sent);case 5:return n.abrupt("return",!1);case 7:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}(),u.sendAsync=function(){var n=r(o().mark((function n(e,t,r,s){var u;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===s&&(s=i.DEFAULT_RPC_TIEMEOUT),!(u=this.service)||!u.sendAsync){n.next=6;break}return n.next=5,u.sendAsync(e,t,r,s);case 5:return n.abrupt("return",n.sent);case 6:return n.abrupt("return",null);case 8:case"end":return n.stop()}}),n,this)})));return function(e,t,r,o){return n.apply(this,arguments)}}(),u.onDestroy=function(){this.offS(),n.prototype.onDestroy.call(this)},u.debug=function(){Log.d(this.module)},u.destory=function(){this.onDestroy()},u.init=function(){this.onLoad()},t(s,[{key:"module",get:function(){return this._module},set:function(n){this._module=n}}]),s}(u)).module=i.UNKNOWN,s._RF.pop()}}}));

System.register("chunks:///_virtual/HandlerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonT.ts"],(function(n){var e,t,r;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy},function(n){r=n.SingletonT}],execute:function(){t._RF.push({},"11e9a84A9hCHpeO57mkvw5P","HandlerManager",void 0),n("HandlerManager",function(n){function t(){for(var e,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))||this).module=null,e}return e(t,n),t.prototype.onDestroy=function(n){this.clear()},t}(r)).module="【Handler管理器】",t._RF.pop()}}}));

System.register("chunks:///_virtual/HeartbetBinary.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BinaryStreamMessage.ts","./CmdDefines.ts"],(function(t){var e,n,r,a,i,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){a=t.BinaryStreamHeartbeat},function(t){i=t.MainCmd,s=t.SUB_CMD_SYS}],execute:function(){r._RF.push({},"fad937gxhNAP5F5raDpetvK","HeartbetBinary",void 0);t("HeartbeatBinary",function(t){function r(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).mainCmd=i.CMD_SYS,e.subCmd=s.CMD_SYS_HEART,e}return e(r,t),n(r,[{key:"cmd",get:function(){return String(this.mainCmd)+String(this.subCmd)}}]),r}(a));r._RF.pop()}}}));

System.register("chunks:///_virtual/HeartbetJson.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonMessage.ts","./CmdDefines.ts"],(function(t){var n,e,s,r,i,a;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){s=t.cclegacy},function(t){r=t.JsonMessageHeartbeat},function(t){i=t.MainCmd,a=t.SUB_CMD_SYS}],execute:function(){s._RF.push({},"bf8fbqBBmlMgpCa176v8+Pq","HeartbetJson",void 0);t("HeartbeatJson",function(t){function s(){for(var n,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(n=t.call.apply(t,[this].concat(s))||this).buffer=null,n.mainCmd=i.CMD_SYS,n.subCmd=a.CMD_SYS_HEART,n}return n(s,t),e(s,[{key:"cmd",get:function(){return String(this.mainCmd)+String(this.subCmd)}}]),s}(r));s._RF.pop()}}}));

System.register("chunks:///_virtual/HeartbetProto.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ProtoMessage.ts","./CmdDefines.ts"],(function(t){var e,n,r,o,i,s;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){r=t.cclegacy},function(t){o=t.ProtoMessageHeartbeat},function(t){i=t.MainCmd,s=t.SUB_CMD_SYS}],execute:function(){r._RF.push({},"0e25fKD2o1MUJ8sXE3BJGwU","HeartbetProto",void 0);t("HeartbeatProto",function(t){function r(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).buffer=null,e.mainCmd=i.CMD_SYS,e.subCmd=s.CMD_SYS_HEART,e}e(r,t);var o=r.prototype;return o.encode=function(){return!0},o.decode=function(t){return!0},n(r,[{key:"cmd",get:function(){return String(this.mainCmd)+String(this.subCmd)}}]),r}(o));r._RF.pop()}}}));

System.register("chunks:///_virtual/HttpClient.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r;return{setters:[function(e){t=e.extends},function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"88b85LK3HND3agPP4yXVee/","HttpClient",void 0);var n=e("FetchResponse",function(){function e(){this.ok=!1,this.status=0,this.statusText="",this.url="",this.responseText=void 0,this.response=void 0}var t=e.prototype;return t.json=function(){return Promise.resolve(JSON.parse(this.responseText))},t.text=function(){return Promise.resolve(this.responseText)},t.arrayBuffer=function(){return Promise.resolve(this.response)},t.blob=function(){return Promise.resolve(this.response)},t.formData=function(){return Promise.resolve(this.response)},e}());e("HttpClient",function(){function e(){this.module=null,this._cache=new Map}var r=e.prototype;return r.onDestroy=function(e){this.clear()},r.clear=function(){var e=this,t=Date.now();this._cache.forEach((function(r,n){t-r.timestamp>r.cacheTime&&e._cache.delete(n)}))},r.convertParams=function(e,t){if(!t||0===Object.keys(t).length)return e;var r=t,n=Object.keys(r).filter((function(e){return null!==r[e]&&void 0!==r[e]})).map((function(e){var t=r[e];return t instanceof Object?encodeURIComponent(e)+"="+encodeURIComponent(JSON.stringify(t)):encodeURIComponent(e)+"="+encodeURIComponent(String(t))})).join("&"),s=e.includes("?")?"&":"?";return""+e+s+n},r.getCacheKey=function(e,t){return e+":"+(t.params?JSON.stringify(t.params):"")+":"+(t.method||"GET")},r.fetch=function(e,r){var n=this;return void 0===r&&(r={}),new Promise((function(s,o){if(e){var i=t({},{method:"GET",timeout:1e4,async:!0,responseType:"",cache:!1,cacheTime:3e5,retries:3,retryDelay:2e3},r);if(i.cache){n.clear();var a=n.getCacheKey(e,i),c=n._cache.get(a);if(c)return s(c.data)}var u=0,f=!1,h=function(){f=!0};!function t(){n.execute(e,i,h).then(s).catch((function(e){f?o(new Error("Request aborted")):u<i.retries?(u++,setTimeout((function(){t()}),i.retryDelay)):o(e)}))}()}else o(new Error("URL is empty"))}))},r.execute=function(e,t,r){var s=this;return void 0===t&&(t={}),void 0===r&&(r=function(){}),new Promise((function(o,i){var a=e,c=t.method;if(e=s.convertParams(e,t.params),t.timestamp){var u=e.includes("?")?"&":"?";e=""+e+u+"cur_loc_t="+Date.now()}var f=new XMLHttpRequest;f.responseType=t.responseType,t.signal&&t.signal.addEventListener("abort",(function(){r(),f.abort(),i(new Error("Request aborted"))}));var h=s;if(f.onreadystatechange=function(){if(4===f.readyState)if(f.status>=200&&f.status<300){var e=new n;if(e.ok=!0,e.status=f.status,e.statusText=f.statusText,e.url=f.responseURL,e.responseText=f.responseText,e.response=f.response,t.cache){var r=h.getCacheKey(a,t),s=Date.now(),c={cacheTime:t.cacheTime,timestamp:s,data:e};h._cache.set(r,c)}o(e)}else i(new Error("HTTP error status: "+f.status))},f.onerror=function(){i(new Error("Network error"))},f.ontimeout=function(){i(new Error("Request timed out"))},f.timeout=t.timeout,f.open(c,e,t.async),t.headers)if(Array.isArray(t.headers))t.headers.forEach((function(e){f.setRequestHeader(e[0],e[1])}));else{var p=t.headers;Object.keys(p).forEach((function(e){f.setRequestHeader(e,p[e])}))}"POST"===c&&t.body?f.send(t.body):f.send()}))},e}()).module="【Http管理器】",r._RF.pop()}}}));

System.register("chunks:///_virtual/IAlert.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"eccd59CnalMGb7larQpF/KG","IAlert",void 0),t("IAlert",function(){function t(){this.module=null,this.isResident=!0,this.curPanel=null,this.queue=[]}var e=t.prototype;return e.getConfig=function(t){var e={};return t.tag&&(e.tag=t.tag),t.text&&(e.text=t.text),t.title&&(e.title=t.title),t.confirmString&&(e.confirmString=t.confirmString),t.cancelString&&(e.cancelString=t.cancelString),t.richText&&(e.richText=t.richText),t.immediatelyCallback&&(e.immediatelyCallback=t.immediatelyCallback),t.isRepeat&&(e.isRepeat=t.isRepeat),e},e.show=function(t){return t.tag&&!1===t.isRepeat&&this.isRepeat(t.tag)?(Log.w("弹出框已经存在 config : "+JSON.stringify(this.getConfig(t))),!1):(this.queue.push(t),this._show(t),!0)},e.isCurrentShow=function(t){return!1},e.currentShow=function(t){return null},e.isRepeat=function(t){return!1},e.close=function(t){},e.closeAll=function(){this.queue=[],this.finishAlert()},e.finishAlert=function(){this.curPanel&&(this.curPanel.destroy(),this.curPanel=null);var t=this.queue.shift();return 0!=this.queue.length?(this._show(this.queue[0]),this.queue[0]):t},e._show=function(t){},e.onDestroy=function(t){this.clear()},e.clear=function(){this.queue=[],this.finishAlert()},t}()).module="【IAlert】",e._RF.pop()}}}));

System.register("chunks:///_virtual/ILoading.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,e,i,o,s,h;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,i=t.instantiate,o=t.Vec3,s=t.tween,h=t.Tween}],execute:function(){e._RF.push({},"c3af0c+BnZIALgCjN5PDrOf","ILoading",void 0),t("ILoading",function(){function t(){this.module=null,this.isResident=!0,this.node=null,this._timeOutCb=void 0,this._content=[],this._showContentIndex=0,this._timerId=-1,this.text=null}var e=t.prototype;return e.findText=function(){return null},e.show=function(t,n,e){return this._timeOutCb=n,e||(e=this.timeout),Array.isArray(t)?this._content=t:(this._content=[],this._content.push(t)),this._show(e),this},e._show=function(t){this.prefab&&(this.node||(this.node=i(this.prefab)),this.node.removeFromParent(),App.uiManager.addView(this.node,this.zOrder),this.node.position=o.ZERO,this.text=this.findText(),this._showContentIndex=0,this.startShowContent(),this.startTimeOutTimer(t),this.node.active=!0)},e.startShowContent=function(){var t=this;1==this._content.length?this.text.string=this._content[0]:(this.stopShowContent(),s(this.text.node).call((function(){t.text.string=t._content[t._showContentIndex]})).delay(this.interval).call((function(){t._showContentIndex++,t._showContentIndex>=t._content.length&&(t._showContentIndex=0),t.startShowContent()})).start())},e.stopShowContent=function(){this.text&&h.stopAllByTarget(this.text.node)},e.startTimeOutTimer=function(t){var n=this;t>0&&(this._timerId=setTimeout((function(){n._timeOutCb&&n._timeOutCb(),n.hide()}),1e3*t))},e.stopTimeOutTimer=function(){this._timeOutCb=void 0,clearTimeout(this._timerId),this._timerId=-1},e.hide=function(){this.stopShowContent(),this.stopTimeOutTimer(),this.node&&(this.node.active=!1)},e.updateProgress=function(t){},e.onDestroy=function(t){this.clear()},e.clear=function(){this._content=[],this._showContentIndex=0,this.hide(),this.text=null},n(t,[{key:"zOrder",get:function(){return 99}},{key:"interval",get:function(){return 3}},{key:"timeout",get:function(){return 30}},{key:"prefab",get:function(){return App.uiManager.getScenePrefab("Loading")}},{key:"timeOutCb",get:function(){return this._timeOutCb},set:function(t){this._timeOutCb=t}}]),t}()).module="【ILoading】",e._RF.pop()}}}));

System.register("chunks:///_virtual/ITips.ts",["cc"],(function(t){var n,i;return{setters:[function(t){n=t.cclegacy,i=t._decorator}],execute:function(){n._RF.push({},"08418+Fj4xP67yzX6QXMw8F","ITips",void 0);i.ccclass,i.property;t("ITips",function(){function t(){this.module=null,this.isResident=!0}var n=t.prototype;return n.show=function(t){},n.finishShowItem=function(t){},n.clear=function(){},n.onDestroy=function(t){this.clear()},t}()).module="【ITips】",n._RF.pop()}}}));

System.register("chunks:///_virtual/IUILoading.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,o,s,u,r,c,h,a;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy,n=t._decorator,o=t.find,s=t.Label,u=t.instantiate,r=t.Vec3,c=t.Tween,h=t.tween,a=t.UIOpacity}],execute:function(){i._RF.push({},"c395ddS0+ZKfKuCR9xH0TZ1","IUILoading",void 0);n.ccclass,n.property;t("IUILoading",function(){function t(){this.module=null,this.isResident=!0,this.node=null,this.delay=0,this.content=null,this.text=null,this._uiName=null,this._contentOpacity=null,this._timerId=-1}var i=t.prototype;return i.findContent=function(){return o("content",this.node)},i.findText=function(){var t;return null==(t=o("text",this.content))?void 0:t.getComponent(s)},i.show=function(t,e){this.delay=null==t||null==t||t<0?this.delayTime:t,this._uiName=e||"",this._show()},i._show=function(){this.node||(this.node=u(this.prefab)),this.node.removeFromParent(),App.uiManager.addView(this.node,this.zOrder),this.node.position=r.ZERO,this.content=this.findContent(),c.stopAllByTarget(this.contentOpacity),this.text=this.findText(),this.text.string="0%",this.contentOpacity.opacity=0,this.delay>0&&h(this.contentOpacity).delay(this.delay).set({opacity:255}).start(),this.startTimeOutTimer(this.timeout),this.node.active=!0},i.startTimeOutTimer=function(t){var e=this;this.stopTimeOutTimer(),t&&(this._timerId=setTimeout((function(){App.tips.show("加载界面"+(e._uiName?e._uiName:"")+"超时，请重试"),e.hide()}),1e3*t))},i.stopTimeOutTimer=function(){clearTimeout(this._timerId),this._timerId=-1},i.hide=function(){this.stopTimeOutTimer(),this.node&&(c.stopAllByTarget(this.content),this.node.active=!1)},i.updateProgress=function(t){if(this.text){if(null==t||null==t||Number.isNaN(t))return void this.hide();t>=0&&t<=100&&(this.text.string=t+"%")}},i.clear=function(){this.node=null,this.content=null,this.text=null,this._contentOpacity=null,this._uiName=null},i.onDestroy=function(t){this.clear()},e(t,[{key:"prefab",get:function(){return App.uiManager.getScenePrefab("UILoading")}},{key:"contentOpacity",get:function(){return this._contentOpacity?this._contentOpacity:this.content.getComponent(a)}},{key:"delayTime",get:function(){return.1}},{key:"timeout",get:function(){return 20}},{key:"zOrder",get:function(){return 99}}]),t}()).module="【IUILoading】",i._RF.pop()}}}));

System.register("chunks:///_virtual/IWSMsgHandler.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"de8a7+b/KVI3YCiLmNQG4ym","IWSMsgHandler",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/JsonMessage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ByteArray.ts","./Net.ts","./Message.ts"],(function(e){var i,r,a,t,s;return{setters:[function(e){i=e.inheritsLoose},function(e){r=e.cclegacy},function(e){a=e.ByteArray},function(e){t=e.Net},function(e){s=e.Message}],execute:function(){e("serialize",(function(e,i,r,a){return function(t,s){if(void 0===Reflect.getOwnPropertyDescriptor(t,"__serialize__")){var n={};if(Reflect.getPrototypeOf(t).__serialize__&&void 0===Reflect.getOwnPropertyDescriptor(t,"__serialize__"))for(var l=Reflect.getPrototypeOf(t).__serialize__,o=Object.keys(l),u=o.length,f=0;f<u;f++)n[o[f]]=l[o[f]].slice(0);Reflect.defineProperty(t,"__serialize__",{value:n})}if(t.__serialize__[e])throw"SerializeKey has already been declared:"+e;t.__serialize__[e]=[s,i,r,a]}})),r._RF.push({},"f031c/UZ19K6aoeSleqgoO4","JsonMessage",void 0);var n=e("JsonMessage",function(e){function r(){for(var i,r=arguments.length,a=new Array(r),t=0;t<r;t++)a[t]=arguments[t];return(i=e.call.apply(e,[this].concat(a))||this).data=null,i.byteArray=null,i.buffer=null,i}i(r,e);var t=r.prototype;return t.encode=function(){this.data=this.serialize();var e=JSON.stringify(this.data);return this.byteArray=new a,this.byteArray.writeUTFBytes(e),this.buffer=this.byteArray.bytes,!0},t.serialize=function(){var e={},i=Reflect.getPrototypeOf(this).__serialize__;if(!i)return e;for(var r=Object.keys(i),a=r.length,t=0;t<a;t++){var s=r[t],n=i[s][0],l=this.serializeMember(this[n]);null===l&&Log.w("Invalid serialize member : "+n),e[s]=l}return e},t.serializeMember=function(e){return"number"==typeof e?this.serializeNumber(e):"boolean"==typeof e?this.serializeBool(e):"string"==typeof e?this.serializeString(e):e instanceof Array?this.serializeArray(e):e instanceof Map?this.serializeMap(e):e instanceof r?e.serialize():(Log.w("Invalid serialize value : "+e),null)},t.serializeNumber=function(e){return null==e&&(e=0),"string"==typeof e&&(e=Number(e)),Number.isNaN(e)&&(e=0),e},t.serializeBool=function(e){return null==e&&(e=!1),"string"==typeof e&&(e="true"==e),Number.isNaN(e)&&(e=!1),e},t.serializeString=function(e){return null==e?"":e.toString()},t.serializeArray=function(e){var i=this,r=[];return e.forEach((function(e){r.push(i.serializeMember(e))})),r},t.serializeMap=function(e){var i=[],r=this;return e.forEach((function(e,a){var t={k:r.serializeMember(a),v:r.serializeMember(e)};null===t.k&&(Log.w("Invalid map key!"),t.k=""),null===t.v&&(Log.w("Invalid map value"),t.v=""),i.push(t)})),i},t.decode=function(e){if(e){this.buffer=e,this.byteArray=new a(e);var i=this.byteArray.readUTFBytes(this.byteArray.length);if(i.length>0)try{this.data=JSON.parse(i)}catch(e){return!1}return this.deserialize(this.data)}return!1},t.deserialize=function(e){var i=Reflect.getPrototypeOf(this).__serialize__;if(!i)return!0;for(var r=Object.keys(i),a=r.length,t=0;t<a;t++){var s=r[t],n=i[s],l=n[0],o=n[1],u=n[2],f=n[3];if(!this.deserializeMember(l,o,u,f,e[s]))return Log.w("Invalid deserialize member :"+l),!1}return!0},t.deserializeMember=function(e,i,a,t,s){try{var n=this[e];if("number"==typeof n)this[e]=this.deserializeNumber(e,s);else if("boolean"==typeof n)this[e]=this.deserializeBool(e,s);else if("string"==typeof n)this[e]=this.deserializeString(e,s);else if(n instanceof Array)this.deserializeArray(e,a,s);else if(n instanceof Map)this.deserializeMap(e,a,t,s);else if(n instanceof r)n.deserialize(s);else{if(null!==n)return Log.w("Invalid deserialize member : "+e+" value:"+n),!1;switch(i){case Number:this[e]=this.deserializeNumber(e,s);break;case String:this[e]=this.deserializeString(e,s);break;case Array:this[e]=[];break;case Map:this[e]=new Map;break;default:if(this[e]=new i,!(this[e]instanceof r))return Log.w("Invalid deserialize member :"+e+" value:"+n),!1;this[e].deserialize(s)}}return!0}catch(i){return Log.w(i.message),this[e]=i.data||null,!1}},t.deserializeNumber=function(e,i){if(null==i||Number.isNaN(i))throw{message:"Invalid deserializeNumber member : "+e+" value : "+i,data:0};return Number(i)},t.deserializeBool=function(e,i){if(null==i||Number.isNaN(i))throw{message:"Invalid deserializeNumber member : "+e+" value : "+i,data:0};return Boolean(i)},t.deserializeString=function(e,i){if(null==i)throw{message:"Invalid deserializeString member : "+e+" value : "+i,data:""};return i},t.deserializeArray=function(e,i,a){var t=this;if(!(a instanceof Array))throw{message:"Invalid deserializeArray member : "+e+" value : "+a,data:[]};this[e]=[],a.forEach((function(a,s){if(i===Number)t[e].push(t.deserializeNumber(e+"["+s+"]",a));else if(i===String)t[e].push(t.deserializeString(e+"["+s+"]",a));else{if(i===Array)throw{message:"Invalid deserializeArray member : "+e+" array value type is Array"};if(i instanceof Map)throw{message:"Invalid deserializeArray member : "+e+" array value type is Map"};if(t[e]instanceof r)t[e].deserialize(a);else{var n=new i;if(!(n instanceof r))throw{message:"Invalid deserializeArray member : "+e+" array value type is "+i};n.deserialize(a),t[e].push(n)}}}))},t.deserializeMap=function(e,i,a,t){var s=this;if(!(t instanceof Array))throw{message:"Invalid deserializeMap member : "+e+" value : "+t,data:new Map};this[e].clear(),t.forEach((function(t,n){if(null===t||void 0===t.k||null===t.k||void 0===t.v||null===t.v)throw{message:"Invalid deserializeMap member : "+e+" invalid element : "+t};var l,o;if(i===Number)l=s.deserializeNumber(e+"["+n+"]:key",t.k);else{if(i!==String)throw{message:"Invalid deserializeMap member : "+e+" invalid key type : "+i};l=s.deserializeString(e+"["+n+"]:key",t.k)}if(a===Number)o=s.deserializeNumber(e+"["+n+"]:value",t.v);else if(a===String)o=s.deserializeString(e+"["+n+"]:value",t.v);else{if(a===Array)throw{message:"Invalid deserializeMap member : "+e+" invalid value type : Array"};if(a instanceof Map)throw{message:"Invalid deserializeMap member : "+e+" invalid value type : Map"};if(!((o=new a)instanceof r))throw{message:"Invalid deserializeMap member : "+e+" invalid value type : "+a};o.deserialize(t.v)}s[e].set(l,o)}))},r}(s));e("JsonMessageHeartbeat",function(e){function r(){return e.apply(this,arguments)||this}return i(r,e),r}(n)).type=t.ServiceType.Json,r._RF.pop()}}}));

System.register("chunks:///_virtual/Lang.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LangEN.ts","./LangZH.ts","./LanguageDelegate.ts","./Macros.ts"],(function(n){var t,a,e,u,o,c;return{setters:[function(n){t=n.inheritsLoose},function(n){a=n.cclegacy},function(n){e=n.LangEN},function(n){u=n.LangZH},function(n){o=n.LanguageDelegate},function(n){c=n.Macro}],execute:function(){a._RF.push({},"842da4X/65Oi51KRx/zC3q6","Lang",void 0);n("Lang",function(n){function a(){for(var t,a=arguments.length,e=new Array(a),u=0;u<a;u++)e[u]=arguments[u];return(t=n.call.apply(n,[this].concat(e))||this).bundle=c.BUNDLE_RESOURCES,t}return t(a,n),a.prototype.init=function(){App.stageData.entrys.forEach((function(n){e.data.bundles[n.bundle]=n.name.EN,u.data.bundles[n.bundle]=n.name.CN})),this.add(e),this.add(u)},a}(o));a._RF.pop()}}}));

System.register("chunks:///_virtual/LangEN.ts",["cc"],(function(e){var c,a;return{setters:[function(e){c=e.cclegacy,a=e.sys}],execute:function(){c._RF.push({},"ac934mUVH5BtLUeWmSarYTa","LangEN",void 0);var t={language:a.Language.ENGLISH,data:{bundles:{},capture_save_failed:"Failed to save picture",capture_success:"Successful screenshot",capture_failed:"Screenshot failed",capture_save_photo_album:"Successfully saved to device album",capture_save_local_success1:"Successfully saved in the device directory {0} and loaded successfully",capture_save_local_success2:"Successfully saved in the device directory {0}",warningReconnect:"{0} network has been disconnected. Do you want to reconnect?",tryReconnect:"{0}Trying to connect for the {1} time...",updateFaild:"Update {0} Faild",checkingUpdate:"Checking update...",alreadyRemoteVersion:"{0}已升级到最新",loadFailed:"{0}加载失败!!",restartApp:"{0}更新完成，需要重启游戏",downloadFailed:"下载文件失败，请重试!!!",loading:"正在加载...",alert_title:"Tips",alert_confirm:"Confirm",alert_cancel:"Cancel",quitGame:"您确定要退出游戏？",loading_game_resources:"正在加载游戏资源...",loadingProgress:"加载资源中({0}%)...",pic_background:"common/images/com_bg_start2",richtext:"<color=#00ff00>Rich</c><color=#0fffff>Text</color>",pic_atlas:["common/images/lobby_texture"],pic_key:"update_status_new",pic_remote:"https://www.baidu.com/img/flexible/logo/pc/index_gray.png"}};e("LangEN",t);c._RF.pop()}}}));

System.register("chunks:///_virtual/Language.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts"],(function(e){var t,a,n,g,i;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){a=e.cclegacy,n=e.isValid,g=e.sys},function(e){i=e.Macro}],execute:function(){a._RF.push({},"45ff7N6LYVJ7YlkpCoRmCEX","Language",void 0);var o="using_language";e("Language",function(){function e(){this.isResident=!0,this.module=null,this._components=[],this._data={language:i.UNKNOWN},this.delegates=new Map,this.defaultLanguage=g.Language.CHINESE}var a=e.prototype;return a.addDelegate=function(e){e&&(this.delegates.set(e.bundle,e),this.updateData(this.getLanguage()))},a.updateData=function(e){var t=this;this._data.language=e,this.delegates.forEach((function(a,n,g){t._data=a.merge(e,t._data)}))},a.removeDelegate=function(e){e&&(this.delegates.delete(e.bundle)&&e.bundle!=i.BUNDLE_RESOURCES&&delete this._data[e.bundle])},a.change=function(e){var t=this;this.delegates.size<=0||this._data&&this._data.language==e||(this._data.language=e,i.ENABLE_CHANGE_LANGUAGE?(this.delegates.forEach((function(a,n,g){t._data=a.merge(e,t._data)})),this.onChangeLanguage()):this.delegates.forEach((function(e,a,n){t._data=e.merge(t.getLanguage(),t._data)})),Log.d(this.module,"当前语言:"+this._data.language),App.storage.setItem(o,this._data.language))},a.get=function(e){if(!e||0===e.length)return Log.e("Language get: 参数不能为空"),"";var a=e[0];if("string"!=typeof a)return Log.e("Language get: key 必须是字符串"),"";if(a.includes(i.USING_LAN_KEY)){var n=a.split(".").slice(1);if(0===n.length)return Log.e("Language get: 无效的语言 key: "+a),"";for(var g,o=this._data,s=t(n);!(g=s()).done;){var u,r=g.value;if(void 0===(o=null==(u=o)?void 0:u[r]))return Log.e("Language get: 语言包不存在 : "+r),""}return"string"==typeof o?String.format.apply(String,[o].concat(e.slice(1))):o}var l=e[0];return"string"==typeof l?String.format.apply(String,[l].concat(e.slice(1))):String(l)},a.getLanguage=function(){return App.storage.getItem(o,this.defaultLanguage)},a.add=function(e){-1==this._components.indexOf(e)&&this._components.push(e)},a.remove=function(e){var t=this._components.indexOf(e);t>=0&&this._components.splice(t,1)},a.onChangeLanguage=function(){this._components.forEach((function(e){n(e)&&e.forceDoLayout()}))},e}()).module="【语言包】",a._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageDelegate.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("injectLanguageData",(function(t){})),e._RF.push({},"de77dZMRVZDYY4iKST+8vLn","LanguageDelegate",void 0);t("LanguageDelegate",function(){function t(){this.datas=new Map,this.init()}var e=t.prototype;return e.add=function(t){this.datas.set(t.language,t)},e.get=function(t){return this.datas.get(t)},e.merge=function(t,e){var a=this.datas.get(t);return a&&(e[this.bundle]=a.data),e},e.mergeData=function(t,e){var a=t;if(e&&t){var n=e.data,u=t.data;Object.keys(n).forEach((function(t){u[t]||(u[t]=n[t])}))}return a},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/LangZH.ts",["cc"],(function(e){var a,c;return{setters:[function(e){a=e.cclegacy,c=e.sys}],execute:function(){a._RF.push({},"848e2yB12JGjZQ1djMaR5rT","LangZH",void 0);var t={language:c.Language.CHINESE,data:{bundles:{},capture_save_failed:"保存图片失败",capture_success:"截图成功",capture_failed:"截图失败",capture_save_photo_album:"成功保存到设备相册",capture_save_local_success1:"成功保存在设备目录并加载成功: {0}",capture_save_local_success2:"成功保存在设备目录: {0}",warningReconnect:"{0}网络已断开，是否重新连接？",tryReconnect:"{0}网络:正在尝试第{1}次连接...",updateFaild:"更新{0}失败",checkingUpdate:"检测更新中...",alreadyRemoteVersion:"{0}已升级到最新",loadFailed:"{0}加载失败!!",restartApp:"{0}更新完成，需要重启游戏",downloadFailed:"下载文件失败，请重试!!!",loading:"正在加载...",alert_title:"温馨提示",alert_confirm:"确 定",alert_cancel:"取 消",quitGame:"您确定要退出游戏？",loading_game_resources:"正在加载游戏资源...",loadingProgress:"加载资源中({0}%)...",pic_background:"common/images/background",richtext:"<color=#00ff00>富</c><color=#0fffff>文本</color>",pic_atlas:["common/images/lobby_texture"],pic_key:"update_status_hot",pic_remote:"https://fanyi-cdn.cdn.bcebos.com/static/translation/img/header/logo_e835568.png"}};e("LangZH",t);a._RF.pop()}}}));

System.register("chunks:///_virtual/Launch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./Macros.ts","./DebugView.ts","./Config.ts"],(function(n){var t,e,o,r,i,s,a,c,u,p,l,h,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,o=n.initializerDefineProperty,r=n.assertThisInitialized,i=n.asyncToGenerator,s=n.regeneratorRuntime},function(n){a=n.cclegacy,c=n._decorator,u=n.Asset,p=n.find,l=n.isValid,h=n.Game},function(n){d=n.default},null,null,null],execute:function(){var f,g,y,E,L,v;a._RF.push({},"ddbcdzv9zZFh7FVBShnQQhk","Launch",void 0);var w=c.ccclass,m=c.property,D=c.menu;n("Launch",(f=w("Launch"),g=D("Quick公共组件/Launch"),y=m(u),f(E=g((v=t((L=function(n){function t(){for(var t,e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i))||this,o(t,"wssCacert",v,r(t)),t}e(t,n);var a=t.prototype;return a.onLoad=function(){var t=i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.prototype.onLoad.call(this),t.next=3,App.onLoad(this.node);case 3:this.wssCacert&&(App.wssCacertUrl=this.wssCacert.nativeUrl),this.initDebug(),this.onG(h.EVENT_HIDE,this.onEnterBackground),this.onG(h.EVENT_SHOW,this.onEnterForgeground),this.onG(h.EVENT_LOW_MEMORY,this.onLowMemory);case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),a.onDestroy=function(){App.onDestroy(this.node),n.prototype.onDestroy.call(this)},a.onEnterBackground=function(){App.onEnterBackground()},a.onEnterForgeground=function(){App.onEnterForgeground()},a.onLowMemory=function(){App.onLowMemory()},a.initDebug=function(){var n=p("debug",this.node);n&&l(n)&&n.destroy()},t}(d)).prototype,"wssCacert",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=L))||E)||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/LayerManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var o,n,e,r,i,s;return{setters:[function(t){o=t.createClass},function(t){n=t.cclegacy,e=t.instantiate,r=t.js,i=t.isValid,s=t.find}],execute:function(){n._RF.push({},"f1e37POlGRL3auKo6+e2v9V","LayerManager",void 0),t("default",function(){function t(){this.isResident=!0,this.module=null,this._cfgs=[],this._layers=new Map,this.node=null,this._root=null}var n=t.prototype;return n.add=function(t,o){var n=this._layers.get(o);n?n.addChild(t):Log.e(this.module+"未定义的层级")},n.onLoad=function(t){var o=this;this.node=t;var n=e(this.root);this._cfgs.forEach((function(t){var r=e(n);o.root.addChild(r),r.name="Layer_"+t.name,r.userData=t.name,o._layers.set(t.sort,r)}))},n.onDestroy=function(t){this.clear()},n.addComponent=function(t){if(this.root){var o=this.root.getComponent(t);return o||this.root.addComponent(t)}return null},n.removeComponent=function(t){if(this.root){var o=this.root.getComponent(t);o&&o.destroy()}},n.init=function(t){var o=this;Object.keys(t).forEach((function(n){var e={name:n,sort:t[n]};o._cfgs.push(e)})),this._cfgs.sort((function(t,o){return t.sort-o.sort}))},n.destory=function(){},n.clear=function(){this._layers.clear(),this._root=null,this.node=null},n.debug=function(t){if(t||((t={}).showChildren=!0,t.showComp=!0),this.root&&(t.showChildren&&(Log.d(this.module+" 层级信息,注：该层级上无任何节点的不输出信息。"),this._layers.forEach((function(t){t.children.length>0&&(Log.d(t.userData+" 层包含节点如下:"),t.children.forEach((function(t){Log.d(t.name+" active : "+t.active)})))}))),t.showComp)){Log.d(this.module+" 组件信息");for(var o=this.root._components,n=0;n<o.length;n++)Log.d(r.getClassName(o[n]))}},o(t,[{key:"root",get:function(){return i(this._root)||(this._root=s("viewRoot",this.node)),this._root}}]),t}()).module="【层级管理器】",n._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutDefines.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,s,e,n,h;return{setters:[function(t){i=t.createClass},function(t){s=t.cclegacy,e=t.UITransform,n=t.v2,h=t.size}],execute:function(){s._RF.push({},"be45agyNEBBFIGZKYMKuTOs","LayoutDefines",void 0);var g=t("LayoutType",function(t){return t[t.TOP=1]="TOP",t[t.MID=2]="MID",t[t.BOT=4]="BOT",t[t.LEFT=8]="LEFT",t[t.CENTER=16]="CENTER",t[t.RIGHT=32]="RIGHT",t[t.HORIZONTAL=56]="HORIZONTAL",t[t.VERTICAL=7]="VERTICAL",t[t.TOP_BOT=5]="TOP_BOT",t[t.LEFT_RIGHT=6]="LEFT_RIGHT",t[t.CENTER_TOP=17]="CENTER_TOP",t[t.CENTER_BOT=20]="CENTER_BOT",t[t.MID_LETF=10]="MID_LETF",t[t.MID_RIGHT=34]="MID_RIGHT",t}({}));t("LayoutParam",function(){function t(){this._alignFlags=0,this.result={position:n(0,0),originSize:h(0,0)},this.target=null,this._node=null,this.top=0,this.bottom=0,this.left=0,this.right=0,this.horizontalCenter=0,this.verticalCenter=0,this.isAbsoluteHorizontalCenter=!0,this.isAbsoluteVerticalCenter=!0,this.isAbsoluteTop=!0,this.isAbsoluteBottom=!0,this.isAbsoluteLeft=!0,this.isAbsoluteRight=!0}return t.prototype._setAlign=function(t,i){if(i!==(this._alignFlags&t)>0){var s=(t&g.LEFT_RIGHT)>0,n=this.node.getComponent(e);i?(this._alignFlags|=t,s?(this.isAlignHorizontalCenter=!1,this.isStretchWidth&&(this.result.originSize.width=n.width)):(this.isAlignVerticalCenter=!1,this.isStretchHeight&&(this.result.originSize.height=n.height))):(s?this.isStretchWidth&&(n.width=this.result.originSize.width):this.isStretchHeight&&(n.height=this.result.originSize.height),this._alignFlags&=~t)}},i(t,[{key:"alignFlags",get:function(){return this._alignFlags},set:function(t){this._alignFlags=t}},{key:"node",get:function(){return this._node},set:function(t){var i=t.getComponent(e);this.result.originSize.width=i.width,this.result.originSize.height=i.height,this._node=t}},{key:"isAlignTop",get:function(){return(this._alignFlags&g.TOP)>0},set:function(t){this._setAlign(g.TOP,t)}},{key:"isAlignVerticalCenter",get:function(){return(this._alignFlags&g.MID)>0},set:function(t){t?(this.isAlignTop=!1,this.isAlignBottom=!1,this._alignFlags|=g.MID):this._alignFlags&=~g.MID}},{key:"isAlignBottom",get:function(){return(this._alignFlags&g.BOT)>0},set:function(t){this._setAlign(g.BOT,t)}},{key:"isAlignLeft",get:function(){return(this._alignFlags&g.LEFT)>0},set:function(t){this._setAlign(g.LEFT,t)}},{key:"isAlignHorizontalCenter",get:function(){return(this._alignFlags&g.CENTER)>0},set:function(t){t?(this.isAlignLeft=!1,this.isAlignRight=!1,this._alignFlags|=g.CENTER):this._alignFlags&=~g.CENTER}},{key:"isAlignRight",get:function(){return(this._alignFlags&g.RIGHT)>0},set:function(t){this._setAlign(g.RIGHT,t)}},{key:"isStretchWidth",get:function(){return(this._alignFlags&g.LEFT_RIGHT)===g.LEFT_RIGHT}},{key:"isStretchHeight",get:function(){return(this._alignFlags&g.TOP_BOT)===g.TOP_BOT}}]),t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayoutDefines.ts"],(function(e){var t,i,n,o,r,s,a,l;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy,n=e.Vec3,o=e.Vec2,r=e.Scene,s=e.UITransform,a=e.Size},function(e){l=e.LayoutType}],execute:function(){i._RF.push({},"91f23IoCuxFko7p1sUVOjL7","LayoutManager",void 0);var c=new n,u=new o,g=new o;e("LayoutManager",function(){function e(){this.module=null}var i=e.prototype;return i.align=function(e){var t,i=e.node,n=e.target,a=e,g=new o,y=new o;n?(t=n,this.computeInverseTransForTarget(i,t,g,y)):t=i.parent;var h=this.getReadonlyNodeSize(t),f=t instanceof r||!t.getComponent(s),v=f?u:t.getComponent(s).anchorPoint,p=f;i.getPosition(c);var x=i._uiProps.uiTransformComp,b=c.x,d=c.y,m=x.anchorPoint,C=i.getScale();if(e.alignFlags&l.HORIZONTAL){var R=0,S=0,A=h.width;p?(R=this.visibleRect.left.x,S=this.visibleRect.right.x):S=(R=-v.x*A)+A,R+=a.isAbsoluteLeft?a.left:a.left*A,S-=a.isAbsoluteRight?a.right:a.right*A,n&&(R+=g.x,R*=y.x,S+=g.x,S*=y.x);var w=0,L=m.x,T=C.x;if(T<0&&(L=1-L,T=-T),a.isStretchWidth)w=S-R,0!==T&&(x.width=w/T),b=R+L*w;else if(w=x.width*T,a.isAlignHorizontalCenter){var z=a.isAbsoluteHorizontalCenter?a.horizontalCenter:a.horizontalCenter*A,F=(.5-v.x)*h.width;n&&(z*=y.x,F+=g.x,F*=y.x),b=F+(L-.5)*w+z}else b=a.isAlignLeft?R+L*w:S+(L-1)*w}if(a.alignFlags&l.VERTICAL){var I=0,P=0,V=h.height;p?(P=this.visibleRect.bottom.y,I=this.visibleRect.top.y):I=(P=-v.y*V)+V,P+=a.isAbsoluteBottom?a.bottom:a.bottom*V,I-=a.isAbsoluteTop?a.top:a.top*V,n&&(P+=g.y,P*=y.y,I+=g.y,I*=y.y);var H=0,k=m.y,M=C.y;if(M<0&&(k=1-k,M=-M),a.isStretchHeight)H=I-P,0!==M&&(x.height=H/M),d=P+k*H;else if(H=x.height*M,a.isAlignVerticalCenter){var O=a.isAbsoluteVerticalCenter?a.verticalCenter:a.verticalCenter*V,_=(.5-v.y)*h.height;n&&(O*=y.y,_+=g.y,_*=y.y),d=_+(k-.5)*H+O}else d=a.isAlignBottom?P+k*H:I+(k-1)*H}e.result.position.x=b,e.result.position.y=d},i.computeInverseTransForTarget=function(e,t,i,n){e.parent?g.set(e.parent.getScale().x,e.parent.getScale().y):g.set(0,0);for(var o=g.x,r=g.y,s=0,a=0,l=e.parent;;){if(!l)return i.x=i.y=0,void(n.x=n.y=1);var c=l.getPosition();if(s+=c.x,a+=c.y,(l=l.parent)===t)break;l?g.set(l.getScale().x,l.getScale().y):g.set(0,0);var u=g.x,y=g.y;s*=u,a*=y,o*=u,r*=y}n.x=0!==o?1/o:1,n.y=0!==r?1/r:1,i.x=-s,i.y=-a},i.getReadonlyNodeSize=function(e){var t=e.getComponent(s);return e instanceof r?this.visibleRect:t?t.contentSize:a.ZERO},t(e,[{key:"visibleRect",get:function(){return window.cc.visibleRect}}]),e}()).module="【布局管理器】",i._RF.pop()}}}));

System.register("chunks:///_virtual/Loading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./ILoading.ts"],(function(n){var e,t,i,o,r,u,c,a;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){i=n.cclegacy,o=n.find,r=n.Label},function(n){u=n.ViewZOrder,c=n.Config},function(n){a=n.ILoading}],execute:function(){i._RF.push({},"2db47kDx9lIeLy2MbGZbrmp","Loading",void 0),n("default",function(n){function i(){return n.apply(this,arguments)||this}return e(i,n),i.prototype.findText=function(){var n;return null==(n=o("content/text",this.node))?void 0:n.getComponent(r)},t(i,[{key:"zOrder",get:function(){return u.Loading}},{key:"interval",get:function(){return c.LOADING_CONTENT_CHANGE_INTERVAL}},{key:"timeout",get:function(){return c.LOADING_TIME_OUT}},{key:"prefab",get:function(){return App.uiManager.getScenePrefab("Loading")}}]),i}(a)).module="【Loading】",i._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./CommonService.ts"],(function(o){var e,n,t,i;return{setters:[function(o){e=o.inheritsLoose},function(o){n=o.cclegacy},function(o){t=o.NetPriority},function(o){i=o.CommonService}],execute:function(){n._RF.push({},"e28f7LLLVVJaYjQl5+dh0Ue","LobbyService",void 0),o("LobbyService",function(o){function n(e){var n;return(n=o.call(this,e)||this).priority=t.Lobby,n.flows.openFlow.push((function(o){return Log.d(o.module+" 连接成功111"),o})),n.flows.closeFlow.push((function(o){return Log.d(o.module+" 连接关闭111"),o})),n}return e(n,o),n}(i)).module="大厅",n._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BitEncrypt.ts"],(function(t){var e,r,n;return{setters:[function(t){e=t.createClass},function(t){r=t.cclegacy},function(t){n=t.BitEncrypt}],execute:function(){r._RF.push({},"ecf54s/MtVLRIrjjIqrRIjp","LocalStorage",void 0),t("LocalStorage",function(){function t(){this.module=null,this.key="VuxiAKihQ0VR9WRe"}var r=t.prototype;return r.encrypt=function(t){return n.encode(JSON.stringify(t),this.key)},r.decryption=function(t){return n.decode(t,this.key)},r.getItem=function(t,e){void 0===e&&(e=null);var r=this.storage.getItem(t);if(!r)return e;try{var n=this.decryption(r),o=JSON.parse(n);return o.type?o.value:r}catch(t){return r}},r.setItem=function(t,e){var r=typeof e;if("number"==r||"string"==r||"boolean"==r||"object"==r){var n={type:r,value:e};try{var o=this.encrypt(n);this.storage.setItem(t,o)}catch(t){}}},r.removeItem=function(t){this.storage.removeItem(t)},e(t,[{key:"storage",get:function(){return window.localStorage}}]),t}()).module="【本地仓库】",r._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts"],(function(t){var n,e,i,r;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy,i=t.sys},function(t){r=t.LogLevel}],execute:function(){e._RF.push({},"1373dsNcepOQKt3JH5pmlPC","Logger",void 0),t("LoggerImpl",function(){function t(){var t=this;this.logger=console,this._level=r.ALL,this._indentFormat="    ",this._halfIndentFormat="   ",this._typeHandlers=void 0,this._visited=void 0,this.module=null,this.isResident=!0,this._typeHandlers=new Map([["boolean",function(n,e){return""+t.convertName(n)+e+";"}],["number",function(n,e){return""+t.convertName(n)+e}],["string",function(n,e){return t.convertName(n)+'"'+e+'"'}],["object",function(n,e,i,r){return t.handleObject(n,e,i,r)}]]),this._visited=new Set,this.update()}var e=t.prototype;return e.attach=function(t){this.level=this.level|t,this.update()},e.detach=function(t){this.isValid(t)&&(this.level=this.level^t,this.update())},e.isValid=function(t){return!!(this.level&t)},e.update=function(){var t=this,n=function(n,e,i){t.logger[e]=t.isValid(n)?i:function(){}};i.isBrowser?n(r.DUMP,"dump",console.info):n(r.DUMP,"dump",this.dump.bind(this)),n(r.ERROR,"e",console.error),n(r.DEBUG,"d",console.log),n(r.WARN,"w",console.warn)},e.dump=function(){if(this.isValid(r.DUMP)){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var i=n[0],o=n[1],s=void 0===o?"unknown":o,l=n[2],u=void 0===l?5:l,a=Math.min(Math.max(1,u),10);try{if(null==i)return void this.logger.d("null");this._visited.clear();var h="object"==typeof i&&null!=i&&i.toJSON?i.toJSON():i,c=(new Date).toISOString(),d=this._dump(h,s,a,0);console.info("["+c+"] "+s+"=",d)}catch(t){console.error("Dump error:",t)}}},e.handleObject=function(t,n,e,i){if(void 0===e&&(e=5),void 0===i&&(i=0),null==n)return"null";if(this._visited.has(n))return"[Circular Reference]";this._visited.add(n);var r=Array.isArray(n)?this.toArray(t,n,e,i):this.toObject(t,n,e,i);return this._visited.delete(n),r},e._dump=function(t,n,e,i){if(void 0===n&&(n="unknown"),i>=e)return"...";var r=typeof t,o=this._typeHandlers.get(r);return o?"object"===r?o(n,t,e,i):o(n,t):this.toUnknown(n)},e.convertName=function(t,n){return void 0===n&&(n="="),t.length>0?t+" "+n+" ":" "},e.toUnknown=function(t){return(t.length>0?t+" ":" ")+"is unknown type!"},e.toArray=function(t,n,e,i){var r,o="",s="";r=n.length;for(var l=this.convertName(t,""),u=0;u<i;++u)s+=" ";o=l+"[";for(var a=0;a<r;++a)o+="\n"+(0===s.length?"":""+s)+this._indentFormat+"["+a+"]:"+this._dump(n[a],"",e,i+1);return o+="\n"+(0===s.length?"":""+s+this._halfIndentFormat)+"]"},e.toObject=function(t,n,e,i){var r="";if(null==n)return r="null";var o="";if(n instanceof Object){for(var s=0;s<i;++s)o+=" ";for(var l in r="{",n)r+="\n"+(0===o.length?"":""+o)+this._indentFormat+l+":"+this._dump(n[l],"",e,i+1);return r+="\n"+(0===o.length?"":""+o+this._halfIndentFormat)+"}"}return r="Unknown Object Type!"},n(t,[{key:"level",get:function(){return this._level},set:function(t){this._level=t,this.update()}}]),t}()).module="【日志管理器】",e._RF.pop()}}}));

System.register("chunks:///_virtual/Logic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventProcessor.ts","./Macros.ts"],(function(e){var n,t,o,i,r,c;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){o=e.cclegacy,i=e.js},function(e){r=e.EventProcessor},function(e){c=e.Macro}],execute:function(){o._RF.push({},"4b9a0iaVZFD/KeijOJgJv2B","Logic",void 0),e("Logic",function(e){function o(){for(var n,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(n=e.call.apply(e,[this].concat(o))||this).module=c.UNKNOWN,n._view=null,n}n(o,e);var r=o.prototype;return r.reset=function(e){},r.onLoad=function(n){this._view=n,e.prototype.onLoad.call(this,n)},r.update=function(e){},r.destory=function(){this.onDestroy()},r.debug=function(){Log.d(this.module+" : "+i.getClassName(this))},r.enterBundle=function(e,n){App.entryManager.enterBundle(e,n)},r.backBundle=function(e){App.entryManager.backBundle(e)},t(o,[{key:"view",get:function(){return this._view}}]),o}(r)).module=c.UNKNOWN,o._RF.pop()}}}));

System.register("chunks:///_virtual/LogicManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonT.ts","./UIView.ts"],(function(e){var t,n,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.SingletonT},function(e){i=e.default}],execute:function(){n._RF.push({},"ed32aE8EBlBeKkWhJ7/xI6h","LogicManager",void 0),e("LogicManager",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).module=null,t.isResident=!0,t}t(n,e);var o=n.prototype;return o.get=function(t,n){if(null==n&&(n=!1),"string"==typeof t)return e.prototype.get.call(this,t,n);if(t instanceof i){var o=t,r=App.uiManager.getViewType(o);if(r)if(r.logicType)return r.logicType.module=o.bundle,e.prototype.get.call(this,r.logicType,n);return null}return e.prototype.get.call(this,t,n)},o.onDestroy=function(e){this.clear()},n}(o)).module="【逻辑管理器】",n._RF.pop()}}}));

System.register("chunks:///_virtual/LoginEntry.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Entry.ts","./Decorators.ts","./Macros.ts","./Singleton.ts","./LoginLogic.ts","./LoginView.ts","./Config.ts","./ChangeView.ts"],(function(){var e,n,t,i,o,a,r,s,c,u,p;return{setters:[function(t){e=t.inheritsLoose,n=t.assertThisInitialized},function(e){t=e.cclegacy},function(e){i=e.Entry},function(e){o=e.registerEntry},function(e){a=e.Macro},function(e){r=e.Singleton},function(e){s=e.default},function(e){c=e.default},function(e){u=e.ViewZOrder},function(e){p=e.default}],execute:function(){var l;t._RF.push({},"47c35I6YOhD07Qer7OZbFer","LoginEntry",void 0);o("LoginEntry",a.BUNDLE_RESOURCES,c)(l=function(t){function i(){var e;return(e=t.call(this)||this).isMain=!0,e.isChangeOrientation=!1,App.dispatcher.add(a.CHANGE_ORIENTATION,e.onChangeOrientation,n(e)),e}e(i,t);var o=i.prototype;return o.onChangeOrientation=function(){App.uiManager.open({type:p,bundle:a.BUNDLE_RESOURCES,zIndex:u.Loading})},o.addNetHandler=function(){},o.removeNetHandler=function(){},o.loadResources=function(e){e()},o.openGameView=function(){t.prototype.openGameView.call(this),App.entryManager.onCheckUpdate(),App.updateManager.isSkipUpdate&&App.entryManager.enterBundle(a.BUNDLE_HALL,{isPreload:!0})},o.onMainUpdateComplete=function(e){App.entryManager.enterBundle(a.BUNDLE_HALL,{isPreload:!0})},o.initData=function(){},o.pauseMessageQueue=function(){},o.resumeMessageQueue=function(){},o.onDestroyGameView=function(e){var n=this;t.prototype.onDestroyGameView.call(this,e),this.isChangeOrientation&&(setTimeout((function(){n.onStartGameView(),n.clearCache()}),200),this.isChangeOrientation=!1)},o.onStartGameView=function(e){e&&e.changeOrientation?(App.onLowMemory(),this.isChangeOrientation=!0):(t.prototype.onStartGameView.call(this,e),this.clearCache(),Log.d("--------------onStartGameView--------------"))},o.clearCache=function(){App.uiManager.closeExcept([c]),r.destory(),App.logicManager.destoryExclude([s])},i}(i));t._RF.pop()}}}));

System.register("chunks:///_virtual/LoginLogic.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logic.ts","./Macros.ts"],(function(n){var t,o,i,e;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy},function(n){i=n.Logic},function(n){e=n.Macro}],execute:function(){o._RF.push({},"876f0yJIntBtZke1wJSQk0E","LoginLogic",void 0);n("default",function(n){function o(){return n.apply(this,arguments)||this}return t(o,n),o.prototype.onLogin=function(){this.enterBundle(e.BUNDLE_HALL)},o}(i));o._RF.pop()}}}));

System.register("chunks:///_virtual/LoginView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameView.ts","./Decorators.ts","./LoginLogic.ts"],(function(e){var i,n,t,o,r,a,l,u,c,s,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.Node,u=e.Label},function(e){c=e.default},function(e){s=e.inject},function(e){p=e.default}],execute:function(){var g,f,d,b,h,y,L,m,v,w,z,M;r._RF.push({},"9b6e4Gzd2hJRZ81MAza9m0u","LoginView",void 0);var V=a.ccclass;a.property,e("default",(g=V("LoginView"),f=s({type:p,name:"logic"}),d=s("login",l),b=s("version",u),h=s("md5",u),g(((M=function(e){function i(){for(var i,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return i=e.call.apply(e,[this].concat(r))||this,t(i,"logic",m,o(i)),t(i,"login",v,o(i)),t(i,"version",w,o(i)),t(i,"md5",z,o(i)),i}n(i,e),i.getPrefabUrl=function(){return"@LoginView"};var r=i.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this),this.version.string=App.updateManager.appVersion+"("+App.updateManager.getVersion(this.bundle)+")",this.md5.string="MD5:"+App.updateManager.getMd5(this.bundle),this.onN(this.login,l.EventType.TOUCH_END,this.onLogin)},r.onLogin=function(){this.logic.onLogin()},i}(c)).logicType=p,m=i((L=M).prototype,"logic",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(L.prototype,"login",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(L.prototype,"version",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(L.prototype,"md5",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=L))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Macros.ts",["cc","./ByteArray.ts"],(function(E){var _,N;return{setters:[function(E){_=E.cclegacy},function(E){N=E.Endian}],execute:function(){var A,O;E("Macro",void 0),_._RF.push({},"e9733sUI9xL5obHtAPUvMhj","Macros",void 0),(O=A||(A=E("Macro",{}))).USING_LITTLE_ENDIAN=N.BIG_ENDIAN,O.BUNDLE_RESOURCES="resources",O.BUNDLE_REMOTE="Remote",O.ENABLE_CHANGE_LANGUAGE=!0,O.USING_LAN_KEY="i18n.",O.UNKNOWN="UNKNOWN",O.ON_CUSTOM_CLOSE="ON_CUSTOM_CLOSE",O.MAIN_PACK_BUNDLE_NAME="main",O.BUNDLE_HALL="hall",O.SHOW_DEBUG_INFO_KEY="SHOW_DEBUG_INFO_KEY",O.RECONNECT_ALERT_TAG="RECONNECT_ALERT_TAG",O.DYNAMIC_LOAD_GARBAGE="DYNAMIC_LOAD_GARBAGE",O.DYNAMIC_LOAD_RETAIN_MEMORY="DYNAMIC_LOAD_RETAIN_MEMORY",O.ON_UPDATE_FAILED="ON_UPDATE_FAILED",O.ON_UPDATE_DOWNLOADING="ON_UPDATE_DOWNLOADING",O.ON_DELETE_BUNDLE_CACHE="ON_DELETE_BUNDLE_CACHE",O.DEFAULT_RPC_TIEMEOUT=5e3,O.CHANGE_ORIENTATION="CHANGE_ORIENTATION",_._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Application.ts","./Alert.ts","./CmmAudioComp.ts","./Loading.ts","./SettingView.ts","./Tips.ts","./UILoading.ts","./UIReconnect.ts","./UpdateLoading.ts","./Config.ts","./CommonEvent.ts","./Lang.ts","./LangEN.ts","./LangZH.ts","./ChatService.ts","./CmmProto.ts","./CommonService.ts","./GameService.ts","./GetCmdKey.ts","./LobbyService.ts","./CmdDefines.ts","./HeartbetBinary.ts","./HeartbetJson.ts","./HeartbetProto.ts","./BundleMgrItem.ts","./BundleMgrView.ts","./ChangeView.ts","./BundleDebugView.ts","./DebugView.ts","./Launch.ts","./LoginEntry.ts","./LoginLogic.ts","./LoginView.ts","./Framework.ts","./AudioComponent.ts","./EventComponent.ts","./Snapshot.ts","./Adapter.ts","./AdapterSprite.ts","./AdapterView.ts","./AssetManager.ts","./BundleManager.ts","./CacheManager.ts","./ReleaseManager.ts","./Resource.ts","./ResourceLoader.ts","./ViewAsset.ts","./Entry.ts","./EntryDelegate.ts","./EntryManager.ts","./Dispatcher.ts","./EventProcessor.ts","./QuickEvent.ts","./Flow.ts","./Language.ts","./LanguageDelegate.ts","./LayoutDefines.ts","./LayoutManager.ts","./Logger.ts","./Logic.ts","./LogicManager.ts","./Net.ts","./HttpClient.ts","./BinaryStreamMessage.ts","./JsonMessage.ts","./Message.ts","./ProtoMessage.ts","./Handler.ts","./HandlerManager.ts","./ProtoManager.ts","./ServiceManager.ts","./IWSMsgHandler.ts","./WSMsgHandler.ts","./WSProxy.ts","./WSReconnect.ts","./WSServer.ts","./WSService.ts","./NodePoolManager.ts","./StateMachine.ts","./LocalStorage.ts","./GameView.ts","./LayerManager.ts","./TableView.ts","./TableViewCell.ts","./UIDropdownList.ts","./UILabel.ts","./UIManager.ts","./UIQRCode.ts","./UIRichText.ts","./UISprite.ts","./UIView.ts","./Update.ts","./UpdateItem.ts","./UpdateManager.ts","./DataCenter.ts","./GameData.ts","./StageData.ts","./Decorators.ts","./Enums.ts","./Macros.ts","./IAlert.ts","./ILoading.ts","./ITips.ts","./IUILoading.ts","./Platform.ts","./BitEncrypt.ts","./ByteArray.ts","./CocosExtention.ts","./CocosUtils.ts","./BundleUpdate.ts","./EntryImpl.ts","./HallUpdate.ts","./MainUpdate.ts","./CanvasHelper.ts","./Singleton.ts","./SingletonT.ts","./Utils.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainUpdate.ts",["cc"],(function(n){var o;return{setters:[function(n){o=n.cclegacy}],execute:function(){o._RF.push({},"c5a6bRTlXFFXYIfAVayOeNW","MainUpdate",void 0),n("MainUpdate",function(){function n(){this.module=null,this.isResident=!0}var o=n.prototype;return o.onNewVersionFund=function(n){n.doUpdate()},o.onUpdateFailed=function(n){var o=App.getLanguage("downloadFailed");App.alert.show({text:o,confirmCb:function(o){App.updateManager.dowonLoad(n)}}),App.updateLoading.hide()},o.onPreVersionFailed=function(n){var o=App.getLanguage("downloadFailed");App.alert.show({text:o,confirmCb:function(o){App.updateManager.dowonLoad(n)}}),App.updateLoading.hide()},o.onShowUpdating=function(n){App.updateLoading.show(App.getLanguage("loading"))},o.onOther=function(n){},o.onDownloading=function(n,o){App.updateLoading.updateProgress(o.progress)},o.onAreadyUpToData=function(n){App.updateLoading.hide(),App.entryManager.onMainUpdateComplete(n)},o.onStarCheckUpdate=function(n){App.updateLoading.show(App.getLanguage("loading"))},o.onStartLoadBundle=function(n){},o.onLoadBundleError=function(n,o){App.updateLoading.hide(),App.tips.show(App.getLanguage("loadFailed",[n.name])),Log.dump(o,"onLoadBundleError")},o.onLoadBundleComplete=function(n){App.updateLoading.hide(),App.entryManager.onLoadBundleComplete(n)},o.onLoadBundle=function(n){App.updateLoading.hide()},o.onDownloadComplete=function(n){},o.onNeedRestartApp=function(n,o){o(!0)},n}()).module="【主包热更新】",o._RF.pop()}}}));

System.register("chunks:///_virtual/Message.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t;return{setters:[function(e){n=e.inheritsLoose},function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9cc72ae641Axan45m+M6GpV","Message",void 0);var s=e("IMessage",(function(){}));e("MessageHead",function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(s)),e("Message",function(e){function t(){return e.apply(this,arguments)||this}return n(t,e),t}(s));t._RF.pop()}}}));

System.register("chunks:///_virtual/Net.ts",["cc"],(function(t){var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){var o;t({Net:void 0,Proto:void 0}),i._RF.push({},"5d6ecXdPidA1pmDJolUfMzo","Net",void 0),function(t){var i=function(t){return t[t.Unknown=0]="Unknown",t[t.Json=1]="Json",t[t.Proto=2]="Proto",t[t.BinaryStream=3]="BinaryStream",t}({});t.ServiceType=i;var o=function(){function t(t,i,o,e,n){var s=this;this.cmd=void 0,this.send=void 0,this.resolve=void 0,this.timeout=void 0,this.type=void 0,this._timeOutId=-1,this.onTimeout=null,this.cmd=t,this.send=i,this.resolve=e,this.timeout=n,this.type=o,this._timeOutId=setTimeout((function(){null==s.onTimeout||s.onTimeout();try{s.resolve(null)}catch(t){Log.e(t)}s.stop()}),n)}return t.prototype.stop=function(){clearTimeout(this._timeOutId)},t}();t.RPCData=o}(o||(o=t("Net",{}))),i._RF.pop()}}}));

System.register("chunks:///_virtual/NodePoolManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts"],(function(o){var t,e,n,s,i;return{setters:[function(o){t=o.createClass},function(o){e=o.cclegacy,n=o.isValid,s=o.instantiate},function(o){i=o.Macro}],execute:function(){e._RF.push({},"98d8dJBeClOv4kRv+WtZ/mZ","NodePoolManager",void 0);var l=o("NodePool",function(){function o(o){this.name=i.UNKNOWN,this.pool=[],this.node=null,this.name=o}var e=o.prototype;return e.clear=function(){for(var o=this.pool.length,t=0;t<o;++t)this.pool[t].destroy();this.pool=[],this.node&&n(this.node)&&this.node.destroy(),this.node=null},e.put=function(o){o&&-1===this.pool.indexOf(o)&&(o.removeFromParent(),this.pool.push(o))},e.get=function(){if(this.pool.length<=0)return this.node?s(this.node):null;var o=this.pool.length-1,t=this.pool[o];return this.pool.length=o,t},t(o,[{key:"cloneNode",get:function(){return this.node},set:function(o){o&&n(o)&&(this.node=o,this.node.removeFromParent())}},{key:"size",get:function(){return this.pool.length}}]),o}());o("NodePoolManager",function(){function o(){this.module=null,this.pools=new Map}var t=o.prototype;return t.onDestroy=function(o){this.clear()},t.clear=function(){this.pools.clear()},t.createPool=function(o){return this.pools.has(o)||this.pools.set(o,new l(o)),this.pools.get(o)},t.deletePool=function(o){if("string"==typeof o){if(this.pools.has(o)){var t=this.pools.get(o);t&&t.clear(),this.pools.delete(o)}}else o&&o instanceof l&&this.deletePool(o.name)},t.getPool=function(o,t){return void 0===t&&(t=!0),this.pools.has(o)?this.pools.get(o):t?this.createPool(o):null},t.debug=function(){Log.d("-------对象池节点缓存信息-------"),this.pools.forEach((function(o,t){Log.d(t)}))},o}()).module="【对象池】",e._RF.pop()}}}));

System.register("chunks:///_virtual/Platform.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Snapshot.ts"],(function(t){var e,s,n,o,r,i;return{setters:[function(t){e=t.createClass},function(t){s=t.cclegacy,n=t.sys,o=t.native,r=t.isValid},function(t){i=t.Snapshot}],execute:function(){s._RF.push({},"98f4cJugxNCmLLz8qfpsjAJ","Platform",void 0),t("Platform",function(){function t(){this.module=null,this._screenshotsPath=null}var s=t.prototype;return s.openURL=function(t){n.openURL(t)},s.copyText=function(t){o.copyTextToClipboard(t)},s.getNetworkType=function(){return n.getNetworkType()},s.getBatteryLevel=function(){return n.getBatteryLevel()},s.snapshot=function(t,e){if(r(t)){var s=t.addComponent(i);s.onCaptureComplete=e}},e(t,[{key:"screenshotsPath",get:function(){return this._screenshotsPath||n.isNative&&(this._screenshotsPath=o.fileUtils.getWritablePath()+"Screenshots",o.fileUtils.isDirectoryExist(this._screenshotsPath)||o.fileUtils.createDirectory(this._screenshotsPath)),this._screenshotsPath}},{key:"uuid",get:function(){return Log.e("未实现获取uuid"),"1234567890"}}]),t}()).module="【平台管理器】",s._RF.pop()}}}));

System.register("chunks:///_virtual/ProtoManager.ts",["cc","./index.mjs_cjs=&original=.js","./ProtoMessage.ts","./index.js"],(function(t){var o,e,n,r,i;return{setters:[function(t){o=t.cclegacy,e=t.TextAsset,n=t.sys},null,function(t){r=t.ProtoMessage},function(t){i=t.default}],execute:function(){o._RF.push({},"647b9mLXKhEYLYv4tkuN2zn","ProtoManager",void 0),t("ProtoManager",function(){function t(){this._loadDir={},this._root=null,this.module=null,this._root=new i.Root}var o=t.prototype;return o.destory=function(){this.unload()},o.load=function(t,o){var n=this;return void 0===o&&(o="proto"),new Promise((function(r,a){n._loadDir[t+"/"+o]?r(!0):(n._loadDir[t+"/"+o]=!1,App.asset.loadDir(t,o,e,(function(t,o,e){}),(function(e){if(n._loadDir[t+"/"+o])r(!0);else if(e&&e.data&&Array.isArray(e.data)){for(var a=0;a<e.data.length;a++){var s=e.data[a];i.parse(s.text,n._root)}App.asset.releaseAsset(e),n._loadDir[t+"/"+o]=!0,r(!0)}else r(!1)})))}))},o.unload=function(){this._loadDir={},this._root=new i.Root},o.lookup=function(t){return this._root?this._root.lookup(t):null},o.getType=function(t){return this.lookup(t)},o.getEnum=function(t){return this.lookup(t).values},o.makeProtoMsg=function(t){var o=this.getType(t),e=new r(o);return o instanceof i.Type&&(e.data=o.create()),e},o.makeCustomProtoMsg=function(t,o){var e=this.getType(o),n=new t(e);return e instanceof i.Type&&(n.data=e.create()),n},o.decode=function(t){var o=this.lookup(t.className);return o?o.decode(t.buffer):null},o.debug=function(){Log.d("-------Proto文件加载信息,所有proto文件都加载在同一个root下,文件加载完成后，资源文件就会初释放-------"),n.isNative?Log.dump(this._loadDir):Log.d(this._loadDir)},o.onDestroy=function(t){this.clear()},o.clear=function(){this.unload()},t}()).module="【Protobuf协议管理器】",o._RF.pop()}}}));

System.register("chunks:///_virtual/ProtoMessage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Net.ts","./Message.ts"],(function(t){var e,n,r,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.Net},function(t){o=t.Message}],execute:function(){n._RF.push({},"2a060dCqolHUa5KS4cGgWCi","ProtoMessage",void 0);var s=t("IProtoMessage",function(t){function n(e){var n;return(n=t.call(this)||this).buffer=null,n.type=null,n.data=null,n.type=e,n}e(n,t);var r=n.prototype;return r.encode=function(){return this.buffer=this.type.encode(this.data).finish(),!!this.buffer},r.decode=function(t){return!!t&&(this.buffer=t,this.data=this.type.decode(this.buffer),!0)},n}(o));t("ProtoMessage",function(t){function n(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))||this).cmd=0,e}return e(n,t),n}(s));t("ProtoMessageHeartbeat",function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(o)).type=r.ServiceType.Proto,n._RF.pop()}}}));

System.register("chunks:///_virtual/QuickEvent.ts",["cc"],(function(n){var e,t,i,o;return{setters:[function(n){e=n.cclegacy,t=n.Node,i=n.js,o=n.EventHandler}],execute:function(){var d;n("QuickEvent",void 0),e._RF.push({},"78c63TlzW9N1a9pd8RgzI+l","QuickEvent",void 0),function(n){var e=function(n){return n.Click="clickEvents",n.EditingDidBegan="editingDidBegan",n.TextChanged="textChanged",n.EditingDidEnded="editingDidEnded",n.EditingReturn="editingReturn",n.Scroll="scrollEvents",n.Slider="slideEvents",n.Check="checkEvents",n.Page="pageEvents",n.Sync="syncEvents",n.Video="videoPlayerEvent",n.WebView="webviewEvents",n}({});function r(n){return n==d.Type.Click||n==d.Type.Check}function a(n){var e=n.target;n.originCb=n.cb,n.handlerOptions=n.handlerOptions||{},null==n.handlerOptions.playSound&&(n.handlerOptions.playSound=!0);var t=n.cb;if("function"==typeof n.cb){if(!(t=n.cb.name)){var o,d,r="on_"+i.getClassName(e)+"_"+n.type+"_"+(null==(o=n.comp)?void 0:o.uuid);e[r]=null==(d=n.originCb)?void 0:d.bind(e),t=r,Log.w("无法找到函数，重新绑定: "+r)}n.cb=t}return n}n.Type=e,n.addHandler=function(n,e){if(n=a(n),e&&Array.isArray(e)){if(e.find((function(e){return e.originCb==n.originCb})))return void Log.w("事件 "+n.type+" 重复注册");e.push(function(n){var e,d=new o,a=n.target;d.target=a.node,d.component=i.getClassName(a),d.handler=n.cb,d.originCb=n.originCb,d.customEventData=(null==(e=n.handlerOptions)?void 0:e.data)||"";var c=n.comp;return c&&c.node&&r(n.type)&&!c.node.addTouchStartFunc&&n.handlerOptions&&n.handlerOptions.playSound&&(c.node.addTouchStartFunc=function(){var e;null!=(e=n.handlerOptions)&&e.playSoundFunc?n.handlerOptions.playSoundFunc():App.gAudio.playButton()},c.node.on(t.EventType.TOUCH_START,c.node.addTouchStartFunc)),d}(n))}},n.removeHandler=function(n,e){if(n=a(n),e&&Array.isArray(e)){var i=e.findIndex((function(e){return e.originCb==n.originCb}));if(-1!=i){e.splice(i,1);var o=n.comp;o&&o.node&&r(n.type)&&o.node.addTouchStartFunc&&(o.node.off(t.EventType.TOUCH_START,o.node.addTouchStartFunc),delete o.node.addTouchStartFunc)}}}}(d||(d=n("QuickEvent",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/ReleaseManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts","./Resource.ts"],(function(e){var t,s,n,a,o,i,u,l,r,d,c,h,f,g;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy,n=e.assetManager,a=e.SpriteFrame,o=e.Texture2D,i=e.sp,u=e.JsonAsset,l=e.TextAsset,r=e.Asset,d=e.tween,c=e.Tween,h=e.Prefab},function(e){f=e.Macro},function(e){g=e.Resource}],execute:function(){s._RF.push({},"1d61cDX3/lKf7zhBed0DyS1","ReleaseManager",void 0);var m="【释放管理器】 : ",p=function(){function e(e){this.name="",this._caches=new Map,this.name=e}var s=e.prototype;return s.add=function(e){e.addRef();e.stamp=Date.timeNow(),this._caches.set(e.key,e)},s.get=function(e){var t=this._caches.get(e);if(t){var s=t.decRef(!1);return t.isDir?(Log.d(m+"向"+this.name+"获取待释放目录:"+t.key),this._caches.delete(e),t):s?(Log.d(m+"向"+this.name+"获取待释放资源:"+t.key),this._caches.delete(e),t):(Log.w(m+"向"+this.name+"获取待释放资源时，资源"+t.key+"已经释放"),this._caches.delete(e),null)}return null},s.toRelease=function(e){if(this.name==f.BUNDLE_REMOTE)return e.data instanceof r&&(Log.d(m+"bundle : "+this.name+" 释放远程加载资源"+e.url),n.releaseAsset(e.data)),void this._caches.delete(e.key);var t=App.bundleManager.getBundle(e.bundle);this.release(e,t),this._caches.delete(e.key)},s.toReleasePrefab=function(e){Array.isArray(e.data)?e.type==h&&this.toRelease(e):e.data instanceof h&&this.toRelease(e)},s.onLowMemory=function(){var e=this;if(this._caches.size>0){if(Log.d(m+"bundle : "+this.name+" 释放加载的资源"),this.name==f.BUNDLE_REMOTE)return void this._caches.forEach((function(t,s,n){e.toRelease(t)}));var t=n.getBundle(this.name);t?(this._caches.forEach((function(t,s){e.toReleasePrefab(t)})),this._caches.forEach((function(s){e.release(s,t)})),this._caches.clear()):(Log.w(m+"释放bundle : "+this.name+" 时，Bundle已经被释放，直接清空待释放数据"),this._caches.clear())}},s.tryRemove=function(e){this.name==e&&this.onLowMemory()},s.release=function(e,t){var s=e.decRef(!1);e.isDir?Log.d(m+"bundle : "+this.name+" 释放加载目录"+e.fullUrl):s&&(e.refCount<=0?(null==t||t.release(e.url,e.type),Log.d(m+"bundle : "+this.name+" 释放加载资源"+e.url)):e.originaRefCount==e.refCount?Log.d(m+"bundle : "+this.name+" 正常释放加载资源"+e.url):Log.w(m+"bundle : "+this.name+" 资源"+e.url+"正使用中引用计数为:"+e.refCount))},s.tryRemoveTimeoutResources=function(){var e=this;App.isLazyRelease&&App.isAutoReleaseUnuseResources&&(this._caches.forEach((function(t,s,n){t.retain||null!=t.stamp&&Date.timeNow()-t.stamp>=App.autoReleaseUnuseResourcesTimeout&&e.toReleasePrefab(t)})),this._caches.forEach((function(t,s,n){t.retain||null!=t.stamp&&Date.timeNow()-t.stamp>=App.autoReleaseUnuseResourcesTimeout&&e.toRelease(t)})))},s.clear=function(){this._caches.clear()},t(e,[{key:"assets",get:function(){return this._caches}}]),e}();e("ReleaseManager",function(){function e(){this.isResident=!0,this.module=null,this._lazyInfos=new Map,this._bundles=new Map,this._remote=new p(f.BUNDLE_REMOTE),this._uiDatas=new Map,this._actionTag=999}var t=e.prototype;return t.getBundle=function(e){return App.bundleManager.getBundle(e)},t.getBundleName=function(e){return App.bundleManager.getBundleName(e)},t.release=function(e){var t=this.getBundle(e.bundle);if(t)if(App.isLazyRelease){var s,n=t.name;this._lazyInfos.has(n)?s=this._lazyInfos.get(n):(s=new p(n),this._lazyInfos.set(n,s)),App.cache.removeWithInfo(e,t,s)&&(s&&s.add(e),App.cache.remove(e))}else App.cache.removeWithInfo(e,t,null);else Log.e(""+m+e.bundle+" no found")},t.get=function(e,t){var s=this.getBundle(e);if(s){var n=this._lazyInfos.get(s.name);if(n)return n.get(t)}else{Log.w(""+m+e+"不存在，删除释放管理器中的缓存");var a=this.getBundleName(e);this.onLoadBundle(a),this._lazyInfos.delete(a)}return null},t.removeBundle=function(e){var t=this.getBundle(e);App.isLazyRelease?t&&(Log.d(m+"向释放管理器中添加待释放bundle : "+(null==t?void 0:t.name)),this._bundles.set(null==t?void 0:t.name,Date.timeNow())):(Log.d(m+"释放Bundle : "+(null==t?void 0:t.name)),null==t||t.releaseAll(),t&&n.removeBundle(t))},t.onLoadBundle=function(e){this._bundles.delete(e)},t.isExistBunble=function(e){if(App.isLazyRelease){var t=this.getBundleName(e);return!!this._bundles.has(t)}return!1},t.debugUselessBundleAssets=function(e){},t.releaseUselessBundles=function(e){var t=this;void 0===e&&(e=!1),Log.d(m+"-------------释放无用bundle-------------");var s=[],a=Date.timeNow();return this._bundles.forEach((function(o,i){var u=n.getBundle(i);if(u){if(App.bundleManager.isEngineBundle(i))return void Log.d(i+" : 引擎bundle，跳过处理");if(e)a-o>=App.autoReleaseUnuseResourcesTimeout&&(Log.d("释放长时间无用bundle : "+i),t.debugUselessBundleAssets(i),u.releaseAll(),n.removeBundle(u),s.push(i),t._bundles.delete(i),t._lazyInfos.delete(i));else Log.d("释放无用bundle : "+i),t.debugUselessBundleAssets(i),u.releaseAll(),n.removeBundle(u),t._bundles.delete(i),t._lazyInfos.delete(i)}})),s},t.destroyUI=function(e,t){if(e){if(!t)return e.destroy(),this._uiDatas.delete(e.name),!0;if(t-e.cache.stamp>=App.autoReleaseUnuseResourcesTimeout)return e.destroy(),this._uiDatas.delete(e.name),!0}return!1},t.releaseUselessUI=function(e,t){var s=this;void 0===e&&(e=!1);var n=Date.timeNow();this._uiDatas.forEach((function(a,o){t?a.bundle==t&&s.destroyUI(a):e?s.destroyUI(a,n):s.destroyUI(a)}))},t.onLowMemory=function(){Log.d(m+"------------收到内存警告，释放无用资源------------"),this.releaseUselessUI(),this.releaseUselessBundles(),this._lazyInfos.forEach((function(e,t,s){e.onLowMemory()})),Log.d(m+"-------------释放无用远程资源-------------"),this._remote.onLowMemory()},t.onAutoReleaseUnuseResources=function(){var e=this;Log.d(m+"------------释放长时间未使用资源开始------------");var t=App.stageData.where,s=this.releaseUselessBundles(!0);this.releaseUselessUI(!0);var n=Date.timeNow(),a=App.bundleManager;this._uiDatas.forEach((function(t,o){e.destroyUI(t,n)||-1!=s.indexOf(a.getBundleName(t.bundle))&&e.destroyUI(t)})),this._lazyInfos.forEach((function(e,s,n){s!=t&&e.tryRemoveTimeoutResources()})),Log.d(m+"-------------释放无用远程资源-------------"),this._remote.tryRemoveTimeoutResources(),Log.d(m+"------------释放长时间未使用资源结束------------")},t.tryRemoveBundle=function(e){Log.d(m+"--------------尝试释放"+e+"加载资源------------"),this.releaseUselessUI(!1,e),this._lazyInfos.forEach((function(t,s,n){t.tryRemove(e)}));var t=this.getBundleName(e),s=n.getBundle(t);s&&(Log.d("释放无用bundle : "+t),s.releaseAll(),n.removeBundle(s),this._bundles.delete(t),this._lazyInfos.delete(t))},t.getRemote=function(e,t){var s=[];if(t==a){var n=this._remote.get(g.getKey(e,t)),r=this._remote.get(g.getKey(e,o));s.push(n),s.push(r)}else if(t==i.SkeletonData){var d=e+".atlas",c=e+".png",h=e+".json",f=this._remote.get(g.getKey(e,t)),m=this._remote.get(g.getKey(c,o)),p=this._remote.get(g.getKey(h,u)),_=this._remote.get(g.getKey(d,l));s.push(f),s.push(m),s.push(p),s.push(_)}else{var y=this._remote.get(g.getKey(e,t));s.push(y)}return s},t.releaseRemote=function(e,t){void 0===t&&(t=!1),App.isLazyRelease&&!t?this._remote.add(e):e.data instanceof r&&n.releaseAsset(e.data)},t.getUI=function(e,t){void 0===t&&(t=!0);var s=this._uiDatas.get(e);return t?(s&&(s=s.resumeRelease(),this._uiDatas.delete(e)),s):s},t.releaseUI=function(e){e.toRelease()&&this._uiDatas.set(e.name,e)},t.onLoad=function(e){var t=this;App.isAutoReleaseUnuseResources&&App.isLazyRelease&&d(e).repeatForever(d(e).delay(App.autoReleaseUnuseResourcesTimeout).call((function(){t.onAutoReleaseUnuseResources()}))).tag(this._actionTag).start()},t.onDestroy=function(e){c.stopAllByTag(this._actionTag),this.clear()},t.debug=function(){var e=[];this._bundles.forEach((function(t,s,n){e.push(s)}));var t={lazyInfo:this._lazyInfos,bundles:e,remote:this._remote};Log.d("--------------"+this.module+"调试信息如下--------------"),App.isLazyRelease?(this._uiDatas.forEach((function(e,t){Log.d("待释放UI "+t)})),t.bundles.length>0&&Log.d("待释放Bundle : "+t.bundles.toString()),t.lazyInfo.size>0&&t.lazyInfo.forEach((function(e,t,s){Log.d("--------------"+t+"待释放资源--------------"),e.assets.forEach((function(e,t,s){Log.d(JSON.stringify(e.debug()))}))})),Log.d("远程待释放资源"),t.remote.assets.forEach((function(e,t,s){Log.d(JSON.stringify(e.debug()))}))):Log.w("未开户懒释放功能!!!!")},t.clear=function(){this._bundles.clear(),this._lazyInfos.clear(),this._uiDatas.clear(),this._remote.clear()},e}()).module=m,s._RF.pop()}}}));

System.register("chunks:///_virtual/Resource.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,r,s;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,r=t.isValid,s=t.js}],execute:function(){var n;t("Resource",void 0),e._RF.push({},"86fa3hsHP1My5zJYrNKRvgr","Resource",void 0),function(t){var e=function(t){return t[t.LOADING=0]="LOADING",t[t.NO_FOUND_LOAD_RESOURCE=1]="NO_FOUND_LOAD_RESOURCE",t[t.SUCCESS=2]="SUCCESS",t}({});t.LoaderError=e;var u=function(t){return t[t.NONE=0]="NONE",t[t.WAITTING_FOR_RELEASE=1]="WAITTING_FOR_RELEASE",t}({});t.CacheStatus=u;var a=function(t){return t[t.Local=0]="Local",t[t.Remote=1]="Remote",t}({});t.Type=a;var h=function(){function t(t,i,e,r){void 0===r&&(r=!1),this.isDir=!1,this.url="",this.type=null,this.bundle=null,this._retain=!1,this._refCount=0,this.originaRefCount=0,this._data=null,this.deps=[],this.resourceType=a.Local,this.stamp=null,this.isLoaded=!1,this.status=u.NONE,this.finishCb=[],this.url=t,this.type=i,this.bundle=e,this.isDir=r}var e=t.prototype;return e.doFinish=function(t){null!=t&&null!=t||(t={cache:this,asset:this.data});for(var i=0;i<this.finishCb.length;i++)this.finishCb[i]&&this.finishCb[i](t);this.finishCb=[]},e.addRef=function(){if(this.data){if(this.isDir)return this._refCount++,!0;var t=this.data;if(r(t))return t.addRef(),!0}return!1},e.decRef=function(t){if(this.data){if(this.isDir)return this._refCount--,!0;var i=this.data;if(r(i))return i.decRef(t),!0}return!1},e.debug=function(){var t=this,i=s.getClassName(this.type);return{isLoaded:this.isLoaded,info:function(i){if(!i)return[{url:t.fullUrl,isValid:!1,refCount:-1}];if(Array.isArray(i)){var e=[];return i.forEach((function(i){var s=r(i);e.push({url:t.fullUrl+"/"+(s?i.name:"unknown"),isValid:s,refCount:s?i.refCount:-1})})),e}var s=r(i);return[{url:t.fullUrl,isValid:s,refCount:s?i.refCount:-1}]}(this.data),status:this.status,type:i}},i(t,[{key:"key",get:function(){return o(this.url,this.type)}},{key:"description",get:function(){var t=s.getClassName(this.type);return this.resourceType==n.Type.Local?"本地 : "+(Array.isArray(this.data)?"目录":"")+"["+t+"]"+this.fullUrl:"远程 : ["+t+"]"+this.fullUrl}},{key:"fullUrl",get:function(){return this.resourceType==n.Type.Local?this.bundle+"/"+this.url:this.url}},{key:"retain",get:function(){return this._retain},set:function(t){this._retain=t}},{key:"refCount",get:function(){return this.isDir?this._refCount:r(this.data)?this.data.refCount:0}},{key:"data",get:function(){return this._data},set:function(i){var e=this;if(this._data=i,this.isDir&&i&&Array.isArray(i)){var r=App.bundleManager.getBundle(this.bundle);r&&i.forEach((function(i){var s=r.getAssetInfo(i.uuid||i._uuid);if(s){var n=new t(""+s.path,e.type,e.bundle);n.isLoaded=!0,n.data=i,App.cache.set(n),e.deps.push(n.key)}else Log.e(e.url+"."+i.name+" uuid:"+(i.uuid||i._uuid)+"不存在")}))}}},{key:"isInvalid",get:function(){return this.isLoaded&&this.data&&!r(this.data)}}]),t}();function o(t,i){return t.indexOf(s.getClassName(i))>=0?t:t+"("+s.getClassName(i)+")"}t.Cache=h,t.getKey=o}(n||(n=t("Resource",{}))),e._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Resource.ts"],(function(e){var o,t,s,r;return{setters:[function(e){o=e.createClass},function(e){t=e.cclegacy,s=e.Asset},function(e){r=e.Resource}],execute:function(){t._RF.push({},"37b44dS6xRMXKLsf0jg21ne","ResourceLoader",void 0);e("default",function(){function e(){this._resources=[],this._loadedCount=0,this._loadedResource=new Map,this._isLoading=!1,this._tag=null,this._onLoadComplete=void 0,this._onLoadProgress=void 0,this._getLoadResource=void 0}var t=e.prototype;return t.loadResources=function(){var e=this;if(this.getLoadResources){var o=this.getLoadResources();if(o)if(o.length<=0)this.onLoadComplete&&this.onLoadComplete(r.LoaderError.NO_FOUND_LOAD_RESOURCE);else if(this._isLoading)this.onLoadComplete&&this.onLoadComplete(r.LoaderError.LOADING);else{if(this._resources.length>0&&this.isLoadComplete())return this.onLoadComplete&&this.onLoadComplete(r.LoaderError.SUCCESS),void this.onLoadResourceComplete();this._isLoading=!0,this._resources=o,this._loadedCount=0,this._resources.forEach((function(o,t,s){o.preloadView?App.uiManager.preload(o.preloadView,o.bundle,o.isCache).then((function(t){var s=new r.Cache(o.url,o.type,o.bundle);s.isLoaded=!0,s.data=t,o.preloadView&&(s.url=o.preloadView.getPrefabUrl()),s.bundle=o.bundle,e._onLoadResourceComplete(s)})):o.dir?App.asset.loadDir(o.bundle,o.dir,o.type,null,e._onLoadResourceComplete.bind(e)):App.asset.load(o.bundle,o.url,o.type,null,e._onLoadResourceComplete.bind(e))}))}else this.onLoadComplete&&this.onLoadComplete(r.LoaderError.NO_FOUND_LOAD_RESOURCE)}else this.onLoadComplete&&this.onLoadComplete(r.LoaderError.NO_FOUND_LOAD_RESOURCE)},t.unLoadResources=function(){this._unLoadResources()},t._unLoadResources=function(){var e=this;this._isLoading||this._resources.length<=0?this._isLoading&&Log.d("resources is loading , waiting for unload!!!"):(this._resources.forEach((function(o){if(o.url){var t=r.getKey(o.url,o.type);if(t=o.bundle+"/"+t,e._loadedResource.has(t)){var s=e._loadedResource.get(t);s&&App.asset.releaseAsset(s),e._loadedResource.delete(t)}}else if(o.dir){var i=r.getKey(o.dir,o.type);if(i=o.bundle+"/"+i,e._loadedResource.has(i)){var n=e._loadedResource.get(i);n&&App.asset.releaseAsset(n),e._loadedResource.delete(i)}}})),this._isLoading=!1,this._loadedCount=0,this._resources=[])},t._onLoadResourceComplete=function(e){this._loadedCount++,this._onLoadProgress&&(this._loadedCount>this._resources.length&&(this._loadedCount=this._resources.length),this._onLoadProgress(this._loadedCount,this._resources.length,e)),e&&(Array.isArray(e.data)||e.data instanceof s)&&(App.asset.retainAsset(e),this._loadedResource.set(e.bundle+"/"+e.key,e)),this.checkLoadResourceComplete()},t.checkLoadResourceComplete=function(){this.isLoadComplete()&&(this._isLoading=!1,this.onLoadComplete&&this.onLoadComplete(r.LoaderError.SUCCESS),this.onLoadResourceComplete())},t.onLoadResourceComplete=function(){},t.isLoadComplete=function(){return this._loadedCount>=this._resources.length},o(e,[{key:"isLoading",get:function(){return this._isLoading}},{key:"tag",get:function(){return this._tag},set:function(e){this._tag=e}},{key:"onLoadComplete",get:function(){return this._onLoadComplete},set:function(e){this._onLoadComplete=e}},{key:"onLoadProgress",get:function(){return this._onLoadProgress},set:function(e){this._onLoadProgress=e}},{key:"getLoadResources",get:function(){return this._getLoadResource},set:function(e){this._getLoadResource=e}}]),e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ServiceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts"],(function(e){var t,n,c,r;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){c=e.cclegacy},function(e){r=e.Macro}],execute:function(){c._RF.push({},"de02fmAhktFqrVNko/wmjAM","ServiceManager",void 0),e("ServiceManager",function(){function e(){this.module=null,this.services=[],this.waitReconnect=[],this.curReconnect=void 0,this.reconnectTimer=-1}var c=e.prototype;return c.get=function(e,t){var n=this;void 0===t&&(t=!1);var c=this.getModule(e);if(c==r.UNKNOWN)return null;var i=this.getService(c);return i||("string"!=typeof e&&t?(i=new e(c),this.services.push(i),i.flows.reconnectFlow.push((function(e){return e.isDestory||n.reconnect(e),e})),i):null)},c.destory=function(e){if(e)for(var t=this.getModule(e),n=this.services.length;n--;){var c=this.services[n];c.module==t&&(c.destory(),this.destoryFromReconnect(c),this.services.splice(n,1))}else for(var r=this.services.length;r--;){var i=this.services[r];i.destory(),this.destoryFromReconnect(i),this.services.splice(r,1)}},c.destoryFromReconnect=function(e){e==this.curReconnect&&(this.curReconnect=void 0);for(var t=0;t<this.waitReconnect.length;t++)if(this.waitReconnect[t]==e){this.waitReconnect.splice(t,1);break}},c.getModule=function(e){r.UNKNOWN;return"string"==typeof e?e:e.module},c.onDestroy=function(){this.destory()},c.onUpdate=function(e,t){this.services.forEach((function(e){e&&e.update(t)}))},c.stop=function(){this.services.forEach((function(e){e&&e.stop()}))},c.onLoad=function(){},c.onEnterBackground=function(){this.services.forEach((function(e){e.flows.enterBackgroundFlow.exec(e)}))},c.onEnterForgeground=function(){var e=t(n().mark((function e(t){var c,r,i=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n().mark((function e(){var c,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=i.services[r],e.next=4,c.flows.enterForegroundFlow.exec({service:c,enterBackgroundTime:t,isNeedReconnect:!1});case 4:(o=e.sent)&&o.isNeedReconnect&&c.stop().then((function(){i.reconnect(c)}));case 6:case"end":return e.stop()}}),e)})),r=0;case 2:if(!(r<this.services.length)){e.next=7;break}return e.delegateYield(c(),"t0",4);case 4:r++,e.next=2;break;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.reconnect=function(e){var t=this;!this.isWaiReconnect(e)&&e.options.enableReconnect&&this.waitReconnect.push(e),this.sortWait(),clearTimeout(this.reconnectTimer),this.reconnectTimer=setTimeout((function(){t.doReconnect()}),1e3)},c.onReconnected=function(e){for(var t=0;t<this.waitReconnect.length;t++)if(this.waitReconnect[t]==e){this.waitReconnect.splice(t,1),this.sortWait();break}this.curReconnect=void 0,this.doReconnect()},c.doReconnect=function(){var e=t(n().mark((function e(){var t,c=this;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.curReconnect){e.next=25;break}if(!(this.waitReconnect.length>1)){e.next=22;break}if((t=this.waitReconnect[0])==this.curReconnect){e.next=17;break}if(!(this.curReconnect.priority<t.priority)){e.next=12;break}return e.next=7,this.curReconnect.stop();case 7:!this.isWaiReconnect(this.curReconnect)&&this.curReconnect.options.enableReconnect&&this.waitReconnect.push(this.curReconnect),this.sortWait(),e.next=15;break;case 12:return this.curReconnect.reconnect.start((function(e){return c.onReconnected(e)})),e.abrupt("return");case 15:e.next=20;break;case 17:return this.curReconnect.reconnect.start((function(e){return c.onReconnected(e)})),e.abrupt("return");case 20:e.next=25;break;case 22:return this.curReconnect.reconnect.start((function(e){return c.onReconnected(e)})),e.abrupt("return");case 25:if(0!=this.waitReconnect.length){e.next=28;break}return e.abrupt("return");case 28:if(this.curReconnect=this.waitReconnect.shift(),!this.curReconnect){e.next=36;break}if(!this.curReconnect.reconnect.isWaiting&&!this.curReconnect.reconnect.isReconnecting){e.next=33;break}return e.abrupt("return");case 33:return e.next=35,this.curReconnect.reconnect.start((function(e){return c.onReconnected(e)}));case 35:this.curReconnect=void 0;case 36:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.sortWait=function(){this.waitReconnect.length>=1&&this.waitReconnect.sort((function(e,t){return t.priority-e.priority}))},c.getService=function(e){for(var t=0;t<this.services.length;t++)if(this.services[t].module==e)return this.services[t];return null},c.isWaiReconnect=function(e){for(var t=0;t<this.waitReconnect.length;t++)if(this.waitReconnect[t]==e)return!0;return!1},c.debug=function(){Log.d("-----------网络管理器中相关网络信息------------"),this.services.forEach((function(e){var t="Module : "+e.module+" , 进入后台的最大允许时间 : "+e.options.maxEnterBackgroundTime+" , 优先级 : "+e.priority;Log.d(t),t="是否允许重连 : "+e.options.enableReconnect,Log.d(t),t="状态信息 是否连接 : "+e.isConnected+" 网络数据类型 : "+e.serviceType,Log.d(t)}))},e}()).module="【Service管理器】",c._RF.pop()}}}));

System.register("chunks:///_virtual/SettingView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./UIView.ts","./Decorators.ts","./Macros.ts"],(function(t){var e,n,o,i,s,u,c,a,r,l,f,h,g,p,m,d,C,A;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.createClass},function(t){u=t.cclegacy,c=t._decorator,a=t.Node,r=t.find,l=t.Input,f=t.Slider,h=t.Toggle,g=t.game,p=t.ProgressBar},function(t){m=t.Config},function(t){d=t.default},function(t){C=t.inject},function(t){A=t.Macro}],execute:function(){var V,S,y,E,k;u._RF.push({},"c7b13vovM1LjpKzHWM97u42","SettingView",void 0);var v=c.ccclass;t("default",(V=v("SettingView"),S=C("content",a),V((k=e((E=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return(e=t.call.apply(t,[this].concat(s))||this).musicStatus=null,e.effectStatus=null,e.musicVolume=null,e.effectVolume=null,o(e,"content",k,i(e)),e}n(e,t),e.getPrefabUrl=function(){return"common/prefabs/SettingView"};var u=e.prototype;return u.onLoad=function(){t.prototype.onLoad.call(this),this.onN(r("close",this.content),l.EventType.TOUCH_END,this.onClickClose),this.onN(r("background/quit",this.content),l.EventType.TOUCH_END,this.onQuit),this.onN(r("background/restart",this.content),l.EventType.TOUCH_END,this.onRestart);var e=r("background/musicVolume",this.content);this.onN(e,"slide",this.onMusicVolumeChange);var n=r("background/effectVolume",this.content);this.onN(n,"slide",this.onEffectVolumeChange),this.musicVolume=e.getComponent(f),this.effectVolume=n.getComponent(f),this.musicVolume.progress=App.gAudio.musicVolume,this.effectVolume.progress=App.gAudio.effectVolume,this.onMusicVolumeChange(this.musicVolume),this.onEffectVolumeChange(this.effectVolume);var o=r("background/musicStatus",this.content);this.musicStatus=o.getComponent(h);var i=r("background/effectStatus",this.content);this.effectStatus=i.getComponent(h),this.onN(o,"toggle",this.onMusicStatusChange),this.onN(i,"toggle",this.onEffectStatusChange),this.musicStatus.isChecked=App.gAudio.isMusicOn,this.effectStatus.isChecked=App.gAudio.isEffectOn,this.onMusicStatusChange(this.musicStatus,!1),this.onEffectStatusChange(this.effectStatus,!1),this.show(this.args)},u.onClickClose=function(){this.close()},u.onQuit=function(){this.close(),App.alert.show({immediatelyCallback:!0,text:App.getLanguage("quitGame"),confirmCb:function(t){t&&App.entryManager.enterBundle(A.BUNDLE_RESOURCES)}})},u.onRestart=function(){g.restart()},u.onMusicVolumeChange=function(t){App.gAudio.musicVolume=t.progress,t.node.getComponent(p).progress=t.progress},u.onEffectVolumeChange=function(t){App.gAudio.effectVolume=t.progress,t.node.getComponent(p).progress=t.progress},u.onMusicStatusChange=function(t,e){null==e&&App.gAudio.playEffect(m.audioPath.button),t.node.getChildByName("off").active=!t.isChecked,App.gAudio.isMusicOn=t.isChecked},u.onEffectStatusChange=function(t,e){null==e&&App.gAudio.playEffect(m.audioPath.button),t.node.getChildByName("off").active=!t.isChecked,App.gAudio.isEffectOn=t.isChecked},s(e,[{key:"showAction",get:function(){return App.utils.showView(this.content)}},{key:"closeAction",get:function(){return App.utils.hideView(this.content)}}]),e}(d)).prototype,"content",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=E))||y));u._RF.pop()}}}));

System.register("chunks:///_virtual/Singleton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SingletonT.ts"],(function(n){var t,e,i,c;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){i=n.cclegacy},function(n){c=n.SingletonT}],execute:function(){i._RF.push({},"6524eDwP+pOxIVce9Jvkz7a","Singleton",void 0),n("Singleton",function(n){function i(){for(var t,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];return(t=n.call.apply(n,[this].concat(i))||this).module="【单列管理器】",t}return t(i,n),i.get=function(n,t){var e;void 0===t&&(t=!0);for(var i=arguments.length,c=new Array(i>2?i-2:0),o=2;o<i;o++)c[o-2]=arguments[o];return(e=this.instance).get.apply(e,[n,t].concat(c))},i.destory=function(n){return this.instance.destory(n)},i.destoryExclude=function(n){return this.instance.destoryExclude(n)},i.clear=function(n){this.instance.clear(n)},i.debug=function(){this.instance.debug()},i.onDestroy=function(n){this.instance.onDestroy(n)},i.onUpdate=function(n,t){this.instance.onUpdate(n,t)},e(i,null,[{key:"instance",get:function(){return this._instance||(this._instance=new i)}}]),i}(c))._instance=null,i._RF.pop()}}}));

System.register("chunks:///_virtual/SingletonT.ts",["cc","./Macros.ts"],(function(t){var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.Macro}],execute:function(){e._RF.push({},"cada6ZZEXlHUKK5Bplpb0ho","SingletonT",void 0);t("SingletonT",function(){function t(){this._datas=new Map,this.module=null}var e=t.prototype;return e.get=function(t,e){void 0===e&&(e=!0);var o=this.getKey(t);if(o==n.UNKNOWN)return null;if(this._datas.has(o))return this._datas.get(o);if("string"!=typeof t&&e){var d,s=null;(s=t.instance?t.instance:new t(t.module)).module=t.module,Log.d(s.module+"初始化");for(var u=arguments.length,r=new Array(u>2?u-2:0),i=2;i<u;i++)r[i-2]=arguments[i];return s.init&&(d=s).init.apply(d,r),this._datas.set(t.module,s),s}return null},e.destory=function(t){var e=this;if(t){var n=this.getKey(t);if(this._datas.has(n)){Log.d(n+"销毁");var o=this._datas.get(n);return o&&(null==o.onDestroy||o.onDestroy(null),null==o.destory||o.destory()),this._datas.delete(n),!0}return!1}return this._datas.forEach((function(t){t.isResident?Log.d(t.module+"为常驻单列，不做销毁处理"):(Log.d(t.module+"销毁"),null==t.onDestroy||t.onDestroy(null),null==t.destory||t.destory(),e._datas.delete(t.module))})),!0},e.destoryExclude=function(t){var e=this;if(!t)return this._datas.forEach((function(t){t.isResident?Log.d(t.module+"为常驻单列，不做销毁处理"):(Log.d(t.module+"销毁"),t.destory&&t.destory(),e._datas.delete(t.module))})),!0;this._datas.forEach((function(n,o){e.isInExclude(n,t)||(n.isResident?Log.d(n.module+"为常驻单列，不做销毁处理"):(Log.d(n.module+"销毁"),n.destory&&n.destory(),e._datas.delete(n.module)))}))},e.clear=function(t){var e=this;t?this._datas.forEach((function(n,o){e.isInExclude(n,t)||(Log.d(n.module+"清理"),n.clear&&n.clear())})):this._datas.forEach((function(t,e){Log.d(t.module+"清理"),t.clear&&t.clear()}))},e.onDestroy=function(t){this._datas.forEach((function(e){null==e.onDestroy||e.onDestroy(t)}))},e.onUpdate=function(t,e){this._datas.forEach((function(n){null==n.onUpdate||n.onUpdate(t,e)}))},e.debug=function(){Log.d("************************** "+this.module+" 开始 **************************"),this._datas.forEach((function(t,e,n){t.debug?t.debug():Log.d(t.module+" : 未实现debug接口")})),Log.d("************************** "+this.module+" 结束 **************************")},e.isInExclude=function(t,e){if(!e)return!1;for(var n=0;n<e.length;n++){if(this.getKey(e[n])==t.module)return!0}return!1},e.getKey=function(t){n.UNKNOWN;return"string"==typeof t?t:t.module},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/Snapshot.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,s,i,n,r,o,p,h,c,u,g,l,f;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,s=e._decorator,i=e.RenderTexture,n=e.view,r=e.UITransform,o=e.ImageAsset,p=e.Texture2D,h=e.SpriteFrame,c=e.sys,u=e.Size,g=e.native,l=e.assetManager,f=e.Component}],execute:function(){var _;a._RF.push({},"1ff00yaE7BLMZ9D4Mudhp/4","Snapshot",void 0);var v=s.ccclass;s.property,e("Snapshot",v("Snapshot")(_=function(e){function a(){for(var t,a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))||this)._camera=null,t.onCaptureComplete=void 0,t._texture=null,t._canvas=null,t._buffer=null,t}t(a,e);var s=a.prototype;return s.start=function(){var t=this;this._camera=App.uiManager.screenShotCamera,e.prototype.start&&e.prototype.start.call(this),this._texture=new i,this._texture.reset({width:n.getVisibleSize().width,height:n.getVisibleSize().height}),this._camera.targetTexture=this._texture,this._camera.node.active=!0,this.scheduleOnce((function(){t.capture()}),.2)},s.onDestroy=function(){this._camera.node.active=!1,e.prototype.onDestroy&&e.prototype.onDestroy.call(this)},s.capture=function(){var e=this.node.getComponent(r);if(e){var t=e.width,a=e.height,s=e.getBoundingBoxToWorld(),i=s.x,n=s.y;this._buffer=this._texture.readPixels(Math.round(i),Math.round(n),t,a),this.saveImage()}},s.genSpriteFrame=function(e,t){var a=new o;a.reset({_data:this._buffer,width:e,height:t,format:p.PixelFormat.RGBA8888,_compressed:!1});var s=new p;s.image=a;var i=new h;return i.texture=s,i.packable=!1,i.flipUVY=!0,i},s.createImageData=function(e,t,a){if(c.isBrowser||c.platform===c.Platform.WECHAT_GAME){this._canvas?this.clearCanvas():(this._canvas=document.createElement("canvas"),this._canvas.width=e,this._canvas.height=t);for(var s=this._canvas.getContext("2d"),i=4*e,n=0;n<t;n++){for(var r=t-1-n,o=s.createImageData(e,1),p=r*e*4,h=0;h<i;h++)o.data[h]=a[p+h];s.putImageData(o,0,n)}}},s.onCaptureFinish=function(e,t,a){this.onCaptureComplete&&(null==a&&(a=this.genSpriteFrame(e,t)),this.onCaptureComplete(a,new u(e,t))),this.destroy()},s.flipImageY=function(e,t,a){for(var s=new Uint8Array(t*a*4),i=4*t,n=a-1,r=0;r<a;r++)for(var o=(n-r)*i,p=r*i,h=0;h<i;h++)s[h+p]=e[o+h];return s},s.savaAsImage=function(e,t,a){var s=this;if(c.isBrowser)this.createImageData(e,t,a),App.canvasHelper.saveAsPNG(this._canvas,e,t),App.tips.show(App.getLanguage("capture_success")),this.onCaptureFinish(e,t);else if(c.isNative){var i=(new Date).format("yyyy_MM_dd_hh_mm_ss_SS")+".png",n=App.platform.screenshotsPath+"/"+i,r=this.flipImageY(this._buffer,e,t);g.saveImageData(r,e,t,n).then((function(){s.onCaptureComplete&&l.loadRemote(n,(function(a,i){if(a)Log.d("show image error");else{var r=new h,o=new p;o.image=i,r.texture=o,r.packable=!1,App.tips.show(App.getLanguage("capture_save_local_success1",[n])),s.onCaptureFinish(e,t,r)}})),Log.d("save image data success, file: "+n),App.tips.show(App.getLanguage("capture_save_local_success2",[n]))})).catch((function(){Log.e("save image data failed!"),App.tips.show(App.getLanguage("capture_save_failed"))}))}else c.platform===c.Platform.WECHAT_GAME&&(this.createImageData(e,t,a),this._canvas.toTempFilePath({x:0,y:0,width:this._canvas.width,height:this._canvas.height,destWidth:this._canvas.width,destHeight:this._canvas.height,fileType:"png",success:function(e){wx.showToast({title:App.getLanguage("capture_success")}),App.tips.show(App.getLanguage("capture_success")),wx.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(e){wx.showToast({title:App.getLanguage("capture_save_photo_album")}),App.tips.show(App.getLanguage("capture_save_local_success2",[e.tempFilePath]))},fail:function(){App.tips.show(App.getLanguage("capture_save_failed"))}})},fail:function(){wx.showToast({title:App.getLanguage("capture_failed")}),App.tips.show(App.getLanguage("capture_failed"))}}),this.onCaptureFinish(e,t))},s.clearCanvas=function(){var e=this._canvas.getContext("2d");e&&e.clearRect(0,0,this._canvas.width,this._canvas.height)},s.saveImage=function(){var e=this.node.getComponent(r);e&&this.savaAsImage(e.width,e.height,this._buffer)},a}(f))||_);a._RF.pop()}}}));

System.register("chunks:///_virtual/StageData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameData.ts","./Macros.ts","./Entry.ts"],(function(t){var e,n,h,r,s,a,i;return{setters:[function(t){e=t.inheritsLoose,n=t.createClass},function(t){h=t.cclegacy,r=t.view},function(t){s=t.GameData},function(t){a=t.Macro},function(t){i=t.EntryData}],execute:function(){h._RF.push({},"c284cIfNW5DV5M9KCSAIfPf","StageData",void 0),t("StageData",function(t){function h(){for(var e,n=arguments.length,h=new Array(n),r=0;r<n;r++)h[r]=arguments[r];return(e=t.call.apply(t,[this].concat(h))||this).isResident=!0,e.defaultData=[{sort:0,type:0,name:{CN:"主包",EN:"Main"},bundle:a.BUNDLE_RESOURCES},{sort:1,type:1,name:{CN:"大厅",EN:"Hall"},bundle:a.BUNDLE_HALL}],e._bundles={},e.isShowDebugButton=!0,e._sceneStack=[],e._where=a.UNKNOWN,e._attachStack={},e._attachWhere=a.UNKNOWN,e._entrys=[],e}e(h,t);var s=h.prototype;return s.clearAttachStack=function(){this.where!=a.UNKNOWN&&(this._attachStack[this.where]=[]),this._attachWhere=a.UNKNOWN},s.init=function(e){var n=this;t.prototype.init.call(this),e||(e=this.defaultData),e.sort((function(t,e){return t.sort-e.sort})),this._entrys=[],this._bundles={},e.forEach((function(t){n._bundles[t.bundle]=t.type,n._bundles[t.type]=t.bundle,n._entrys.push(new i(t))}))},s.isLoginStage=function(t){return t?t==a.BUNDLE_RESOURCES:this.where==a.BUNDLE_RESOURCES},s.isHallStage=function(t){return t?t==a.BUNDLE_HALL:this.where==a.BUNDLE_HALL},s.getEntry=function(t){for(var e=null,n=0;n<this._entrys.length;n++)if(this._entrys[n].bundle==t){e=this._entrys[n].update;break}return e},s.push=function(t){for(var e=0,n=this._sceneStack.length-1;n>=0;n--){if(this._sceneStack[n]==t){e=this._sceneStack.length-n;break}}for(;e>0;)this._sceneStack.pop(),e--;this._sceneStack.push(t),Log.d(this.module+"压入场景 : "+t),Log.d(this.module+"当前场景堆栈 : "+this._sceneStack.toString())},s.pushAttach=function(t){var e=0,n=this._attachStack[this.where];if(n)for(var h=n.length-1;h>=0;h--){if(n[h]==t){e=n.length-h;break}}else n=[],this._attachStack[this.where]=n;for(;e>0;)n.pop(),e--;n.push(t),Log.d(this.module+"附加运行压入场景 : "+t),Log.d(this.module+"附加运行当前场景堆栈 : "+n.toString())},n(h,[{key:"bundles",get:function(){return this._bundles}},{key:"isLandscape",get:function(){var t=r.getDesignResolutionSize();return t.width>t.height}},{key:"where",get:function(){return this._where},set:function(t){Log.d(""+this.module+this._where+" ==> "+t);var e=this._where;this._where=t,e!=t&&this.push(t)}},{key:"prevWhere",get:function(){var t=void 0;return this._sceneStack.length>=2&&(t=this._sceneStack[this._sceneStack.length-2]),Log.d(this.module+"获取的上一场景 : "+t),t}},{key:"attachWhere",get:function(){return this._attachWhere},set:function(t){Log.d(this.module+"附加运行场景 "+String(this._attachWhere)+" ==> "+t);var e=this._attachWhere;this._attachWhere=t,e!=t&&this.pushAttach(t)}},{key:"prevAttachWhere",get:function(){var t=void 0,e=this._attachStack[this.where];return e&&e.length>=2&&(t=e[e.length-2]),Log.d(this.module+"获取的上一附加场景 : "+t),t}},{key:"excludeAttachWhere",get:function(){var t=this,e=this._attachStack[this.where];return e?e.filter((function(e){return e!=t.attachWhere})):[]}},{key:"attachs",get:function(){var t=this._attachStack[this.where];return t||[]}},{key:"entrys",get:function(){return this._entrys}},{key:"games",get:function(){for(var t=[],e=0;e<this._entrys.length;e++){var n=this._entrys[e];n.bundle!=a.BUNDLE_HALL&&n.bundle!=a.BUNDLE_RESOURCES&&t.push(n)}return t}}]),h}(s)).module="【Stage数据】",h._RF.pop()}}}));

System.register("chunks:///_virtual/StateMachine.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var n,i;return{setters:[function(t){n=t.createClass},function(t){i=t.cclegacy}],execute:function(){var r;t("BuildTransition",(function(t,n,i){return{from:t,to:n,onTransition:i}})),i._RF.push({},"beec43oyY1GvrskHvSg8W05","StateMachine",void 0);var o=function(t){return t[t.NoFoundTransition=0]="NoFoundTransition",t[t.Transiting=1]="Transiting",t[t.ChangeStateFailure=2]="ChangeStateFailure",t}(o||{}),s=((r={})[o.NoFoundTransition]="You can not {0} now. Current state is {1}",r[o.Transiting]="This is transiting now. You cannot transition more times at one time.",r[o.ChangeStateFailure]="From {0} to {1} state failure",r);t("default",function(){function t(t){this._transitions=null,this._curState=void 0,this._originTransitions=null,this._isTransiting=!1,this.onBefore=void 0,this.onAfter=void 0,this.onError=void 0;var n=t.init,i=t.transitions;this._curState=n,this.setupTransitions(i)}var i=t.prototype;return i.setupTransitions=function(t){var n=this;this._originTransitions=t,this._transitions={},Object.keys(t).forEach((function(i){var r=i,e=t[r],a=n;n._transitions[r]=function(){if(a.exist(r))if(a._isTransiting)a.postError(o.Transiting,s[o.Transiting]);else{var t=a._curState,n=a._findDir(t,e);if(null!=n){var i=n.to,u=n.onTransition,f="function"==typeof i?Reflect.apply(i,this,arguments):i;a._isTransiting=!0,a.onBefore&&a.onBefore(t,f);var c=!0;if(u&&(c=u(t,f)),!c)return a.postError(o.ChangeStateFailure,String.format(s[o.ChangeStateFailure],t,f)),a.onAfter&&a.onAfter(t,f),void(a._isTransiting=!1);a._curState=f,a.onAfter&&a.onAfter(t,f),a._isTransiting=!1}else a.postError(o.NoFoundTransition,String.format(s[o.NoFoundTransition],r,a._curState))}else a.postError(o.NoFoundTransition,String.format(s[o.NoFoundTransition],r,a._curState))}}))},i.postError=function(t,n){this.onError&&this.onError(t,n)},i.is=function(t){return this._curState==t},i.exist=function(t){var n=this._originTransitions[t];return!!n&&null!=this._findDir(this._curState,n)},i._findDir=function(t,n){return Array.isArray(n)?this._findDirOfArray(t,n):this._isIncludeState(n.from,t)?n:null},i._findDirOfArray=function(t,n){for(var i in n){var r=n[i];if(this._isIncludeState(r.from,t))return r}return null},i._isIncludeState=function(t,n){return"*"===t||(n===t||!(!Array.isArray(t)||-1==t.indexOf(n)))},n(t,[{key:"transition",get:function(){return this._transitions}},{key:"state",get:function(){return this._curState}}]),t}()).Code=o,i._RF.pop()}}}));

System.register("chunks:///_virtual/TableView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayoutDefines.ts","./TableViewCell.ts"],(function(t){var e,i,s,l,n,o,r,h,a,c,d,f,u,_,g,p,v,O,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,l=t.assertThisInitialized,n=t.createClass},function(t){o=t.cclegacy,r=t._decorator,h=t.Enum,a=t.instantiate,c=t.UITransform,d=t.Size,f=t.Vec2,u=t.v2,_=t.Vec3,g=t.ScrollView,p=t.v3},function(t){v=t.LayoutParam,O=t.LayoutType},function(t){I=t.TableViewCell}],execute:function(){var y,C,T,b,S,m,w,x,D,A,L,R,z,U,N,P,B;o._RF.push({},"c1f55MBNyFBBpES2blsDr0B","TableView",void 0);var E=r.ccclass,V=r.property,H=r.menu,Z=function(t){return t[t.HORIZONTAL=0]="HORIZONTAL",t[t.VERTICAL=1]="VERTICAL",t}(Z||{}),k=function(t){return t[t.TOP_DOWN=0]="TOP_DOWN",t[t.BOTTOM_UP=1]="BOTTOM_UP",t}(k||{}),F=function(){function t(t,e,i,s){this._view=null,this._templete=null,this._offset=null,this.index=0,this.left=0,this.right=0,this.top=0,this.bottom=0,this.position=p(0,0,0),this._templete=t,this._view=e,this.index=s,this.init(i)}var e=t.prototype;return e.init=function(t){var e=this.node.getComponent(c);this.left=e.width*e.anchorX,this.right=e.width*(1-e.anchorX),this.top=e.height*(1-e.anchorY),this.bottom=e.height*e.anchorY,this.isHorizontal?this._offset=u(t,0):this._offset=u(0,t)},e.calculatePosition=function(){var t=this._align(this.node,this._view.content,this._offset);return this.position.x=t.x,this.position.y=t.y,this.position},e.clone=function(){var e=new t(this._templete,this._view,this.offset,this.index);return e.position.x=this.position.x,e.position.y=this.position.y,e},e._align=function(t,e,i){var s=new v;return s.node=t,s.target=e,this.isHorizontal?this.fillOrder==k.TOP_DOWN?(s.alignFlags=O.MID_LETF,s.left=i.x):(s.alignFlags=O.MID_RIGHT,s.right=i.x):this.fillOrder==k.TOP_DOWN?(s.alignFlags=O.CENTER_TOP,s.top=i.y):(s.alignFlags=O.CENTER_BOT,s.bottom=i.y),App.layout.align(s),s.result.position},e.debug=function(t,e){var i="["+this.index+"] 位置 : ("+this.position.x+","+this.position.y+") , 偏移 : "+this.offset+" , 左 : "+this.left+" , 右 : "+this.right+" , 上 : "+this.top+" , 下 : "+this.bottom+" ";t&&(i=t+i),e&&(i+=e),Log.d(i)},e.calculateSight=function(t,e,i,s){var l={isInSight:!1,offset:0},n=this.node.getComponent(c);if(e)if(t==k.TOP_DOWN){var o=this.node.scale.x,r=this.position.x;o<0&&(r-=this.right);var h=i.x+r-this.left;if(h>=0)h<s.width&&(l.isInSight=!0);else n.width+h>0&&(l.isInSight=!0);l.offset=h}else{var a=this.node.scale.x,d=this.position.x;a<0&&(d+=this.left);var f=i.x+d-this.left;if(f>0)f<s.width&&(l.isInSight=!0);else n.width+f>0&&(l.isInSight=!0);l.offset=f}else if(t==k.TOP_DOWN){var u=this.node.scale.y,_=this.position.y;u<0&&(_+=this.bottom);var g=i.y+_+this.top;g>0?g>n.height||(l.isInSight=!0):s.height+g<0||(l.isInSight=!0),l.offset=g}else{var p=this.node.scale.y,v=this.position.y;p<0&&(v-=this.top);var O=-(i.y+v+this.top);if(O>=0)s.height-O<0||(l.isInSight=!0);else-O>n.height||(l.isInSight=!0);l.offset=O}return l},n(t,[{key:"isHorizontal",get:function(){return this._view.direction==Z.HORIZONTAL}},{key:"fillOrder",get:function(){return this._view.fillOrder}},{key:"node",get:function(){return this._templete.node}},{key:"offset",get:function(){return this.isHorizontal?this._offset.x:this._offset.y}}]),t}();t("default",(y=E("TableView"),C=H("QuickUI组件/TableView"),T=V({override:!0,displayOrder:20,visible:function(){return this.direction==Z.HORIZONTAL}}),b=V({override:!0,displayOrder:21,visible:function(){return this.direction==Z.VERTICAL}}),S=V({tooltip:"滚动方向 \nHORIZONTAL 水平方向 \nVERTICAL 垂直方向",displayName:"Direction",type:h(Z),visible:!0,displayOrder:22}),m=V({visible:!1,override:!0}),w=V({visible:!1,override:!0}),x=V({tooltip:"Cell项模板",displayName:"Template",type:I,visible:!0,displayOrder:23}),D=V({displayOrder:24,tooltip:"填充方式 \nTOP_DOWN 水平方向时，从左到右填充，垂直方向时，从上到下填充 \nBOTTOM_UP 水平方向时，从右到左填充，垂直方向时，从下到上填充",type:h(k)}),y(A=C(((B=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return e=t.call.apply(t,[this].concat(n))||this,s(e,"_direction",R,l(e)),s(e,"horizontal",z,l(e)),s(e,"vertical",U,l(e)),s(e,"_template",N,l(e)),e._templateSize=new Map,s(e,"fillOrder",P,l(e)),e._delegate=null,e._cellsUsed=[],e._cellsFreed=[],e._cellsInfos=[],e._indices=new Set,e._isUsedCellsDirty=!1,e._oldDirection=null,e._isDoing=!1,e._isShowAllCell=!1,e}i(e,t);var o=e.prototype;return o.scrollToIndex=function(t,e,i){if(void 0===e&&(e=0),void 0===i&&(i=!0),this.content)if(t>=0&&t<this.delegate.numberOfCellsInTableView(this)){var s=this.getScrollOffset(),l=this._cellsInfos[t];if(this.fillOrder==k.TOP_DOWN)this.direction==Z.HORIZONTAL?s.x=l.offset:s.y=l.offset;else{var n=this._cellsInfos[t+1];this.direction==Z.HORIZONTAL?s.x=this.contentSize.width-n.offset:s.y=this.contentSize.height-n.offset}this.scrollToOffset(s,e,i)}else Log.e("错误的index : "+t)},o.updateCellAtIndex=function(t){var e=this.delegate.numberOfCellsInTableView(this);if(e>0&&t<e&&t>=0){var i=this.cellAtIndex(t);i&&this._moveCellOutOfSight(i);var s=this.delegate.tableCellTypeAtIndex(this,t);if(!(i=this._dequeueCell(s))){var l=this._getTemplete(s);if(!l)return;i=a(l.node).getComponent(I)}i&&(this._setIndexForCell(t,i),this._addCellIfNecessary(i),i.init(),this._updateCellData(i))}},o.insertCellAtIndex=function(t){var e=this.delegate.numberOfCellsInTableView(this);if(0!=e&&(null!=t&&null!=t||(t=e-1),!(t>e-1))){this._isDoing=!0;var i=this.getScrollOffset();this._updateCellOffsets(),this._updateContentSize();var s=this.cellAtIndex(t);if(s){Log.d("插入的Cell["+t+"]在显示区域内");var l=this._getCellIndex(s);this._moveCellIndex(l)}else Log.d("插入的Cell"+t+"不在显示区域内,更新显示区域内的索引"),this._moveCellIndex(t);var n=this.delegate.tableCellTypeAtIndex(this,t),o=this._dequeueCell(n);if(!o){var r=this._getTemplete(n);if(!r)return;o=a(r.node).getComponent(I)}o&&(this._setIndexForCell(t,o),this._addCellIfNecessary(o),o.init(),this._updateCellData(o),this._isDoing=!1,this._calculateSightArea(),this.scrollToOffset(i))}},o.removeCellAtIndex=function(t,e){var i=this.delegate.numberOfCellsInTableView(this);if(i>0&&t>=0&&t<i){var s=this.getScrollOffset();e(t),this._isDoing=!0,this._updateCellOffsets(),this._updateContentSize(),this._moveCellIndex(t,!0),this._isDoing=!1,this._calculateSightArea(),this.scrollToOffset(s)}},o.reloadData=function(t){void 0===t&&(t=!0),this._oldDirection=t?null:this.direction;for(var e=0;e<this._cellsUsed.length;e++){var i,s=this._cellsUsed[e];if(this.delegate.tableCellWillRecycle&&this.delegate.tableCellWillRecycle(this,s),this._cellsFreed.push(s),s.reset(),s.node.parent==this.content)null==(i=this.content)||i.removeChild(s.node)}this._indices.clear(),this._cellsUsed=[],this._isDoing=!0,this._updateCellOffsets(),this._updateContentSize(),this._isDoing=!1,this._calculateSightArea(),this._oldDirection!=this.direction&&(this.delegate.numberOfCellsInTableView(this)>0&&(this.direction==Z.HORIZONTAL?this.scrollToLeft():this.scrollToTop()),this._oldDirection=this.direction)},o.cellAtIndex=function(t){if(this._indices.has(t))for(var e=0;e<this._cellsUsed.length;e++)if(this._cellsUsed[e].index==t)return this._cellsUsed[e];return null},o._updateCellIndices=function(t){var e=this,i=[];if(this._indices.forEach((function(t,e,s){i.push(t)})),!(i.length<=0)){this._indices.clear();for(var s=function(s){var l=t.find((function(t){return t.from==i[s]}));l&&(i[s]=l.to),e._indices.add(i[s])},l=0;l<i.length;l++)s(l)}},o._moveCellIndex=function(t,e){void 0===e&&(e=!1);var i=[],s=e?-1:1;if(e){var l=this._cellsUsed.findIndex((function(e,i,s){return e.index==t}));-1!=l&&this._moveCellOutOfSight(this._cellsUsed[l])}for(var n=0;n<this._cellsUsed.length;n++){var o=this._cellsUsed[n];if(o.index>=t){if(e&&o.index==t)continue;var r=o.index,h=o.index+s;this._setIndexForCell(h,o),this._updateCellData(o),i.push({from:r,to:h})}else this._updateCellPosition(o)}this._updateCellIndices(i)},o._sortCell=function(){this._cellsUsed=this._cellsUsed.sort((function(t,e){return t.index-e.index}))},o._debugCellInfos=function(t){Log.d("--------------------- "+t+" ---------------------"),this._cellsInfos.forEach((function(t){t.debug()}))},o._debugCell=function(t){Log.d("--------------------- "+t+" ---------------------"),Log.d("当前显示节点 :",this._indices),this._cellsUsed.forEach((function(t,e,i){Log.d("["+e+"] , type : "+t.type+" ,index : "+t.index+" , "+t.string+" , position : ("+t.node.position.x+","+t.node.position.y+")")}))},o._getCellIndex=function(t){for(var e=0;e<this._cellsUsed.length;e++)if(this._cellsUsed[e]===t)return this._cellsUsed[e].index;return-1},o._debugData=function(){this.delegate&&this.delegate.tableDebug&&this.delegate.tableDebug(this)},o._updateCellData=function(t){this.delegate.updateCellData(this,t)},o._updateCellPosition=function(t){var e=this._cellsInfos[t.index];t.node.setPosition(e.position)},o._addCellIfNecessary=function(t){var e;t.node.parent!=this.content?null==(e=this.content)||e.addChild(t.node):Log.e("添加的Cell 已经有父节点");this._cellsUsed.push(t),this._indices.add(t.index),this._isUsedCellsDirty=!0},o._setIndexForCell=function(t,e){e.view=this,e.index=t,e.node.active=!0;var i=this._cellsInfos[t];e.node.setPosition(i.position)},o._dequeueCell=function(t){if(this._cellsFreed.length<=0)return null;for(var e=0;e<this._cellsFreed.length;e++){var i=this._cellsFreed[e];if(i.type==t)return this._cellsFreed.splice(e,1),i}return null},o._updateCellOffsets=function(){var t=this.delegate.numberOfCellsInTableView(this);if(this._cellsInfos=[],t>0){var e,i=0,s={width:0,height:0},l=0,n=null;for(l=0;l<t;l++){e=this.delegate.tableCellTypeAtIndex(this,l),n=this._getTemplete(e);var o=new F(n,this,i,l);this._cellsInfos.push(o);var r=n.node.getComponent(c);s.width=r.width,s.height=r.height,this.direction==Z.HORIZONTAL?i+=s.width:i+=s.height}var h=new F(n,this,i,l);this._cellsInfos.push(h)}},o._updateCellPositions=function(){this._cellsInfos.forEach((function(t){t.calculatePosition()}))},o._updateContentSize=function(){var t=new d(0,0),e=this.delegate.numberOfCellsInTableView(this);if(e>0){var i=this._cellsInfos[e].offset;t=this.direction==Z.HORIZONTAL?new d(i,this.viewSize.height):new d(this.viewSize.width,i)}this.content&&this.content.getComponent(c).setContentSize(t);this._updateCellPositions()},o._calculateSightArea=function(){if(this.content&&!this._isDoing){var t=this.content.position,e=new f(t.x,t.y),i=this.contentSize,s=this.contentAnchor,l=this.viewSize,n=this.viewAnchor,o=-s.y*i.height,r=-n.y*l.height,h=n.x*l.width;o=e.y+o;var a=null;a=this.direction==Z.HORIZONTAL?u(h,e.y).add(e):u(e.x,r).add(e),this._isUsedCellsDirty&&this._sortCell();var c=Math.max(this.delegate.numberOfCellsInTableView(this)-1,0),d=this._calculateInInSight(a);if(d){if(this._cellsUsed.length>0)for(var _=this._cellsUsed[0],g=_.index;g<d.start&&(this._moveCellOutOfSight(_),this._cellsUsed.length>0);)g=(_=this._cellsUsed[0]).index;if(this._cellsUsed.length>0)for(var p=this._cellsUsed[this._cellsUsed.length-1],v=p.index;v<=c&&v>d.end&&(this._moveCellOutOfSight(p),this._cellsUsed.length>0);)v=(p=this._cellsUsed[this._cellsUsed.length-1]).index;for(var O=d.start;O<=d.end;O++)this._indices.has(O)||this.updateCellAtIndex(O)}}},o._getTemplete=function(t){for(var e=0;e<this.template.length;e++){if(this.template[e].type==t)return this.template[e]}return null},o._moveCellOutOfSight=function(t){this.delegate&&this.delegate.tableCellWillRecycle&&this.delegate.tableCellWillRecycle(this,t),this._cellsFreed.push(t);var e,i=this._cellsUsed.indexOf(t);(-1!=i&&this._cellsUsed.splice(i,1),this._indices.delete(t.index),t.reset(),t.node.parent==this.content)&&(null==(e=this.content)||e.removeChild(t.node));this._isUsedCellsDirty=!0},o._calculateInInSight=function(t){var e=null;if(this._cellsInfos.length<=0)return e;var i=this.delegate.numberOfCellsInTableView(this);if(i<=0)return e;if(e={start:0,end:0,count:i},this._isShowAllCell)return e.start=0,e.end=i-1,e;if(1==i)return e;for(var s=0,l=i,n=this.viewSize,o=-1,r=0;l>=s;){if((r=Math.floor(s+(l-s)/2))<0||r>=this._cellsInfos.length)return null;var h=this._cellsInfos[r].calculateSight(this.fillOrder,this.direction==Z.HORIZONTAL,t,n);if(h.isInSight){o=r;break}if(r+1<0||r+1>=this._cellsInfos.length)return null;var a=this._cellsInfos[r+1].calculateSight(this.fillOrder,this.direction==Z.HORIZONTAL,t,n);if(a.isInSight){o=r;break}Math.abs(h.offset)<Math.abs(a.offset)?l=r-1:s=r+1}if(o<0)return null;e.start=o,e.end=o;for(var c=o-1;c>=0;c--){if(!this._cellsInfos[c].calculateSight(this.fillOrder,this.direction==Z.HORIZONTAL,t,n).isInSight)break;e.start=c}for(var d=o+1;d<i;d++){if(!this._cellsInfos[d].calculateSight(this.fillOrder,this.direction==Z.HORIZONTAL,t,n).isInSight)break;e.end=d}return e},o.scrollToTopLeft=function(t,e){Log.w("不支持该方法")},o.scrollToTopRight=function(t,e){Log.w("不支持该方法")},o.scrollToBottomLeft=function(t,e){Log.w("不支持该方法")},o.scrollToBottomRight=function(t,e){Log.w("不支持该方法")},o._onMouseWheel=function(t,e){if(this.enabledInHierarchy&&!this._hasNestedViewGroup(t,e)){var i=new _,s=t.getScrollY();this.direction==Z.VERTICAL?i.set(0,-.1*s,0):i.set(-.1*s,0,0),this._mouseWheelEventElapsedTime=0,this._processDeltaMove(i),this._stopMouseWheel||(this._handlePressLogic(),this.schedule(this._checkMouseWheel,1/60,NaN,0),this._stopMouseWheel=!0),this._stopPropagationIfTargetIsMe(t)}},o._flattenVectorByDirection=function(t){var e=t;return e.x=this.direction==Z.HORIZONTAL?e.x:0,e.y=this.direction==Z.VERTICAL?e.y:0,e},o._setContentPosition=function(t){var e;if(this._content){var i=null==(e=this.content)?void 0:e.getPosition();Math.abs(t.x-i.x)<this.getScrollEndedEventTiming()&&Math.abs(t.y-i.y)<this.getScrollEndedEventTiming()||(this._content.setPosition(t),this._calculateSightArea(),this._outOfBoundaryAmountDirty=!0)}},n(e,[{key:"horizontalScrollBar",get:function(){return this._horizontalScrollBar},set:function(t){this._horizontalScrollBar!==t&&(this._horizontalScrollBar=t,this._horizontalScrollBar&&(this._horizontalScrollBar.setScrollView(this),this._updateScrollBar(f.ZERO)))}},{key:"verticalScrollBar",get:function(){return this._verticalScrollBar},set:function(t){this._verticalScrollBar!==t&&(this._verticalScrollBar=t,this._verticalScrollBar&&(this._verticalScrollBar.setScrollView(this),this._updateScrollBar(f.ZERO)))}},{key:"direction",get:function(){return this._direction},set:function(t){this._direction!=t&&(this._direction=t)}},{key:"template",get:function(){return this._template},set:function(t){this._template=t}},{key:"delegate",get:function(){return this._delegate||Log.e("【"+this.name+"】致命错误 : 未设置TableView代理"),this._delegate},set:function(t){this._delegate!==t&&(this._delegate=t)}},{key:"viewSize",get:function(){var t,e=null==(t=this.view)?void 0:t.getComponent(c);return e?e.contentSize:d.ZERO}},{key:"viewAnchor",get:function(){var t,e=null==(t=this.view)?void 0:t.anchorPoint;return e||f.ZERO}},{key:"contentSize",get:function(){var t,e=null==(t=this.content)?void 0:t.getComponent(c);return e?e.contentSize:d.ZERO}},{key:"contentAnchor",get:function(){var t,e=null==(t=this.content)?void 0:t.getComponent(c);return e?e.anchorPoint:f.ZERO}}]),e}(g)).Direction=Z,B.FillOrder=k,e((L=B).prototype,"horizontalScrollBar",[T],Object.getOwnPropertyDescriptor(L.prototype,"horizontalScrollBar"),L.prototype),e(L.prototype,"verticalScrollBar",[b],Object.getOwnPropertyDescriptor(L.prototype,"verticalScrollBar"),L.prototype),R=e(L.prototype,"_direction",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.HORIZONTAL}}),z=e(L.prototype,"horizontal",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),U=e(L.prototype,"vertical",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),N=e(L.prototype,"_template",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),P=e(L.prototype,"fillOrder",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.TOP_DOWN}}),A=L))||A)||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/TableViewCell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts"],(function(e){var t,i,n,l,r,o,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator},function(e){a=e.default}],execute:function(){var c,u,s,p,f,y,b;r._RF.push({},"911aez3VC9D84ngrsmXq6sf","TableViewCell",void 0);var d=o.ccclass,v=o.property,w=o.menu;e("TableViewCell",(c=d("TableViewCell"),u=w("QuickUI组件/TableViewCell"),s=v({displayName:"Type",tooltip:"列表项类型"}),c(p=u(((b=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this).view=null,t.index=-1,n(t,"type",y,l(t)),t}i(t,e);var r=t.prototype;return r.reset=function(){this.index=-1},r.init=function(){},r.willRecycle=function(){},t}(a)).INVALID_INDEX=-1,y=t((f=b).prototype,"type",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=f))||p)||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/Tips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ITips.ts","./Config.ts"],(function(t){var n,i,o,e,s,r,a,u,c,h,p,l,f,y,_,g,m;return{setters:[function(t){n=t.inheritsLoose,i=t.createClass,o=t.asyncToGenerator,e=t.regeneratorRuntime},function(t){s=t.cclegacy,r=t.log,a=t.Vec3,u=t.Tween,c=t.find,h=t.Label,p=t.tween,l=t.UIOpacity,f=t.UITransform,y=t.Component,_=t.instantiate},function(t){g=t.ITips},function(t){m=t.ViewZOrder}],execute:function(){s._RF.push({},"cbe3apTgWJJCIVevDJz8JOj","Tips",void 0);var d=function(t){function o(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this)._content=null,n._curPositon=new a,n._curOpacity=null,n._transform=null,n}n(o,t);var e=o.prototype;return e.stopAllActions=function(){u.stopAllByTarget(this._content),u.stopAllByTarget(this._curPositon),this.opacity&&u.stopAllByTarget(this.opacity)},e.onDestroy=function(){this.stopAllActions()},e.init=function(t,n){this._content=c("content",this.node),this._content&&(this._content.getComponent(h).string=t),this.runTimeOut(n)},e.runTimeOut=function(t){var n=this;p(this._content).delay(t).call((function(){App.tips.finishShowItem(n.node)})).start()},e.fadeOut=function(){var t=this;this.opacity&&(u.stopAllByTarget(this.opacity),p(this.opacity).to(.5,{opacity:0}).call((function(){var n;t.stopAllActions(),null==(n=t.node)||n.removeFromParent()})).start(),this.moveTo(0,this.node.position.y+this.transform.height))},e.fadeIn=function(){this.opacity&&(u.stopAllByTarget(this.opacity),this.opacity.opacity=0,p(this.opacity).to(.5,{opacity:255}).start(),this.moveTo(0,this.node.position.y+this.transform.height))},e.moveTo=function(t,n){var i=this;u.stopAllByTarget(this._curPositon),this._curPositon.set(this.node.position),p(this._curPositon).to(.5,{x:t,y:n},{onUpdate:function(t){var n;null==(n=i.node)||n.setPosition(t)},easing:"expoOut"}).start()},i(o,[{key:"opacity",get:function(){return this._curOpacity||(this._curOpacity=this.node.getComponent(l)),this._curOpacity}},{key:"transform",get:function(){return this._transform||(this._transform=this.node.getComponent(f)),this._transform}}]),o}(y);t("default",function(t){function i(){for(var n,i=arguments.length,o=new Array(i),e=0;e<i;e++)o[e]=arguments[e];return(n=t.call.apply(t,[this].concat(o))||this)._queue=[],n.MAX_NUM=3,n.FADE_TIME=2,n._id=0,n.startPosition=new a(0,100),n}n(i,t);var s=i.prototype;return s._show=function(){var t=o(e().mark((function t(n){var i,o,s,r,a,u,c,h,p;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=_(App.uiManager.getScenePrefab("Tips"))){for((o=i.addComponent(d)).init(n,this.FADE_TIME),i.setPosition(this.startPosition),o.fadeIn(),i.userData=this._id++,i.name="Tips"+i.userData,App.uiManager.addView(i,m.Tips),s=this._queue.length,r=0;r<s&&r<this.MAX_NUM;r++)a=this._queue[r],u=a.getComponent(d),c=a.getComponent(f),u&&c&&u.moveTo(0,this.startPosition.y+c.height+(s-r)*(c.height+3));this._queue.push(i),this._queue.length>this.MAX_NUM&&(p=this._queue.shift(),null==(h=p.getComponent(d))||h.fadeOut())}case 2:case"end":return t.stop()}}),t,this)})));return function(n){return t.apply(this,arguments)}}(),s.show=function(t){null!=t&&null!=t&&""!=t&&(r("Toast.show msg=%s",t),this._show(t))},s.finishShowItem=function(t){for(var n=0;n<this._queue.length;n++){if(this._queue[n].userData==t.userData){var i;this._queue.splice(n,1),null==(i=t.getComponent(d))||i.fadeOut();break}}},s.clear=function(){for(var t=null;t=this._queue.pop();){var n=t.getComponent(d);n&&n.stopAllActions(),t.removeFromParent()}},i}(g)).module="【Tips】",s._RF.pop()}}}));

System.register("chunks:///_virtual/UIDropdownList.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,n,r,l,s,a,h,c,u,p,d,v,m,g,f,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,r=t.createClass},function(t){l=t.cclegacy,s=t._decorator,a=t.Vec3,h=t.Node,c=t.isValid,u=t.instantiate,p=t.ScrollView,d=t.ToggleContainer,v=t.EventHandler,m=t.tween,g=t.UITransform,f=t.easing,w=t.Component}],execute:function(){var y,C,b,D,T,E,k,L,F,I,P,_,H;l._RF.push({},"047edVJ4FZJU5hLRe7pVINu","UIDropdownList",void 0);var U=s.ccclass,S=s.property,A=s.menu,N=function(t){return t[t.SELECT_CHANGED=0]="SELECT_CHANGED",t}(N||{}),z=new a,V=new a;t("UIDropdownList",(y=U("UIDropdownList"),C=A("QuickUI组件/UIDropdownList"),b=S({tooltip:"",type:h}),D=S({tooltip:"",type:h}),T=S({tooltip:"",type:h}),E=S({tooltip:"",type:h}),y(k=C(((H=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return e=t.call.apply(t,[this].concat(r))||this,o(e,"view",F,n(e)),o(e,"block",I,n(e)),o(e,"title",P,n(e)),o(e,"itemTemplate",_,n(e)),e.items=[],e._isFold=!0,e.toggleContainer=null,e.updateHandler=null,e}i(e,t);var l=e.prototype;return l.reload=function(t){var e,i=this;c(this.view)&&(c(this.itemTemplate),this.toggleContainer&&(this.reset(),t.forEach((function(t,e){var o,n=u(i.itemTemplate);n.userData=t,i.items.push(n),null==(o=i.view.getComponent(p).content)||o.addChild(n),i.updateHandler&&i.updateHandler(!1,n,e)})),this.title.userData=null==(e=this.selected)?void 0:e.node.userData,this.updateHandler(!0,this.title,0)))},l.getList=function(){return this.items},l.onLoad=function(){if(t.prototype.onLoad&&t.prototype.onLoad.call(this),c(this.block)&&this.block.on(h.EventType.TOUCH_END,this.fold,this),c(this.title)&&this.title.on(h.EventType.TOUCH_END,this.onTouchEnd,this),c(this.view)){var e,i=this.view.getComponent(p);if(!i)return;if(this.toggleContainer=i.content.getComponent(d),!this.toggleContainer)return;var o=new v;o.component="UIDropdownList",o.handler="onSelected",o.target=this.node,null==(e=this.toggleContainer)||e.checkEvents.push(o)}this.reset()},l.onDestroy=function(){c(this.block)&&this.block.destroy(),c(this.itemTemplate)&&this.itemTemplate.destroy(),c(this.view)&&this.view.destroy(),t.prototype.onDestroy&&t.prototype.onDestroy.call(this)},l.onDisable=function(){this.fold(),t.prototype.onDisable&&t.prototype.onDisable.call(this)},l.fold=function(){var t=this;this._isFold=!0;var e=this.block;c(e)&&e.removeFromParent(),c(this.view)&&this.view.parent&&m(this.view).delay(.05).to(.1,{scale:new a(1,0,1)}).call((function(){t.view.removeFromParent()})).start()},l.unfold=function(){this._isFold=!0;var t=App.layerMgr.root,e=this.block;if(c(e)&&(e.removeFromParent(),e.setPosition(0,0),e.active=!0,null==t||t.addChild(e)),c(this.view)){var i,o=this.view;o.removeFromParent();var n=this.title.getComponent(g);this.title.getWorldPosition(z),null==t||t.addChild(o),App.layerMgr.root.getComponent(g).convertToNodeSpaceAR(z,V),V.x+=(.5-n.anchorX)*n.width,V.y+=(0-n.anchorY)*n.height,this.view.getComponent(g).setAnchorPoint(.5,1),this.view.setPosition(V),o.active=!0,null==(i=o.getComponent(p))||i.scrollToTop(),m(this.view).to(.1,{scale:new a(1,1,1)},{easing:f.circOut}).call((function(){})).start()}},l.onTouchEnd=function(){this._isFold?this.unfold():this.fold()},l.onSelected=function(t){this.fold(),this.title.userData=t.node.userData,this.updateHandler(!0,this.title,0)},l.reset=function(){c(this.block)&&this.block.removeFromParent(),c(this.itemTemplate)&&this.itemTemplate.removeFromParent(),c(this.view)&&(this.view.setScale(1,0,1),this.view.removeFromParent())},r(e,[{key:"selected",get:function(){if(this.toggleContainer)for(var t=0;t<this.toggleContainer.toggleItems.length;t++)if(this.toggleContainer.toggleItems[t].isChecked)return this.toggleContainer.toggleItems[t];return null}}]),e}(w)).Event=N,F=e((L=H).prototype,"view",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(L.prototype,"block",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(L.prototype,"title",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(L.prototype,"itemTemplate",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=L))||k)||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/UILabel.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,o,a,l,p,u,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,l=t._decorator,p=t.Enum,u=t.CCString,s=t.Label}],execute:function(){var c,y,g,h,b,d,f,_,m,D,L,w;a._RF.push({},"b340dLlFTJHb7Z4XQaDDRVw","UILabel",void 0);var v=l.ccclass,O=l.property,U=l.menu,k=p(App.Bundles);t("default",(c=v("UILabel"),y=U("Quick渲染组件/UILabel"),g=O({displayName:"语言包所在Bundle",type:k,tooltip:"语言包所在bundle"}),h=O({displayName:"语言包Key",tooltip:"所在Bundle中语言包的key,如果语言包在Bundle内，请先用injectLanguageData装饰语言包数据代理类"}),b=O({displayName:"语言包附加参数",tooltip:"附加参数，如果语言包中有 xx{0}{1},有两个占位的参数需要替换",type:u}),d=O({displayName:"是否启用多语言",tooltip:"是否启用多语言,默认为启用"}),c(f=y((m=e((_=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_lan",m,n(e)),r(e,"_bundle",D,n(e)),r(e,"_params",L,n(e)),e._isDirty=!0,r(e,"_mult",w,n(e)),e}i(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),App.language.add(this),this.update(0)},a.onDestroy=function(){App.language.remove(this),t.prototype.onDestroy.call(this)},a.update=function(e){t.prototype.update&&t.prototype.update.call(this,e),this._isDirty&&(this.forceDoLayout(),this._isDirty=!1)},a.forceDoLayout=function(){if(this.isUseMultilingual){var e=this.bundle,i=k[e],r=App.getLanguage(this.language,this.params,i);this.string=r}t.prototype.forceDoLayout.call(this)},o(e,[{key:"bundle",get:function(){return this._bundle},set:function(t){this._bundle!=t&&(this._bundle=t,this._isDirty=!0)}},{key:"language",get:function(){return this._lan},set:function(t){this.language!=t&&(this._lan=t,this._isDirty=!0)}},{key:"params",get:function(){return this._params},set:function(t){this._params=t,this._isDirty=!0}},{key:"isUseMultilingual",get:function(){return this._mult},set:function(t){t!=this._mult&&(this._mult=t,this._isDirty=!0)}}]),e}(s)).prototype,"_lan",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=e(_.prototype,"_bundle",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.resources}}),L=e(_.prototype,"_params",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=e(_.prototype,"_mult",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(_.prototype,"bundle",[g],Object.getOwnPropertyDescriptor(_.prototype,"bundle"),_.prototype),e(_.prototype,"language",[h],Object.getOwnPropertyDescriptor(_.prototype,"language"),_.prototype),e(_.prototype,"params",[b],Object.getOwnPropertyDescriptor(_.prototype,"params"),_.prototype),e(_.prototype,"isUseMultilingual",[d],Object.getOwnPropertyDescriptor(_.prototype,"isUseMultilingual"),_.prototype),f=_))||f)||f));a._RF.pop()}}}));

System.register("chunks:///_virtual/UILoading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Config.ts","./IUILoading.ts"],(function(n){var t,e,i,o,r,u,c,a;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){i=n.cclegacy,o=n.find,r=n.Label},function(n){u=n.Config,c=n.ViewZOrder},function(n){a=n.IUILoading}],execute:function(){i._RF.push({},"12c4eqKidlCLJ2tu1NcSFWA","UILoading",void 0),n("default",function(n){function i(){return n.apply(this,arguments)||this}t(i,n);var a=i.prototype;return a.findContent=function(){return o("content",this.node)},a.findText=function(){var n;return null==(n=o("text",this.content))?void 0:n.getComponent(r)},e(i,[{key:"prefab",get:function(){return App.uiManager.getScenePrefab("UILoading")}},{key:"delayTime",get:function(){return u.LOAD_VIEW_DELAY}},{key:"timeout",get:function(){return u.LOAD_VIEW_TIME_OUT}},{key:"zOrder",get:function(){return c.UILoading}}]),i}(a)).module="【UILoading】",i._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./Macros.ts","./AdapterView.ts","./Resource.ts","./ViewAsset.ts"],(function(e){var a,n,t,i,s,r,o,l,u,d,c,p,f,h;return{setters:[function(e){a=e.createClass},function(e){n=e.cclegacy,t=e.isValid,i=e.js,s=e.Prefab,r=e.Widget,o=e.instantiate,l=e.find,u=e.Camera},function(e){d=e.ViewStatus},function(e){c=e.Macro},function(e){p=e.default},function(e){f=e.Resource},function(e){h=e.ViewAsset}],execute:function(){n._RF.push({},"63b76CYxi5BSLOyiSlM2dNn","UIManager",void 0),e("UIManager",function(){function e(){this.isResident=!0,this.module=null,this._viewDatas=new Map,this.garbage=new h.Dynamic(c.DYNAMIC_LOAD_GARBAGE),this.retainMemory=new h.Dynamic(c.DYNAMIC_LOAD_RETAIN_MEMORY),this._canvas=null,this._prefabs=null}var n=e.prototype;return n.getViewData=function(e){var a=this.getClassName(e);if(a)return this._viewDatas.has(a)?this._viewDatas.get(a):void 0},n.getViewType=function(e){if(!t(e))return null;var a=e.className;if(!a)return null;var n=this._viewDatas.get(a);return n?n.viewType:null},n.getClassName=function(e){if(e){return"string"==typeof e?e:i.getClassName(e)}},n.defaultOpenOption=function(e){var a={bundle:c.BUNDLE_RESOURCES,delay:e.delay,name:e.name,zIndex:0,preload:!1,type:e.type,args:e.args,isCache:App.isCacheUI};return null!=e.bundle&&(a.bundle=e.bundle),null!=e.zIndex&&(a.zIndex=e.zIndex),null!=e.preload&&(a.preload=e.preload),null!=e.isCache&&(a.isCache=e.isCache),a},n.preload=function(e,a,n){return this.open({type:e,preload:!0,bundle:a,isCache:n})},n.parsePrefabUrl=function(e){return"@"==e[0]?{isPrefab:!1,url:e.substr(1)}:{isPrefab:!0,url:e}},n.open=function(e){console.log("open",4);var a=this.defaultOpenOption(e);return this._open(a)},n._open=function(e){var a=this;return new Promise((function(n,r){if(e.type){var o=i.getClassName(e.type);if(App.layerMgr.root){var l=App.releaseManger.getUI(o);if(l)return a._viewDatas.set(o,l),l.status=d.WAITTING_NONE,e.preload||(l.node.parent||a.addView(l.node,e.zIndex),l.view.show(e.args)),void n(l.view);if(l=a.getViewData(e.type))return l.isPreload=e.preload,l.isLoaded?(l.status=d.WAITTING_NONE,e.preload||l.view&&t(l.node)&&(l.node.parent||a.addView(l.node,e.zIndex),l.view.show(e.args)),void n(l.view)):(l.status=d.WAITTING_NONE,e.preload||App.uiLoading.show(e.delay,e.name),void l.finishCb.push(n));(l=new h.Data).loadData.name=o;var u=e.type.getPrefabUrl(),c=a.parsePrefabUrl(u);if(l.isPreload=e.preload,l.isPrefab=c.isPrefab,l.viewType=e.type,l.bundle=e.bundle,l.isCache=e.isCache,a._viewDatas.set(o,l),!c.isPrefab)return l.cache=new f.Cache(c.url,s,e.bundle),l.cache.data=a.getScenePrefab(c.url),void a.createNode(l,n,e);var p=null;e.preload||(App.uiLoading.show(e.delay,e.name),p=function(e,a,n){var t=Math.ceil(e/a*100);App.uiLoading.updateProgress(t)}),a.loadPrefab(e.bundle,u,p,(function(t){if(t)l.cache=t,App.asset.retainAsset(t),a.createNode(l,n,e),App.uiLoading.hide();else{l.isLoaded=!0,a._close(l),l.doFinish(null,o,"打开界面异常"),n(null);var i="";e.name&&(i=e.name),App.tips.show("加载界面"+i+"失败，请重试"),App.uiLoading.hide()}}))}else n(null)}else n(null)}))},n._addComponent=function(e,a,n){if(e){var t=a.name,i=e.getComponent(a.viewType);if(!i&&!(i=e.addComponent(a.viewType)))return null;i.className=t,i.bundle=n.bundle,a.view=i,i.args=n.args;var s=i.getComponent(r);return s&&s.destroy(),i.getComponent(p)||i.addComponent(p),a.isPreload||this.addView(e,n.zIndex),i}return null},n.createNode=function(e,a,n){e.isLoaded=!0;var t=e.name;if(e.status==d.WAITTING_CLOSE)return a(null),void e.doFinish(null,t,"获取界内已经关闭");var i=o(e.cache.data);e.node=i;var s=this._addComponent(i,e,n);s?e.status==d.WATITING_HIDE?(s.hide(),a(s),e.doFinish(s,t,"加载完成，但加载过程中被隐藏")):(e.isPreload||s.show(n.args),a(s),e.doFinish(s,t,"加载完成，回调之前加载中的界面")):a(null)},n.loadPrefab=function(e,a,n,t){App.asset.load(e,a,s,n,(function(e){e&&e.data&&e.data instanceof s?t(e):t(null)}))},n.getScenePrefab=function(e){return l(e,this.prefabs)},n.onLoad=function(e){this._canvas=e},n.onDestroy=function(e){this.clear()},n.addView=function(e,a){App.layerMgr.add(e,a)},n.addLocal=function(e,a){var n=this.getViewData(a);n&&n.loadData.addLocal(e,a)},n.addRemote=function(e,a){var n=this.getViewData(a);n&&n.loadData.addRemote(e,a)},n.close=function(e){var a=this.getViewData(e);a&&this._close(a)},n._close=function(e){var a=e.name;App.releaseManger.releaseUI(e),this._viewDatas.delete(a),Log.d(this.module+" close view : "+a)},n.closeExcept=function(e){var a=this;if(null!=e&&null!=e&&0!=e.length){for(var n=new Set,t=0;t<e.length;t++)n.add(this.getClassName(e[t]));this._viewDatas.forEach((function(e,t){n.has(t)||a.close(t)}))}else this._viewDatas.forEach((function(e,n){a.close(n)}))},n.closeBundleView=function(e){var a=this;this._viewDatas.forEach((function(n,t){n.bundle==e&&a.close(t)}))},n.hide=function(e){var a=this.getViewData(e);a&&(a.isLoaded?a.view&&t(a.view.node)&&a.view.hide():a.status=d.WATITING_HIDE)},n.getView=function(e,a){if(null==e||null==e||""==e)return a&&a(null),null;var n=this.getViewData(e);return n?n.isPreload?(a&&a(null),null):n.isLoaded?(a&&a(n.view),n.view):(n.finishCb.push(a),null):(a&&a(null),null)},n.getViewAsync=function(e){var a=this;return new Promise((function(n,t){a.getView(e,(function(e){n(e)}))}))},n.checkView=function(e,a){},n.isShow=function(e){var a=this.getViewData(e);return!(!a||a.isPreload)&&(!(!a.isLoaded||a.status!=d.WAITTING_NONE||!a.view)&&a.view.node.active)},n.addComponent=function(e){return App.layerMgr.addComponent(e)},n.removeComponent=function(e){App.layerMgr.removeComponent(e)},n.debug=function(){Log.d("-----------当前所有视图------------"),this._viewDatas.forEach((function(e,a){Log.d("["+a+"] isLoaded : "+e.isLoaded+" status : "+e.status+" view : "+i.getClassName(e.view)+" active : "+(!(!e.view||!e.view.node)&&e.view.node.active))}))},n.clear=function(){this.garbage.clear(),this.retainMemory.clear(),this._viewDatas.clear(),this._canvas=null,this._prefabs=null},a(e,[{key:"prefabs",get:function(){return this._prefabs||t(this._prefabs)||(this._prefabs=l("prefabs",this.canvas)),this._prefabs}},{key:"root3D",get:function(){return l("3d",this.canvas.parent)}},{key:"camera3d",get:function(){var e;return null==(e=l("Camera3D",this.canvas.parent))?void 0:e.getComponent(u)}},{key:"screenShotCamera",get:function(){var e;return null==(e=l("ScreenShotCamera",this.canvas))?void 0:e.getComponent(u)}},{key:"uiCamera",get:function(){var e;return null==(e=l("UICamera",this.canvas))?void 0:e.getComponent(u)}},{key:"canvas",get:function(){return this._canvas}}]),e}()).module="【UI管理器】",n._RF.pop()}}}));

System.register("chunks:///_virtual/UIQRCode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,o,n,i,s,a,u,h,l,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,i=t.createClass},function(t){s=t.cclegacy,a=t._decorator,u=t.UITransform,h=t.Graphics,l=t.Component,f=t.Color}],execute:function(){var g,c,p,m,d,C,v,y,L,b,w,B,_,k;s._RF.push({},"cc402xbQoJJwK8INJVjmBtx","UIQRCode",void 0);var P=1,D=2,A=4,E=8,T=function(){function t(){this.buffer=[],this.length=0}var e=t.prototype;return e.get=function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},e.put=function(t,e){for(var r=0;r<e;r++)this.putBit(1==(t>>>e-r-1&1))},e.getLengthInBits=function(){return this.length},e.putBit=function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++},t}(),I=function(){function t(t){this.mode=A,this.bytes=[],this.bytes=N.toUTF8Array(t)}var e=t.prototype;return e.getLength=function(){return this.bytes.length},e.write=function(t){for(var e=0;e<this.bytes.length;e++)t.put(this.bytes[e],8)},t}(),N=function(){function t(t,e){this.typeNumber=0,this.errorCorrectLevel=0,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[],this.typeNumber=t,this.errorCorrectLevel=e}var e=t.prototype;return e.addData=function(t){var e=new I(t);this.dataList.push(e),this.dataCache=null},e.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},e.getModuleCount=function(){return this.moduleCount},e.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=Y.getRSBlocks(t,this.errorCorrectLevel),r=new T,o=0,n=0;n<e.length;n++)o+=e[n].dataCount;for(var i=0;i<this.dataList.length;i++){var s=this.dataList[i];r.put(s.mode,4),r.put(s.getLength(),Q.getLengthInBits(s.mode,t)),s.write(r)}if(r.getLengthInBits()<=8*o)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},e.makeImpl=function(e,r){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++)this.modules[o][n]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,r),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,r)},e.setupPositionProbePattern=function(t,e){for(var r=-1;r<=7;r++)if(!(t+r<=-1||this.moduleCount<=t+r))for(var o=-1;o<=7;o++)e+o<=-1||this.moduleCount<=e+o||(this.modules[t+r][e+o]=0<=r&&r<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==r||6==r)||2<=r&&r<=4&&2<=o&&o<=4)},e.getBestMaskPattern=function(){for(var t=0,e=0,r=0;r<8;r++){this.makeImpl(!0,r);var o=Q.getLostPoint(this);(0==r||t>o)&&(t=o,e=r)}return e},e.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},e.setupPositionAdjustPattern=function(){for(var t=Q.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var r=0;r<t.length;r++){var o=t[e],n=t[r];if(null==this.modules[o][n])for(var i=-2;i<=2;i++)for(var s=-2;s<=2;s++)this.modules[o+i][n+s]=-2==i||2==i||-2==s||2==s||0==i&&0==s}},e.setupTypeNumber=function(t){for(var e=Q.getBCHTypeNumber(this.typeNumber),r=0;r<18;r++){var o=!t&&1==(e>>r&1);this.modules[Math.floor(r/3)][r%3+this.moduleCount-8-3]=o}for(var n=0;n<18;n++){var i=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},e.setupTypeInfo=function(t,e){for(var r=this.errorCorrectLevel<<3|e,o=Q.getBCHTypeInfo(r),n=0;n<15;n++){var i=!t&&1==(o>>n&1);n<6?this.modules[n][8]=i:n<8?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(var s=0;s<15;s++){var a=!t&&1==(o>>s&1);s<8?this.modules[8][this.moduleCount-s-1]=a:s<9?this.modules[8][15-s-1+1]=a:this.modules[8][15-s-1]=a}this.modules[this.moduleCount-8][8]=!t},e.mapData=function(t,e){for(var r=-1,o=this.moduleCount-1,n=7,i=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var a=0;a<2;a++)if(null==this.modules[o][s-a]){var u=!1;i<t.length&&(u=1==(t[i]>>>n&1)),Q.getMask(e,o,s-a)&&(u=!u),this.modules[o][s-a]=u,-1==--n&&(i++,n=7)}if((o+=r)<0||this.moduleCount<=o){o-=r,r=-r;break}}},t.createData=function(e,r,o){for(var n=Y.getRSBlocks(e,r),i=new T,s=0;s<o.length;s++){var a=o[s];i.put(a.mode,4),i.put(a.getLength(),Q.getLengthInBits(a.mode,e)),a.write(i)}for(var u=0,h=0;h<n.length;h++)u+=n[h].dataCount;if(i.getLengthInBits()>8*u)throw new Error("code length overflow. ("+i.getLengthInBits()+">"+8*u+")");for(i.getLengthInBits()+4<=8*u&&i.put(0,4);i.getLengthInBits()%8!=0;)i.putBit(!1);for(;!(i.getLengthInBits()>=8*u||(i.put(t.PAD0,8),i.getLengthInBits()>=8*u));)i.put(t.PAD1,8);return t.createBytes(i,n)},t.createBytes=function(t,e){for(var r=0,o=0,n=0,i=new Array(e.length),s=new Array(e.length),a=0;a<e.length;a++){var u=e[a].dataCount,h=e[a].totalCount-u;o=Math.max(o,u),n=Math.max(n,h),i[a]=new Array(u);for(var l=0;l<i[a].length;l++)i[a][l]=255&t.buffer[l+r];r+=u;var f=Q.getErrorCorrectPolynomial(h),g=new V(i[a],f.getLength()-1).mod(f);s[a]=new Array(f.getLength()-1);for(var c=0;c<s[a].length;c++){var p=c+g.getLength()-s[a].length;s[a][c]=p>=0?g.get(p):0}}for(var m=0,d=0;d<e.length;d++)m+=e[d].totalCount;for(var C=new Array(m),v=0,y=0;y<o;y++)for(var L=0;L<e.length;L++)y<i[L].length&&(C[v++]=i[L][y]);for(var b=0;b<n;b++)for(var w=0;w<e.length;w++)b<s[w].length&&(C[v++]=s[w][b]);return C},t.toUTF8Array=function(t){for(var e=[],r=0;r<t.length;r++){var o=t.charCodeAt(r);o<128?e.push(o):o<2048?e.push(192|o>>6,128|63&o):o<55296||o>=57344?e.push(224|o>>12,128|o>>6&63,128|63&o):(r++,o=65536+((1023&o)<<10|1023&t.charCodeAt(r)),e.push(240|o>>18,128|o>>12&63,128|o>>6&63,128|63&o))}return e},t}();N.PAD0=236,N.PAD1=17;var z=1,M=0,O=3,R=2,H=0,S=1,G=2,X=3,j=4,x=5,K=6,U=7,Q=function(){function t(){}return t.getBCHTypeInfo=function(e){for(var r=e<<10;t.getBCHDigit(r)-t.getBCHDigit(t.G15)>=0;)r^=t.G15<<t.getBCHDigit(r)-t.getBCHDigit(t.G15);return(e<<10|r)^t.G15_MASK},t.getBCHTypeNumber=function(e){for(var r=e<<12;t.getBCHDigit(r)-t.getBCHDigit(t.G18)>=0;)r^=t.G18<<t.getBCHDigit(r)-t.getBCHDigit(t.G18);return e<<12|r},t.getBCHDigit=function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},t.getPatternPosition=function(e){return t.PATTERN_POSITION_TABLE[e-1]},t.getMask=function(t,e,r){switch(t){case H:return(e+r)%2==0;case S:return e%2==0;case G:return r%3==0;case X:return(e+r)%3==0;case j:return(Math.floor(e/2)+Math.floor(r/3))%2==0;case x:return e*r%2+e*r%3==0;case K:return(e*r%2+e*r%3)%2==0;case U:return(e*r%3+(e+r)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},t.getErrorCorrectPolynomial=function(t){for(var e=new V([1],0),r=0;r<t;r++)e=e.multiply(new V([1,F.gexp(r)],0));return e},t.getLengthInBits=function(t,e){if(1<=e&&e<10)switch(t){case P:return 10;case D:return 9;case A:case E:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case P:return 12;case D:return 11;case A:return 16;case E:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case P:return 14;case D:return 13;case A:return 16;case E:return 12;default:throw new Error("mode:"+t)}}},t.getLostPoint=function(t){for(var e=t.getModuleCount(),r=0,o=0;o<e;o++)for(var n=0;n<e;n++){for(var i=0,s=t.isDark(o,n),a=-1;a<=1;a++)if(!(o+a<0||e<=o+a))for(var u=-1;u<=1;u++)n+u<0||e<=n+u||0==a&&0==u||s==t.isDark(o+a,n+u)&&i++;i>5&&(r+=3+i-5)}for(var h=0;h<e-1;h++)for(var l=0;l<e-1;l++){var f=0;t.isDark(h,l)&&f++,t.isDark(h+1,l)&&f++,t.isDark(h,l+1)&&f++,t.isDark(h+1,l+1)&&f++,0!=f&&4!=f||(r+=3)}for(var g=0;g<e;g++)for(var c=0;c<e-6;c++)t.isDark(g,c)&&!t.isDark(g,c+1)&&t.isDark(g,c+2)&&t.isDark(g,c+3)&&t.isDark(g,c+4)&&!t.isDark(g,c+5)&&t.isDark(g,c+6)&&(r+=40);for(var p=0;p<e;p++)for(var m=0;m<e-6;m++)t.isDark(m,p)&&!t.isDark(m+1,p)&&t.isDark(m+2,p)&&t.isDark(m+3,p)&&t.isDark(m+4,p)&&!t.isDark(m+5,p)&&t.isDark(m+6,p)&&(r+=40);for(var d=0,C=0;C<e;C++)for(var v=0;v<e;v++)t.isDark(v,C)&&d++;return r+=10*(Math.abs(100*d/e/e-50)/5)},t}();Q.PATTERN_POSITION_TABLE=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],Q.G15=1335,Q.G18=7973,Q.G15_MASK=21522;var F=function(){function t(){}return t.glog=function(e){if(e<1)throw new Error("glog("+e+")");return t.LOG_TABLE[e]},t.gexp=function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return t.EXP_TABLE[e]},t}();F.EXP_TABLE=new Array(256),F.LOG_TABLE=new Array(256);for(var J=0;J<8;J++)F.EXP_TABLE[J]=1<<J;for(var q=8;q<256;q++)F.EXP_TABLE[q]=F.EXP_TABLE[q-4]^F.EXP_TABLE[q-5]^F.EXP_TABLE[q-6]^F.EXP_TABLE[q-8];for(var W=0;W<255;W++)F.LOG_TABLE[F.EXP_TABLE[W]]=W;var V=function(){function t(t,e){if(this.num=[],null==t.length)throw new Error(t.length+"/"+e);for(var r=0;r<t.length&&0==t[r];)r++;this.num=new Array(t.length-r+e);for(var o=0;o<t.length-r;o++)this.num[o]=t[o+r]}var e=t.prototype;return e.get=function(t){return this.num[t]},e.getLength=function(){return this.num.length},e.multiply=function(e){for(var r=new Array(this.getLength()+e.getLength()-1),o=0;o<this.getLength();o++)for(var n=0;n<e.getLength();n++)r[o+n]^=F.gexp(F.glog(this.get(o))+F.glog(e.get(n)));return new t(r,0)},e.mod=function(e){if(this.getLength()-e.getLength()<0)return this;for(var r=F.glog(this.get(0))-F.glog(e.get(0)),o=new Array(this.getLength()),n=0;n<this.getLength();n++)o[n]=this.get(n);for(var i=0;i<e.getLength();i++)o[i]^=F.gexp(F.glog(e.get(i))+r);return new t(o,0).mod(e)},t}(),Y=function(){function t(t,e){this.totalCount=0,this.dataCount=0,this.totalCount=t,this.dataCount=e}return t.getRSBlocks=function(e,r){var o=t.getRsBlockTable(e,r);if(null==o)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+r);for(var n=o.length/3,i=new Array,s=0;s<n;s++)for(var a=o[3*s+0],u=o[3*s+1],h=o[3*s+2],l=0;l<a;l++)i.push(new t(u,h));return i},t.getRsBlockTable=function(e,r){switch(r){case z:return t.RS_BLOCK_TABLE[4*(e-1)+0];case M:return t.RS_BLOCK_TABLE[4*(e-1)+1];case O:return t.RS_BLOCK_TABLE[4*(e-1)+2];case R:return t.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},t}();Y.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]];var Z=a.ccclass,$=a.property,tt=a.menu;t("default",(g=Z("UIQRCode"),c=tt("Quick渲染组件/UIQRCode"),p=$({displayName:"内容",tooltip:"内容"}),m=$({displayName:"背景颜色",tooltip:"设置背景颜色"}),d=$({displayName:"前景颜色",tooltip:"设置前景颜色"}),C=$({displayName:"边距",tooltip:"边距"}),v=$({displayName:"大小",tooltip:"大小"}),g(y=c((b=e((L=function(t){function e(){for(var e,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,o(e,"_str",b,n(e)),o(e,"_backColor",w,n(e)),o(e,"_foreColor",B,n(e)),o(e,"_margin",_,n(e)),o(e,"_size",k,n(e)),e}r(e,t);var s=e.prototype;return s.onLoad=function(){var t;null==(t=this.node.getComponent(u))||t.setContentSize(this._size,this._size),this.setContent()},s.resetInEditor=function(){var t;null==(t=this.node.getComponent(u))||t.setContentSize(this._size,this._size),this.setContent()},s.setContent=function(){var t=this.graphics;t.clear();var e=this.node.getComponent(u);t.fillColor=this.backColor;var r=e.width,o=-r*e.anchorX,n=-r*e.anchorY;t.rect(o,n,r,r),t.fill(),t.close();var i=new N(-1,2);i.addData(this.string),i.make(),t.fillColor=this.foreColor;for(var s=r-2*this.margin,a=i.getModuleCount(),h=s/a,l=s/a,f=Math.ceil(h),g=Math.ceil(l),c=0;c<a;c++)for(var p=0;p<a;p++)i.isDark(c,p)&&(t.rect(o+this.margin+p*h,o+s-l-Math.round(c*l)+this.margin,f,g),t.fill())},i(e,[{key:"graphics",get:function(){var t=this.getComponent(h);return t||this.addComponent(h)}},{key:"string",get:function(){return this._str},set:function(t){this._str!=t&&(this._str=t,this.setContent())}},{key:"backColor",get:function(){return this._backColor},set:function(t){this._backColor.equals(t)||(this._backColor=t,this.setContent())}},{key:"foreColor",get:function(){return this._foreColor},set:function(t){this._foreColor.equals(t)||(this._foreColor=t,this.setContent())}},{key:"margin",get:function(){return this._margin},set:function(t){this._margin!=t&&(this._margin=t,this.setContent())}},{key:"size",get:function(){return this._size},set:function(t){var e;this._size!=t&&(this._size=t,null==(e=this.node.getComponent(u))||e.setContentSize(t,t),this.setContent())}}]),e}(l)).prototype,"_str",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Hello World!"}}),e(L.prototype,"string",[p],Object.getOwnPropertyDescriptor(L.prototype,"string"),L.prototype),w=e(L.prototype,"_backColor",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(f.WHITE)}}),e(L.prototype,"backColor",[m],Object.getOwnPropertyDescriptor(L.prototype,"backColor"),L.prototype),B=e(L.prototype,"_foreColor",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f(f.BLACK)}}),e(L.prototype,"foreColor",[d],Object.getOwnPropertyDescriptor(L.prototype,"foreColor"),L.prototype),_=e(L.prototype,"_margin",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),e(L.prototype,"margin",[C],Object.getOwnPropertyDescriptor(L.prototype,"margin"),L.prototype),k=e(L.prototype,"_size",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 200}}),e(L.prototype,"size",[v],Object.getOwnPropertyDescriptor(L.prototype,"size"),L.prototype),y=L))||y)||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/UIReconnect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Loading.ts"],(function(e){var t,n,o;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy},function(e){o=e.default}],execute:function(){n._RF.push({},"eea64oh+bZBb7iXTe4r2WC1","UIReconnect",void 0),e("UIReconnect",function(e){function n(){for(var t,n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))||this).module=null,t.isResident=!0,t}t(n,e);var o=n.prototype;return o.startTimeOutTimer=function(e){},o.stopTimeOutTimer=function(){},n}(o)).module="【重连提示】",n._RF.pop()}}}));

System.register("chunks:///_virtual/UIRichText.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,o,a,p,u,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,p=t._decorator,u=t.Enum,s=t.CCString,l=t.RichText}],execute:function(){var c,y,g,h,d,f,_,b,m,D,v,L;a._RF.push({},"c60049vLz5LvZDBP64ObpCM","UIRichText",void 0);var w=p.ccclass,O=p.property,x=p.menu,U=u(App.Bundles);t("default",(c=w("UIRichText"),y=x("Quick渲染组件/UIRichText"),g=O({displayName:"语言包所在Bundle",type:U,tooltip:"语言包所在bundle"}),h=O({displayName:"语言包Key",tooltip:"所在Bundle中语言包的key,如果语言包在Bundle内，请先用injectLanguageData装饰语言包数据代理类"}),d=O({displayName:"语言包附加参数",tooltip:"附加参数，如果语言包中有 xx{0}{1},有两个占位的参数需要替换",type:s}),f=O({displayName:"是否启用多语言",tooltip:"是否启用多语言,默认为启用"}),c(_=y((m=e((b=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_lan",m,n(e)),r(e,"_bundle",D,n(e)),r(e,"_params",v,n(e)),e._isDirty=!0,r(e,"_mult",L,n(e)),e}i(e,t);var a=e.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this),App.language.add(this),this.update(0)},a.onDestroy=function(){App.language.remove(this),t.prototype.onDestroy.call(this)},a.update=function(e){t.prototype.update&&t.prototype.update.call(this,e),this._isDirty&&(this.forceDoLayout(),this._isDirty=!1)},a.forceDoLayout=function(){if(this.isUseMultilingual){var t=this.bundle,e=U[t],i=App.getLanguage(this.language,this.params,e);this.string=i}},o(e,[{key:"bundle",get:function(){return this._bundle},set:function(t){this._bundle!=t&&(this._bundle=t,this._isDirty=!0)}},{key:"language",get:function(){return this._lan},set:function(t){this.language!=t&&(this._lan=t,this._isDirty=!0)}},{key:"params",get:function(){return this._params},set:function(t){this._params=t,this._isDirty=!0}},{key:"isUseMultilingual",get:function(){return this._mult},set:function(t){t!=this._mult&&(this._mult=t,this._isDirty=!0)}}]),e}(l)).prototype,"_lan",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D=e(b.prototype,"_bundle",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return U.resources}}),v=e(b.prototype,"_params",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=e(b.prototype,"_mult",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),e(b.prototype,"bundle",[g],Object.getOwnPropertyDescriptor(b.prototype,"bundle"),b.prototype),e(b.prototype,"language",[h],Object.getOwnPropertyDescriptor(b.prototype,"language"),b.prototype),e(b.prototype,"params",[d],Object.getOwnPropertyDescriptor(b.prototype,"params"),b.prototype),e(b.prototype,"isUseMultilingual",[f],Object.getOwnPropertyDescriptor(b.prototype,"isUseMultilingual"),b.prototype),_=b))||_)||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/UISprite.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts"],(function(t){var e,r,i,n,o,a,s,u,p,l,c,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass,a=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,p=t._decorator,l=t.Enum,c=t.CCString,y=t.Sprite},function(t){g=t.Macro}],execute:function(){var h,f,b,d,m,_,D,w,A,v,k,O,N,U,I,L,M,P;u._RF.push({},"51a47oGgppB6ZnHntSq3PUI","UISprite",void 0);var j=p.ccclass,z=p.property,x=p.menu,R=l(App.Bundles);t("default",(h=j("UISprite"),f=x("Quick渲染组件/UISprite"),b=z({displayName:"语言包所在Bundle",type:R,tooltip:"语言包所在bundle"}),d=z({displayName:"语言包Key",tooltip:"所在Bundle中语言包的key,如果语言包在Bundle内，请先用injectLanguageData装饰语言包数据代理类"}),m=z({displayName:"图集资源",tooltip:"图集资源"}),_=z({displayName:"远程地址",tooltip:"远程地址"}),D=z({displayName:"语言包附加参数",tooltip:"附加参数，如果语言包中有 xx{0}{1},有两个占位的参数需要替换",type:c}),w=z({displayName:"是否启用多语言",tooltip:"是否启用多语言,默认为启用"}),A=z({displayName:"资源持有人",tooltip:"资源持有人"}),h(v=f((O=e((k=function(t){function e(){for(var e,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,i(e,"_lan",O,n(e)),i(e,"_bundle",N,n(e)),i(e,"_params",U,n(e)),e._isDirty=!0,i(e,"_mult",I,n(e)),e.onLoadComplete=void 0,i(e,"_user",L,n(e)),i(e,"_lanAtlas",M,n(e)),i(e,"_remote",P,n(e)),e}r(e,t);var u=e.prototype;return u.onLoad=function(){t.prototype.onLoad.call(this),App.language.add(this),this.update(0)},u.onDestroy=function(){App.language.remove(this),t.prototype.onDestroy.call(this)},u.update=function(e){t.prototype.update&&t.prototype.update.call(this,e),this._isDirty&&(this.forceDoLayout(),this._isDirty=!1)},u.forceDoLayout=function(){var t=a(s().mark((function t(){var e,r,i,n,o,a;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isUseMultilingual){t.next=16;break}if(e=this.bundle,r=R[e],App.bundleManager.getBundle(r)){t.next=7;break}return t.abrupt("return");case 7:if(i=App.getLanguage(this.language,this.params,r)){t.next=11;break}return t.abrupt("return");case 11:return t.next=13,App.uiManager.getViewAsync(this.user);case 13:(n=t.sent)||(n=null==(o=App.releaseManger.getUI(this.user,!1))?void 0:o.view),this.isRemote?this.loadRemoteImage({url:i,view:n,isNeedCache:!0}):this.languageAtlas.length>0?(a=App.getLanguage(this.languageAtlas,[],r),this.loadImage({url:{urls:a,key:i},view:n,bundle:r})):this.loadImage({url:i,view:n,bundle:r});case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o(e,[{key:"bundle",get:function(){return this._bundle},set:function(t){this._bundle!=t&&(this._bundle=t,this._isDirty=!0)}},{key:"language",get:function(){return this._lan},set:function(t){this.language!=t&&(this._lan=t,this._isDirty=!0)}},{key:"languageAtlas",get:function(){return this._lanAtlas},set:function(t){this._lanAtlas!=t&&(this._lanAtlas=t,this._isDirty=!0)}},{key:"isRemote",get:function(){return this._remote},set:function(t){this._remote!=t&&(this._remote=t,this._isDirty=!0)}},{key:"params",get:function(){return this._params},set:function(t){this._params=t,this._isDirty=!0}},{key:"isUseMultilingual",get:function(){return this._mult},set:function(t){t!=this._mult&&(this._mult=t,this._isDirty=!0)}},{key:"user",get:function(){return this._user},set:function(t){this._user=t}}]),e}(y)).prototype,"_lan",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),N=e(k.prototype,"_bundle",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return R.resources}}),U=e(k.prototype,"_params",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=e(k.prototype,"_mult",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),L=e(k.prototype,"_user",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.UNKNOWN}}),M=e(k.prototype,"_lanAtlas",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=e(k.prototype,"_remote",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),e(k.prototype,"bundle",[b],Object.getOwnPropertyDescriptor(k.prototype,"bundle"),k.prototype),e(k.prototype,"language",[d],Object.getOwnPropertyDescriptor(k.prototype,"language"),k.prototype),e(k.prototype,"languageAtlas",[m],Object.getOwnPropertyDescriptor(k.prototype,"languageAtlas"),k.prototype),e(k.prototype,"isRemote",[_],Object.getOwnPropertyDescriptor(k.prototype,"isRemote"),k.prototype),e(k.prototype,"params",[D],Object.getOwnPropertyDescriptor(k.prototype,"params"),k.prototype),e(k.prototype,"isUseMultilingual",[w],Object.getOwnPropertyDescriptor(k.prototype,"isUseMultilingual"),k.prototype),e(k.prototype,"user",[A],Object.getOwnPropertyDescriptor(k.prototype,"user"),k.prototype),v=k))||v)||v));u._RF.pop()}}}));

System.register("chunks:///_virtual/UIView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventComponent.ts","./AudioComponent.ts","./Macros.ts"],(function(n){var t,e,o,i,r,s,c,a,u,h;return{setters:[function(n){t=n.inheritsLoose,e=n.createClass},function(n){o=n.cclegacy,i=n._decorator,r=n.KeyCode,s=n.Input,c=n.Game},function(n){a=n.default},function(n){u=n.default},function(n){h=n.Macro}],execute:function(){var l,d;o._RF.push({},"88e0cFi4dhOUr9sdD/3nRz4","UIView",void 0);var p=i.ccclass,g=(i.property,i.menu);n("default",p("UIView")(l=g("Quick公共组件/UIView")(((d=function(n){function o(){for(var t,e=arguments.length,o=new Array(e),i=0;i<e;i++)o[i]=arguments[i];return(t=n.call.apply(n,[this].concat(o))||this)._logic=null,t._args=void 0,t._className="unknow",t._bundle=null,t._enabledKeyUp=!1,t._enabledKeyDown=!1,t.audioHelper=null,t._enterBackgroundTime=0,t._enableFrontAndBackgroundSwitch=!1,t}t(o,n),o.getPrefabUrl=function(){return Log.e("请求实现public static getPrefabUrl"),h.UNKNOWN};var i=o.prototype;return i.close=function(){var n=this,t=this.closeAction;t?t.then((function(){App.uiManager.close(n.className)})):App.uiManager.close(this.className)},i.show=function(n){this._args=n,this.node&&(this.node.active=!0),this.onShow(),this.showAction},i.hide=function(){var n=this,t=this.hideAction;t?t.then((function(){n.node&&n.node.removeFromParent()})):this.node&&this.node.removeFromParent()},i.onKeyUp=function(n){n.keyCode==r.ESCAPE?this.onKeyBackUp(n):n.propagationStopped=!0},i.onKeyDown=function(n){n.keyCode==r.ESCAPE?this.onKeyBackDown(n):n.propagationStopped=!0},i.onKeyBackUp=function(n){n.propagationStopped=!0},i.onKeyBackDown=function(n){n.propagationStopped=!0},i.onLoad=function(){this.audioHelper=this.addComponent(u),this.audioHelper.owner=this;var t=App.logicManager.get(this,!0);t&&t.onLoad(this),this._logic=t,n.prototype.onLoad.call(this)},i._onEnterBackground=function(){this._enterBackgroundTime=Date.timeNow(),this.onEnterBackground()},i._onEnterForgeGround=function(){var n=Date.timeNow()-this._enterBackgroundTime;this.onEnterForgeground(n)},i.onEnterForgeground=function(n){},i.onEnterBackground=function(){},i.onClose=function(){},i.onShow=function(){var n,t=App.logicManager.get(this,!1);t||(null==(n=t=App.logicManager.get(this,!0))||n.onLoad(this));this._logic=t},i.onDestroy=function(){this._logic&&App.logicManager.destory(this._logic.module),n.prototype.onDestroy.call(this)},i.update=function(n){this._logic&&this._logic.update(n)},i.reset=function(){this._logic&&this._logic.reset(this)},e(o,[{key:"args",get:function(){return this._args},set:function(n){this._args=n}},{key:"className",get:function(){return this._className},set:function(n){this._className=n}},{key:"bundle",get:function(){return this._bundle},set:function(n){this._bundle=n}},{key:"closeAction",get:function(){return null}},{key:"showAction",get:function(){return null}},{key:"hideAction",get:function(){return null}},{key:"enabledKeyUp",get:function(){return this._enabledKeyUp},set:function(n){this._enabledKeyUp=n,n?this.onI(s.EventType.KEY_UP,this.onKeyUp):this.offI(s.EventType.KEY_UP,this.onKeyUp)}},{key:"enabledKeyDown",get:function(){return this._enabledKeyUp},set:function(n){this._enabledKeyUp=n,n?this.onI(s.EventType.KEY_DOWN,this.onKeyDown):this.offI(s.EventType.KEY_DOWN,this.onKeyDown)}},{key:"enableFrontAndBackgroundSwitch",get:function(){return this._enableFrontAndBackgroundSwitch},set:function(n){this._enableFrontAndBackgroundSwitch=n,n?(this.onG(c.EVENT_SHOW,this._onEnterForgeGround),this.onG(c.EVENT_HIDE,this._onEnterBackground)):(this.offG(c.EVENT_SHOW,this._onEnterForgeGround),this.offG(c.EVENT_HIDE,this._onEnterBackground))}}]),o}(a)).logicType=null,l=d))||l)||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/Update.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts"],(function(E){var t,D,e,_;return{setters:[function(E){t=E.createClass},function(E){D=E.cclegacy,e=E.native},function(E){_=E.Macro}],execute:function(){var A;E("Update",void 0),D._RF.push({},"3d08aMS7tVOUJAnh86aBZlX","Update",void 0),function(E){E.MAIN_PACK=_.MAIN_PACK_BUNDLE_NAME,E.MANIFEST_ROOT="manifest/";var D=function(E){return E[E.ERROR_NO_LOCAL_MANIFEST=0]="ERROR_NO_LOCAL_MANIFEST",E[E.ERROR_DOWNLOAD_MANIFEST=1]="ERROR_DOWNLOAD_MANIFEST",E[E.ERROR_PARSE_MANIFEST=2]="ERROR_PARSE_MANIFEST",E[E.NEW_VERSION_FOUND=3]="NEW_VERSION_FOUND",E[E.ALREADY_UP_TO_DATE=4]="ALREADY_UP_TO_DATE",E[E.UPDATE_PROGRESSION=5]="UPDATE_PROGRESSION",E[E.ASSET_UPDATED=6]="ASSET_UPDATED",E[E.ERROR_UPDATING=7]="ERROR_UPDATING",E[E.UPDATE_FINISHED=8]="UPDATE_FINISHED",E[E.UPDATE_FAILED=9]="UPDATE_FAILED",E[E.ERROR_DECOMPRESS=10]="ERROR_DECOMPRESS",E[E.PRE_VERSIONS_NOT_FOUND=11]="PRE_VERSIONS_NOT_FOUND",E[E.UNINITED=12]="UNINITED",E}({});E.Code=D;var A=function(E){return E[E.UNINITED=0]="UNINITED",E[E.UNCHECKED=1]="UNCHECKED",E[E.PREDOWNLOAD_VERSION=2]="PREDOWNLOAD_VERSION",E[E.DOWNLOADING_VERSION=3]="DOWNLOADING_VERSION",E[E.VERSION_LOADED=4]="VERSION_LOADED",E[E.PREDOWNLOAD_MANIFEST=5]="PREDOWNLOAD_MANIFEST",E[E.DOWNLOADING_MANIFEST=6]="DOWNLOADING_MANIFEST",E[E.MANIFEST_LOADED=7]="MANIFEST_LOADED",E[E.NEED_UPDATE=8]="NEED_UPDATE",E[E.PREDOWNLOAD_UPDATE=9]="PREDOWNLOAD_UPDATE",E[E.READY_TO_UPDATE=10]="READY_TO_UPDATE",E[E.UPDATING=11]="UPDATING",E[E.UNZIPPING=12]="UNZIPPING",E[E.UP_TO_DATE=13]="UP_TO_DATE",E[E.FAIL_TO_UPDATE=14]="FAIL_TO_UPDATE",E}({});E.State=A;var N=function(E){return E[E.NEED_DOWNLOAD=0]="NEED_DOWNLOAD",E[E.UP_TO_DATE=1]="UP_TO_DATE",E[E.NEED_UPDATE=2]="NEED_UPDATE",E}({});E.Status=N;var n=function(){function E(E,t){this.bundle="",this.name="",this.name=E,this.bundle=t}return E.prototype.clone=function(){return new E(this.name,this.bundle)},E}();E.Config=n;var O=function(){function E(E,t){this.name="",this._manager=null,this.type="",this.storagePath="",this.name=E,this.type="type."+E,this.storagePath=t,this.create()}var D=E.prototype;return D.reset=function(){this.manager.reset()},D.removeCache=function(){this.manager.removeBundle(this.storagePath),this.manager.removeBundle(this.storagePath.substring(0,this.storagePath.length-1)+"_temp/"),dispatch(_.ON_DELETE_BUNDLE_CACHE,this.name)},D.create=function(){Log.d("创建 "+this.name+" AssetsManager"),this.manager=new e.AssetsManager(this.type,this.storagePath)},t(E,[{key:"manager",get:function(){return this._manager||this.create(),this._manager},set:function(E){this._manager=E}}]),E}();E.AssetsManager=O}(A||(A=E("Update",{}))),D._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts","./Update.ts"],(function(e){var t,s,a,n,d,i;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy,a=e.native,n=e.game},function(e){d=e.Macro},function(e){i=e.Update}],execute:function(){s._RF.push({},"7c9a6PDI79IarK+jVWGiFP0","UpdateItem",void 0);e("UpdateItem",function(){function e(e){this._name="",this.bundle="",this.handler=null,this.userData=null,this.isLoaded=!1,this._code=i.Code.UNINITED,this._state=i.State.UNINITED,this._name=e.name,this.bundle=e.bundle}var s=e.prototype;return s.reset=function(){this.state=i.State.UNINITED,this.code=i.Code.UNINITED,Log.d(this.bundle+" AssetsManager 重置"),this.assetsManager.manager.reset()},s.convertBundle=function(e){return App.updateManager.convertBundle(e)},s.getProjectString=function(){return App.updateManager.getProjectString(this.bundle)},s.checkUpdate=function(){this.handler.onStarCheckUpdate(this),this.checkBundleUpdate()},s.checkBundleUpdate=function(){if(this.assetsManager.manager.getLocalManifest()&&(Log.d(this.bundle+" 本地文件已经加载完成,直接进入更新流程"),this.isUpdating))return Log.d(this.bundle+" 正在检测更新中..."),void this.handler.onShowUpdating(this);var e=this.getProjectString();if(e){var t=new a.Manifest(e,this.storagePath,this.hotUpdateUrl);Log.d(this.bundle+" --存在本地版本控制文件checkUpdate--"),this.assetsManager.manager.loadLocalManifest(t,""),this._checkUpdate()}else{var s={version:"0",bundle:this.convertBundle(this.bundle),md5:d.UNKNOWN},n=JSON.stringify(s),i=new a.Manifest(n,this.storagePath,this.hotUpdateUrl);Log.d(this.bundle+" 检测更新"),Log.d(this.bundle+" 版本信息 : "+n),this.assetsManager.manager.loadLocalManifest(i,""),this._checkUpdate()}},s._checkUpdate=function(){Log.d(this.bundle+" 进入检测更新"),this.state=i.State.UPDATING,this.assetsManager.manager.setEventCallback(this.checkCb.bind(this)),this.assetsManager.manager.checkUpdate()},s.checkCb=function(e){var t=e.getEventCode(),s=this.assetsManager.manager.getState();switch(Log.d(this.bundle+" checkCb event code : "+t+" state : "+s),t){case i.Code.ERROR_NO_LOCAL_MANIFEST:Log.d(this.bundle+" No local manifest file found, hot update skipped.");break;case i.Code.ERROR_DOWNLOAD_MANIFEST:case i.Code.ERROR_PARSE_MANIFEST:Log.d(this.bundle+" Fail to download manifest file, hot update skipped.");break;case i.Code.ALREADY_UP_TO_DATE:Log.d(this.bundle+" Already up to date with the latest remote version.");break;case i.Code.NEW_VERSION_FOUND:Log.d(this.bundle+" New version found, please try to update.");break;default:return}this.state=s,this.code=t,t==i.Code.NEW_VERSION_FOUND?this.handler.onNewVersionFund(this):t==i.Code.ALREADY_UP_TO_DATE?this.handler.onAreadyUpToData(this):t==i.Code.ERROR_DOWNLOAD_MANIFEST||t==i.Code.ERROR_NO_LOCAL_MANIFEST||t==i.Code.ERROR_PARSE_MANIFEST||t==i.Code.PRE_VERSIONS_NOT_FOUND?this.handler.onUpdateFailed(this):this.handler.onOther(this)},s.doUpdate=function(){Log.d(this.bundle+" 即将热更新, updating : "+this.isUpdating),this.isUpdating||(Log.d(this.bundle+" 执行更新 "),this.assetsManager.manager.setEventCallback(this.updateCb.bind(this)),this.assetsManager.manager.update())},s.updateCb=function(e){var t=this,s=!1,d=!1,o=e.getEventCode(),r=this.assetsManager.manager.getState();switch(Log.d(this.bundle+" --update cb code : "+o+" state : "+r),o){case i.Code.ERROR_NO_LOCAL_MANIFEST:Log.d(this.bundle+" No local manifest file found, hot update skipped."),d=!0;break;case i.Code.UPDATE_PROGRESSION:Log.d(this.bundle+" "+e.getDownloadedBytes()+" / "+e.getTotalBytes()),Log.d(this.bundle+" "+e.getDownloadedFiles()+" / "+e.getTotalFiles()),Log.d(this.bundle+" percent : "+e.getPercent()),Log.d(this.bundle+" percent by file : "+e.getPercentByFile()),Log.d(this.bundle+" assetId : "+e.getAssetId());var h=e.getMessage();h&&Log.d(this.bundle+" Updated file: "+h);break;case i.Code.ERROR_DOWNLOAD_MANIFEST:case i.Code.ERROR_PARSE_MANIFEST:Log.d(this.bundle+" Fail to download manifest file, hot update skipped."),d=!0;break;case i.Code.ALREADY_UP_TO_DATE:Log.d(this.bundle+" Already up to date with the latest remote version"),d=!0;break;case i.Code.UPDATE_FINISHED:Log.d(this.bundle+" Update finished. "+e.getMessage()),s=!0;break;case i.Code.UPDATE_FAILED:Log.d(this.bundle+" Update failed. "+e.getMessage());break;case i.Code.ERROR_UPDATING:Log.d(this.bundle+" Asset update error: "+e.getAssetId()+" , "+e.getMessage());break;case i.Code.ERROR_DECOMPRESS:Log.d(this.bundle+" "+e.getMessage())}d&&this.assetsManager.manager.setEventCallback(null);var g=!1;this.isMain?s&&(this.assetsManager.manager.setEventCallback(null),e.getDownloadedFiles()>0&&(g=!0)):s&&(Log.d(this.bundle+" 更新前是否加载过 : "+this.isLoaded),this.isLoaded&&e.getDownloadedFiles()>0&&(Log.d(this.bundle+" 已经加载过，需要重启"),g=!0)),this.state=r,this.code=o;var l={downloadedBytes:e.getDownloadedBytes(),totalBytes:e.getTotalBytes(),downloadedFiles:e.getDownloadedFiles(),totalFiles:e.getTotalFiles(),percent:e.getPercent(),percentByFile:e.getPercentByFile(),code:e.getEventCode(),state:r,needRestart:g,bundle:this.bundle,assetId:e.getAssetId(),progress:0};l.code==i.Code.UPDATE_FINISHED?(l.progress=1.1,this.handler.onDownloading(this,l)):l.code==i.Code.UPDATE_PROGRESSION?(l.totalBytes<=0?l.progress=0:l.progress=l.percent==Number.NaN?0:l.percent,this.handler.onDownloading(this,l)):l.code==i.Code.ALREADY_UP_TO_DATE?(l.progress=1,this.handler.onDownloading(this,l)):l.code!=i.Code.UPDATE_FAILED&&l.code!=i.Code.ERROR_NO_LOCAL_MANIFEST&&l.code!=i.Code.ERROR_DOWNLOAD_MANIFEST&&l.code!=i.Code.ERROR_PARSE_MANIFEST&&l.code!=i.Code.ERROR_DECOMPRESS||(l.progress=-1,Log.e("更新"+this.name+"失败"),this.handler.onUpdateFailed(this)),s&&(Log.d(this.bundle+" 更新完成,下载资源数 : "+e.getDownloadedFiles()),g?(Log.d(this.bundle+" 更新完成，需要重启游戏"),this.handler.onNeedRestartApp(this,(function(e){a.fileUtils.purgeCachedEntries();var s=.5;e&&(s=1),setTimeout((function(){Log.d(t.bundle+" 重启游戏"),n.restart()}),1e3*s)}))):(a.fileUtils.purgeCachedEntries(),this.reset(),this.handler.onDownloadComplete(this))),Log.d(this.bundle+"update cb  failed : "+d+"  , isRestartApp : "+g+" isUpdateFinished : "+s+" , updating : "+this.isUpdating)},t(e,[{key:"name",get:function(){return App.getLanguage(this._name)}},{key:"assetsManager",get:function(){return App.updateManager.getAssetsManager(this)}},{key:"code",get:function(){return this.isBrowser?i.Code.ALREADY_UP_TO_DATE:this._code},set:function(e){this._code=e}},{key:"state",get:function(){return this.isBrowser?i.State.UP_TO_DATE:this._state},set:function(e){this._state=e}},{key:"updateName",get:function(){return this.assetsManager.name}},{key:"isBrowser",get:function(){return App.updateManager.isBrowser}},{key:"isMain",get:function(){return this.assetsManager.name==i.MAIN_PACK}},{key:"remoteMd5",get:function(){return this.assetsManager.manager.getRemoteManifest().getMd5()}},{key:"storagePath",get:function(){return App.updateManager.storagePath}},{key:"hotUpdateUrl",get:function(){return App.updateManager.realHotUpdateUrl}},{key:"isUpdating",get:function(){var e=this,t=function(t){return t==i.State.PREDOWNLOAD_VERSION?(Log.d(e.bundle+" 准备下载版本文件"),!0):t==i.State.DOWNLOADING_VERSION?(Log.d(e.bundle+" 下载版本文件中"),!0):t==i.State.PREDOWNLOAD_MANIFEST?(Log.d(e.bundle+" 准备下载project文件"),!0):t==i.State.DOWNLOADING_MANIFEST?(Log.d(e.bundle+" 下载project文件中"),!0):t==i.State.VERSION_LOADED?(Log.d(e.bundle+" 下载版本文件完成，下一步骤会解析版本文件，也算在更新过程中"),!0):t==i.State.MANIFEST_LOADED?(Log.d(e.bundle+" 下载project文件完成,下载步骤会解析project文件，也算在更新过程中"),!0):t==i.State.UPDATING?(Log.d(e.bundle+" 正在更新中"),!0):void 0};return t(this.assetsManager.manager.getState())?(Log.d(this.bundle+" C++层更新中"),!0):!!t(this.state)&&(Log.d(this.bundle+" TS层更新中"),!0)}}]),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateLoading.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Loading.ts"],(function(t){var n,e,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.default}],execute:function(){e._RF.push({},"634b97zYMlAP5z8Buea/nWN","UpdateLoading",void 0),t("default",function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).module=null,n}n(e,t);var i=e.prototype;return i.show=function(t,n,e){return this.timeOutCb=void 0,this._show(999),this._content=[],"string"==typeof t&&this._content.push(t),this},i.startShowContent=function(){this.text.string=this._content[0]},i.updateProgress=function(t){if(this.text){if(null==t||null==t||Number.isNaN(t)||t<0)return void this.hide();(t*=100)>=0&&t<=100&&(this.text.string=App.getLanguage("loadingProgress",[t.toFixed(2)]))}},e}(i)).module="【UpdateLoading】",e._RF.pop()}}}));

System.register("chunks:///_virtual/UpdateManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Update.ts","./env","./Macros.ts","./UpdateItem.ts"],(function(t){var e,n,i,s,r,o,a,u,h,d;return{setters:[function(t){e=t.asyncToGenerator,n=t.createClass,i=t.regeneratorRuntime},function(t){s=t.cclegacy,r=t.native,o=t.sys},function(t){a=t.Update},function(t){u=t.PREVIEW},function(t){h=t.Macro},function(t){d=t.UpdateItem}],execute:function(){s._RF.push({},"a8a370bCy5IT6wexJ6WyBkT","UpdateManager",void 0);t("UpdateManager",function(){function t(){this.isResident=!0,this.module=null,this.items=[],this.current=null,this._hotUpdateUrl="",this._isSkipUpdate=!1,this.assetsManagers={},this.remoteVersions=null,this.defaultVersion="1.0",this.defaultMD5=h.UNKNOWN,this.mainBundles=["src","jsb-adapter","assets/resources","assets/main","assets/internal","main.js"],this.isAutoVersion=!0,this.navigationData=null}var s=t.prototype;return s.getAssetsManager=function(t){var e=t.convertBundle(t.bundle);return this._getAssetsManager(e)},s._getAssetsManager=function(t){return this.assetsManagers[t]},s.removeBunbleCache=function(t){Log.d(this.module+" Web端无此功能")},s.dowonLoad=function(t){this.isSkipUpdate?t.handler.onLoadBundle(t):(this.current=this.getItem(t),this.current?this.current.isUpdating?(Log.d(t.bundle+" 正在更新中..."),this.current.handler.onShowUpdating(this.current)):(Log.d(t.bundle+" 不在更新状态，进入更新..."),this._dowonLoad(t)):(Log.d(t.bundle+" 放入下载队列中..."),this.items.push(t),this._dowonLoad(t)))},s._dowonLoad=function(){var t=e(i().mark((function t(e){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.current=e,t.next=3,this.loadVersions(this.current);case 3:t.sent&&(this.getStatus(e.bundle)==a.Status.UP_TO_DATE?(e.state=a.State.UP_TO_DATE,Log.d(e.bundle+" 已经是最新，直接进入..."),e.handler.onLoadBundle(e)):(Log.d(e.bundle+" 进入检测更新..."),e.state=a.State.READY_TO_UPDATE,e.checkUpdate()));case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.getItem=function(t){if(t instanceof d)return this._getItem(t.bundle);var e=this._getItem(t.bundle);return null==e&&(e=new d(t)),e},s._getItem=function(t){for(var e=0;e<this.items.length;e++)if(t==this.items[e].bundle)return this.items[e];return null},s.getStatus=function(t){if(this.isSkipUpdate)return a.Status.UP_TO_DATE;t=this.convertBundle(t);var e=this.getVersionInfo(t);return e?e.md5==this.remoteVersions[t].md5?a.Status.UP_TO_DATE:a.Status.NEED_UPDATE:a.Status.NEED_DOWNLOAD},s.getMd5=function(t){if(this.isBrowser)return this.defaultMD5;t=this.convertBundle(t);var e=this.getVersionInfo(t);return e?""+e.md5:this.remoteVersions[t]?(Log.w(this.module+"本地无版本信息,返回远程版本"+this.remoteVersions[t].md5),""+this.remoteVersions[t].md5):(Log.e(this.module+"远程无版本信息，返回默认版本"+this.defaultMD5),this.defaultMD5)},s.getVersion=function(t){if(this.isBrowser)return this.defaultVersion;t=this.convertBundle(t),this.isAutoVersion&&(t=h.MAIN_PACK_BUNDLE_NAME);var e=this.getVersionInfo(t);return e?""+e.version:this.remoteVersions[t]?(Log.w(this.module+"本地无版本信息,返回远程版本"+this.remoteVersions[t].version),""+this.remoteVersions[t].version):(Log.e(this.module+"远程无版本信息，返回默认版本"+this.defaultVersion),this.defaultVersion)},s.getString=function(t){var e=""+this.storagePath+t;return r.fileUtils.isFileExist(e)?r.fileUtils.getStringFromFile(e):r.fileUtils.isFileExist(t)?r.fileUtils.getStringFromFile(t):void 0},s.getVersionString=function(t){t=this.convertBundle(t);var e=""+a.MANIFEST_ROOT+t+"_version.json";return this.getString(e)},s.getProjectString=function(t){t=this.convertBundle(t);var e=""+a.MANIFEST_ROOT+t+"_project.json";return this.getString(e)},s.getVersionInfo=function(t){var e=this.getVersionString(t);if(e)return JSON.parse(e)},s.loadVersions=function(t){var n=this;return new Promise(e(i().mark((function e(s,o){var u,h;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.isBrowser){e.next=3;break}return s(!0),e.abrupt("return");case 3:return t.state=a.State.PREDOWNLOAD_VERSION,t.handler.onShowUpdating(t),u=function(){n.remoteVersions={},t.state=a.State.FAIL_TO_UPDATE,t.code=a.Code.PRE_VERSIONS_NOT_FOUND,t.handler.onPreVersionFailed(t),Log.e(n.module+" 加载"+t.bundle+"时，加载远程版本信息失败..."),s(!1)},e.next=8,n.readNavigationVersion();case 8:if(!e.sent){e.next=17;break}return e.next=13,n.readRemoteVersions();case 13:e.sent?((h=t.convertBundle(t.bundle))==a.MAIN_PACK&&n.getStatus(h)==a.Status.UP_TO_DATE&&(Log.d(n.module+" 主包已经是最新，写入远程的版本信息"),r.fileUtils.purgeCachedEntries()),Log.d(n.module+" 加载"+t.bundle+"时，加载远程版本信息成功..."),t.state=a.State.VERSION_LOADED,s(!0)):u(),e.next=19;break;case 17:Log.e(n.module+" 读取导航文件版本失败"),u();case 19:case"end":return e.stop()}}),e)}))))},s.convertBundle=function(t){return t==h.BUNDLE_RESOURCES?a.MAIN_PACK:t},s.readRemoteVersions=function(){var t=this;return new Promise((function(e){App.http.fetch(t.realHotUpdateUrl+"/"+a.MANIFEST_ROOT+"versions.json",{timestamp:!0}).then((function(t){return t.json()})).then((function(n){t.remoteVersions=n,e(n)})).catch((function(n){Log.e(t.module+" 读取远程版本信息失败:"+n.message),e(null)}))}))},s.readNavigationVersion=function(){var t=this;return new Promise((function(e){t.navigationData?e(t.navigationData.version):App.http.fetch(t.hotUpdateUrl+"/navigation.json",{timestamp:!0}).then((function(t){return t.json()})).then((function(n){t.navigationData=n,Log.d(t.module+" 获取导航文件版本成功,热更新版本:"+t.navigationData.version),e(t.navigationData.version)})).catch((function(t){e(null)}))}))},s.debug=function(){Log.d("-----------热更新管理器中相关信息------------"),Log.dump({name:"远程版本信息",data:this.remoteVersions})},n(t,[{key:"storagePath",get:function(){return r.fileUtils.getWritablePath()+"caches/"}},{key:"hotUpdateUrl",get:function(){return Log.d("当前热更新地址为:"+this._hotUpdateUrl),this._hotUpdateUrl},set:function(t){this._hotUpdateUrl=t}},{key:"isSkipUpdate",get:function(){return!!this.isBrowser||this._isSkipUpdate},set:function(t){this._isSkipUpdate=t}},{key:"isBrowser",get:function(){return o.platform==o.Platform.WECHAT_GAME||u||o.isBrowser}},{key:"realHotUpdateUrl",get:function(){return this.hotUpdateUrl+"/"+this.navigationVersion}},{key:"appVersion",get:function(){if(this.isBrowser)return this.defaultVersion;var t=a.MANIFEST_ROOT+"apk.json",e=this.getString(t);return e?"v"+JSON.parse(e).version:(Log.e(this.module+"无法读取到"+t),this.defaultVersion)}},{key:"navigationVersion",get:function(){return this.navigationData?this.navigationData.whiteList?this.navigationData.whiteList.length>0&&this.navigationData.whiteList.indexOf(App.platform.uuid)>-1?this.navigationData.version:this.navigationData.onlineVersion:this.navigationData.version:null}}]),t}()).module="【更新管理器】",s._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,a,o,i,s,u;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,a=e.Tween,o=e.tween,i=e.Vec3,s=e.UITransform,u=e.safeMeasureText}],execute:function(){r._RF.push({},"834c7+oOQpO/pw/9yqGEA/H","Utils",void 0),e("Utils",function(){function e(){this.module=null}var r=e.prototype;return r.showView=function(e){return new Promise((function(t,n){e?(a.stopAllByTarget(e),o(e).set({scale:new i(.2,.2,.2)}).to(.2,{scale:new i(1.15,1.15,1.15)}).delay(.05).to(.1,{scale:new i(1,1,1)}).call((function(){t()})).start()):t()}))},r.hideView=function(e){return new Promise((function(t,n){e?(a.stopAllByTarget(e),o(e).to(.2,{scale:new i(1.15,1.15,1.15)}).to(.1,{scale:new i(.3,.3,.3)}).call((function(){t()})).start()):t()}))},r.isMail=function(e){return/^([0-9A-Za-z\-_\.]+)@([0-9a-z]+\.[a-z]{2,3}(\.[a-z]{2})?)$/g.test(e)},r.isTEL=function(e){return/^1([358][0-9]|4[579]|66|7[0135678]|9[89])[0-9]{8}$/g.test(e)},r.limitString=function(e,t,n,r){if(void 0===n&&(n=100),void 0===r&&(r=".."),e){e.string=t,e.forceDoLayout();var a=e.getComponent(s).width;if(a<=n)return;var o=(a-n)/(a/t.length);o=Math.floor(o);var i=t.substring(0,t.length-o)+r;if(e.assemblerData&&e.assemblerData.context)for(var c=u(e.assemblerData.context,i);c>n;)i=i.substring(0,i.length-r.length-1)+r,c=u(e.assemblerData.context,i);e.string=i}},r.toThousandths=function(e,t){void 0===t&&(t={});var n,r,a="";e<0&&(e*=-1,a="-");var o=t.point||2,i=t.locale||"en",s=t.floor||!1;switch(i.toLowerCase()){case"de":case"es":case"it":n=".",r=",";break;case"fr":case"ru":n=" ",r=",";break;case"en":default:n=",",r="."}if(s){var u=Math.pow(10,o);e=Math.floor(e*u)/u}else e=Number(e.toFixed(o));var c=e.toString().split("."),l=c[0],f=c[1],d=a+l.replace(/\B(?=(\d{3})+(?!\d))/g,n);return o>0&&(void 0===f?f="0".repeat(o):f.length<o&&(f=f.padEnd(o,"0")),d+=r+f),d},r.toFormat=function(e,t){void 0===t&&(t={});var n=t.point||2,r=t.locale||"en",a=t.floor||!1;if(isNaN(e)||!isFinite(e))return"0";r.toLowerCase();var o=1e3,i={K:o,M:Math.pow(o,2),B:Math.pow(o,3),T:Math.pow(o,4)},s=["K","M","B","T"],u="",c=0,l=1;if(e<0&&(l=-1),(e=Math.abs(e))<o)c=e;else for(var f=s.length-1;f>=0;f--){if((c=e/i[s[f]])>=1){u=s[f];break}}var d=c*l;if(a){var h=Math.pow(10,n);d=Math.floor(d*h)/h}else d=Number(d.toFixed(n));return""+d.toFixed(n)+u},r.isIDNumber=function(e){return!!/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/g.test(e)},r.uniqueArray=function(e,t){if(!t)return[].concat(new Set(e));var n=new Set;return e.filter((function(e){var r=e[t];return!n.has(r)&&(n.add(r),!0)}))},r.shuffleArray=function(e){for(var t=[].concat(e),n=t.length-1;n>0;n--){var r=Math.floor(Math.random()*(n+1)),a=[t[r],t[n]];t[n]=a[0],t[r]=a[1]}return t},r.delayMs=function(e){return new Promise((function(t){setTimeout(t,e)}))},r.delay=function(){var e=t(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delayMs(1e3*t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),e}()).module="【Utils】",r._RF.pop()}}}));

System.register("chunks:///_virtual/ViewAsset.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./Macros.ts"],(function(e){var t,s,i,a,o;return{setters:[function(e){t=e.createClass},function(e){s=e.cclegacy,i=e.isValid},function(e){a=e.ViewStatus},function(e){o=e.Macro}],execute:function(){var n;e("ViewAsset",void 0),s._RF.push({},"495c8uZF4FHy4BM1OaVadzK","ViewAsset",void 0),function(e){var s=function(){function e(e){void 0===e&&(e=null),this.local=new Map,this.remote=new Map,this.name=void 0,this.name=e}var t=e.prototype;return t.addLocal=function(e,t){this.name==o.DYNAMIC_LOAD_GARBAGE&&Log.e("找不到资源持有者: "+e.key),this.local.has(e.key)||(App.asset.retainAsset(e),this.local.set(e.key,e))},t.addRemote=function(e,t){this.remote.has(e.key)||(this.name==o.DYNAMIC_LOAD_GARBAGE&&Log.e("找不到资源持有者 : "+e.key),App.cache.remoteCaches.retainAsset(e),this.remote.set(e.key,e))},t.clear=function(e){(void 0===e&&(e=!1),this.name==o.DYNAMIC_LOAD_GARBAGE)?((this.local.size>0||this.remote.size>0)&&Log.e("当前未能释放资源如下:"),this.local&&this.local.size>0&&(Log.e("-----------local-----------"),this.local&&this.local.forEach((function(e,t){Log.e(t)}))),this.remote&&this.remote.size>0&&(Log.e("-----------remote-----------"),this.remote&&this.remote.forEach((function(e,t){Log.e(t)})))):(this.local&&(this.local.forEach((function(e,t){App.asset.releaseAsset(e)})),e||this.local.clear()),this.remote&&(this.remote.forEach((function(e,t){App.cache.remoteCaches.releaseAsset(e)})),e||this.remote.clear()))},t.resume=function(e){var t=App.releaseManger.get(e.bundle,e.key);t&&(App.cache.set(t),App.asset.retainAsset(t))},t.resumeRelease=function(){var e=this;this.local&&this.local.forEach((function(t,s){e.resume(t)})),this.remote&&this.remote.forEach((function(t,s){e.resume(t)}))},e}();e.Dynamic=s;var n=function(){function e(){this.isLoaded=!1,this.status=a.WAITTING_NONE,this.view=null,this.finishCb=[],this.isPreload=!1,this.isPrefab=!0,this.cache=null,this.viewType=null,this.bundle=null,this.loadData=new s,this.node=null,this.isCache=!1}var o=e.prototype;return o.doFinish=function(e,t,s){for(var i=0;i<this.finishCb.length;i++){var a=this.finishCb[i];a&&a(e)}this.finishCb=[]},o.resumeRelease=function(){var e=this;return App.isLazyRelease&&this.isCache&&(i(this.view)&&i(this.node)?(this.isPrefab&&this.loadData.resume(this.cache),this.loadData.resumeRelease()):e=void 0),e},o.toRelease=function(){this.status=a.WAITTING_CLOSE;var e=App.isLazyRelease&&this.isCache,t=!1;return i(this.view)&&i(this.node)&&(this.node.removeFromParent(),this.view.onClose(),e?t=!0:this.node.destroy()),this.isPrefab&&this.cache&&App.asset.releaseAsset(this.cache),this.loadData.clear(e),t},o.destroy=function(){i(this.view)&&i(this.node)&&this.node.destroy()},t(e,[{key:"name",get:function(){return this.loadData.name}}]),e}();e.Data=n}(n||(n=e("ViewAsset",{}))),s._RF.pop()}}}));

System.register("chunks:///_virtual/WSMsgHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,s;return{setters:[function(e){t=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy}],execute:function(){s._RF.push({},"8b77e4fK5NCpZkIfZ6l+j5l","WSMsgHandler",void 0);e("WSMsgHandler",function(){function e(e){this.service=void 0,this._listeners={},this._masseageQueue=new Array,this._isDoingMessage=!1,this.isPause=!1,this._RPCQueue=[],this.service=e}var s=e.prototype;return s.addRPC=function(e){var t=this;e.onTimeout=function(){t.removeRPC(e)},this._RPCQueue.push(e)},s.removeRPC=function(e){for(var t=0;t<this._RPCQueue.length;t++)if(this._RPCQueue[t]==e){this._RPCQueue.splice(t,1);break}},s.update=function(){var e=t(r().mark((function e(t){var s,n,a,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPause){e.next=2;break}return e.abrupt("return");case 2:if(!this._isDoingMessage){e.next=4;break}return e.abrupt("return");case 4:if(0!=this._masseageQueue.length){e.next=6;break}return e.abrupt("return");case 6:if(null!=(s=this._masseageQueue.shift())){e.next=9;break}return e.abrupt("return");case 9:if(0!=s.length){e.next=11;break}return e.abrupt("return");case 11:this._isDoingMessage=!0,n=null,a=0;case 14:if(!(a<s.length)){e.next=22;break}return u=s[a],e.next=18,this.doSafeCall(u.func,u.data,u.target,n);case 18:n=e.sent;case 19:a++,e.next=14;break;case 22:this._isDoingMessage=!1;case 23:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.onMessage=function(e,t){this.addQueue(e)},s.destroy=function(){this.stop(),this._listeners={}},s.stop=function(){this._masseageQueue=[];for(var e=0;e<this._RPCQueue.length;e++){var t=this._RPCQueue[e];try{t.resolve(null)}catch(e){Log.e(e)}t.stop()}this._RPCQueue=[],this._isDoingMessage=!1},s.onS=function(e,t,r,s,n){var a=e;if(this._listeners[a]){for(var u=!1,i=0;i<this._listeners[a].length;i++)if(this._listeners[a][i].target===n){u=!0;break}if(u)return;this._listeners[a].push({cmd:e,func:r,type:t,isQueue:s,target:n})}else this._listeners[a]=[],this._listeners[a].push({cmd:e,func:r,type:t,isQueue:s,target:n})},s.offS=function(e,t){if(t){var r=this;Object.keys(this._listeners).forEach((function(s){for(var n=r._listeners[s],a=n.length;a--;)n[a].target==e&&n[a].cmd==t&&n.splice(a,1);0==n.length&&delete r._listeners[s]}));for(var s=this._masseageQueue.length;s--;){for(var n=this._masseageQueue[s],a=n.length;a--;)n[a].target==e&&n[s].cmd==t&&n.splice(a,1);0==n.length&&this._masseageQueue.splice(s,1)}}else{var u=this;Object.keys(this._listeners).forEach((function(t,r,s){for(var n=u._listeners[t],a=n.length;a--;)n[a].target==e&&n.splice(a,1);0==n.length&&delete u._listeners[t]}));for(var i=this._masseageQueue.length;i--;){for(var c=this._masseageQueue[i],o=c.length;o--;)c[o].target==e&&c.splice(o,1);0==c.length&&this._masseageQueue.splice(i,1)}}},s.decode=function(){var e=t(r().mark((function e(t,s,n){var a,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n&&(n=null),!(this.service.flows.decodeMessageFlow.nodes.length>0)){e.next=12;break}return(a=n)||(a=t),e.next=6,this.service.flows.decodeMessageFlow.exec({service:this.service,message:s,decodeData:a,result:null});case 6:if(!(u=e.sent)){e.next=9;break}return e.abrupt("return",u.result);case 9:case 12:return e.abrupt("return",null);case 14:case"end":return e.stop()}}),e,this)})));return function(t,r,s){return e.apply(this,arguments)}}(),s.addQueue=function(){var e=t(r().mark((function e(t){var s,n,a,u,i,c,o,l,h,f,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=t.cmd,n=[],a=[],u=this._RPCQueue.length-1;case 4:if(!(u>=0)){e.next=21;break}if(i=this._RPCQueue[u],c=t,s==i.cmd){e.next=9;break}return e.abrupt("continue",18);case 9:return e.next=11,this.decode(null,t,i);case 11:if(c=e.sent){e.next=14;break}return e.abrupt("continue",18);case 14:a[s]=c;try{i.resolve(c)}catch(e){Log.e(e)}i.stop(),this._RPCQueue.splice(u,1);case 18:u--,e.next=4;break;case 21:if(this._listeners[s]&&this._listeners[s].length>0){e.next=25;break}return a[s],a={},e.abrupt("return");case 25:(o=this._listeners[s]).length,l=null,h=0;case 29:if(!(h<o.length)){e.next=49;break}if(f=o[h],p=t,!a[f.cmd]){e.next=36;break}p=a[f.cmd],e.next=39;break;case 36:return e.next=38,this.decode(f,t);case 38:p=e.sent;case 39:if(!f.isQueue){e.next=43;break}n.push(this.copy(f,p)),e.next=46;break;case 43:return e.next=45,this.doSafeCall(f.func,p,f.target,l);case 45:l=e.sent;case 46:h++,e.next=29;break;case 49:a={},n.length>0&&this._masseageQueue.push(n);case 51:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.copy=function(e,t){return{type:e.type,func:e.func,isQueue:e.isQueue,data:t,target:e.target,cmd:e.cmd}},s.doCall=function(){var e=t(r().mark((function e(t,s,n,a){var u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!((u=t.call(n,s,a))instanceof Promise)){e.next=8;break}return e.next=5,u;case 5:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",u);case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),Log.e(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r,s,n){return e.apply(this,arguments)}}(),s.doSafeCall=function(){var e=t(r().mark((function e(t,s,n,a){var u=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.race([this.doCall(t,s,n,a),new Promise((function(e,t){return setTimeout((function(){return t(new Error("Call timeout"))}),u.service.options.maxHandleTimeout)}))]);case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),Log.e("Safe call failed: "+e.t0),e.abrupt("return",null);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,r,s,n){return e.apply(this,arguments)}}(),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/WSProxy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(s){var t,e,n;return{setters:[function(s){t=s.createClass},function(s){e=s.cclegacy},function(s){n=s.DEBUG}],execute:function(){e._RF.push({},"bb95eXFwlNGJK2xK+3ZQM2D","WSProxy",void 0);var o=s("NORMAL_CLOSE_CODE",1e3);s("WSProxy",function(){function s(){this.options=null,this.waitSend=[],this.rsClose=null,this.rsCloseTimeOut=-1,this.rsOpen=null,this.rsOpenTimeOut=-1,this.onOpenCb=[],this._ws=null}var e=s.prototype;return e.connect=function(s,t,e){var o=this;return void 0===t&&(t=1e4),new Promise((function(i,r){s.startsWith("wss");o._ws=new WebSocket(s,e),o._ws.binaryType="arraybuffer",o._ws.onopen=o.onOpen.bind(o),o._ws.onclose=o.onClose.bind(o),o._ws.onerror=o.onError.bind(o),o._ws.onmessage=o.onMessage.bind(o),o.rsOpen=i,o.rsOpenTimeOut=setTimeout((function(){try{o.status!=WebSocket.OPEN&&n&&Log.w(o.options.tag+"连接超时")}catch(s){o.doOpen(!1)}}),t)}))},e.doOpen=function(s){this.rsOpen&&this.rsOpen(s),this.rsOpen=null;for(var t=0;t<this.onOpenCb.length;t++)this.onOpenCb[t](s);this.onOpenCb=[],clearTimeout(this.rsOpenTimeOut)},e.doClose=function(){this.rsClose&&this.rsClose(),this.rsClose=null,this._ws=null,this.waitSend=[],clearTimeout(this.rsCloseTimeOut)},e.onClose=function(s){var t,e;null==(t=(e=this.options).onClose)||t.call(e,s),this.doClose()},e.onOpen=function(s){var t,e,n=this;null==(t=(e=this.options).onOpen)||t.call(e,s),this.doOpen(!0),this.waitSend.forEach((function(s){n.ws.send(s)})),this.waitSend=[]},e.onError=function(s){var t,e;this.doOpen(!1),this.doClose(),null==(t=(e=this.options).onError)||t.call(e,s)},e.onMessage=function(s){var t,e;null==(t=(e=this.options).onMessage)||t.call(e,s)},e.close=function(s,t,e){var i=this;return void 0===t&&(t=o),void 0===e&&(e=3e3),new Promise((function(o,r){return i.ws?i.status==WebSocket.CLOSED?(o(),void i.doClose()):(i.status!=WebSocket.CLOSING&&i.ws.close(t,s),i.rsClose=o,void(i.rsCloseTimeOut=setTimeout((function(){try{i.status!=WebSocket.CLOSED&&n&&Log.w(i.options.tag+"关闭超时")}catch(s){}finally{i.doClose()}}),e))):(o(),void i.doClose())}))},e.send=function(s){if(!this.ws||!s)return!1;switch(this.status){case WebSocket.OPEN:return this.ws.send(s),!0;case WebSocket.CONNECTING:return this.waitSend.push(s),!0;case WebSocket.CLOSING:case WebSocket.CLOSED:default:return!1}},t(s,[{key:"ws",get:function(){return this._ws}},{key:"status",get:function(){var s;return null==(s=this.ws)?void 0:s.readyState}}]),s}());e._RF.pop()}}}));

System.register("chunks:///_virtual/WSReconnect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,c,s,i,r;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){s=e.cclegacy,i=e.Tween,r=e.tween}],execute:function(){s._RF.push({},"d39c4ihAV1HHbYxaI2xHDjK","WSReconnect",void 0);e("WSReconnect",function(){function e(e){this.service=null,this.connectID=100,this.isWaiting=!1,this.isReconnecting=!1,this.service=e}var s=e.prototype;return s.start=function(){var e=n(c().mark((function e(t){var n,s,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isWaiting&&!this.isReconnecting){e.next=2;break}return e.abrupt("return");case 2:this.isReconnecting=!0,n=0;case 5:if(!(n<this.maxCount)){e.next=21;break}return e.next=8,this.service.flows.reconnectStartFlow.exec({service:this.service,reconnectTimes:n+1});case 8:return(s=1.5*n)>3&&(s=3),e.next=12,this.reconnect(s);case 12:if(!e.sent){e.next=18;break}return e.next=15,this.service.flows.reconnectSuccessFlow.exec(this.service);case 15:return t(this.service),this.isReconnecting=!1,e.abrupt("return");case 18:n++,e.next=5;break;case 21:return this.isReconnecting=!1,this.isWaiting=!0,e.next=26,this.service.flows.reconnectFailedFlow.exec({service:this.service,isNeedReconnect:!1});case 26:(i=e.sent)&&i.isNeedReconnect?(this.isWaiting=!1,this.service.flows.reconnectFlow.exec(this.service)):this.isWaiting=!1;case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.reconnect=function(){var e=n(c().mark((function e(t){var s=this;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.service.isConnected){e.next=2;break}return e.abrupt("return",!0);case 2:return e.abrupt("return",new Promise((function(e,i){s.delayCall(s.connectID,t,n(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.t0=e,t.next=4,s.service.start();case 4:t.t1=t.sent,(0,t.t0)(t.t1),t.next=11;break;case 8:t.prev=8,t.t2=t.catch(0),e(!1);case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))))})));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.stopAction=function(e){i.stopAllByTag(e)},s.delayCall=function(e,t,n){this.stopAction(e),r(this).tag(e).delay(t).call(n).start()},s.stopActions=function(){this.stopAction(this.connectID)},s.stop=function(){this.stopActions()},t(e,[{key:"maxCount",get:function(){return this.service.options.reconnectTimes}}]),e}());s._RF.pop()}}}));

System.register("chunks:///_virtual/WSServer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WSProxy.ts"],(function(t){var e,r,n,o,s;return{setters:[function(t){e=t.createClass,r=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){s=t.WSProxy}],execute:function(){o._RF.push({},"77098MvPR9DaKBfUodrtaXM","WSServer",void 0);t("WSServer",function(){function t(){this._options=null,this.proxy=null}var o=t.prototype;return o.start=function(){var t=r(n().mark((function t(){var e=this;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(r(n().mark((function t(r,o){var i;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.proxy){t.next=20;break}if(!e.proxy.ws){t.next=18;break}if(e.proxy.status!=WebSocket.OPEN){t.next=8;break}return r(!0),t.abrupt("return");case 8:if(e.proxy.status!=WebSocket.CONNECTING){t.next=14;break}return e.proxy.onOpenCb.push(r),t.abrupt("return");case 14:if(e.proxy.status!=WebSocket.CLOSING){t.next=18;break}return r(!1),t.abrupt("return");case 18:t.next=21;break;case 20:e.proxy=new s;case 21:return e.proxy.options=e.options,t.next=24,e.proxy.connect(e.options.url,e.options.timeOut);case 24:if(i=t.sent){t.next=28;break}return t.next=28,e.stop();case 28:r(i);case 29:case"end":return t.stop()}}),t)})))));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o.stop=function(){var t=r(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.proxy){t.next=3;break}return t.next=3,this.proxy.close();case 3:this.proxy=null;case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.send=function(t){return!!this.proxy&&this.proxy.send(t)},e(t,[{key:"options",get:function(){return this._options},set:function(t){this._options=t,this.options.timeOut=this.options.timeOut||1e4,this.proxy&&(this.proxy.options=this.options)}},{key:"isConnected",get:function(){return!!this.proxy&&this.proxy.status==WebSocket.OPEN}}]),t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/WSService.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Macros.ts","./Net.ts","./WSMsgHandler.ts","./WSProxy.ts","./WSReconnect.ts","./WSServer.ts","./Flow.ts"],(function(e){var t,n,r,s,o,a,i,c,u,l,h;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy},function(e){o=e.Macro},function(e){a=e.Net},function(e){i=e.WSMsgHandler},function(e){c=e.NORMAL_CLOSE_CODE},function(e){u=e.WSReconnect},function(e){l=e.WSServer},function(e){h=e.Flow}],execute:function(){s._RF.push({},"fc532YHkMFABaICm3PJRhjJ","WSService",void 0),e("WSService",function(){function e(e){this.module=o.UNKNOWN,this._heartbeatTimer=-1,this._lostHeartbeat=0,this.isDestory=!1,this._options=null,this.serviceType=a.ServiceType.Unknown,this.server=null,this._reconnect=null,this._handler=null,this.priority=0,this.flows={openFlow:new h,closeFlow:new h,reconnectFlow:new h(!0),reconnectFailedFlow:new h,reconnectStartFlow:new h,reconnectSuccessFlow:new h,sendHeartbeatFlow:new h(!0),isHeartBeatFlow:new h(!0),decodeHeaderFlow:new h(!0),encodeHeaderFlow:new h(!0),decodeMessageFlow:new h(!0),enterBackgroundFlow:new h(!0),enterForegroundFlow:new h(!0),preSendFlow:new h},this.module=e,this._reconnect=new u(this),this._handler=new i(this)}var s=e.prototype;return s.startHeartbeat=function(){var e=this;this.stopHeartbeat(),this._heartbeatTimer=setInterval((function(){if(e._lostHeartbeat++,e._lostHeartbeat>e.options.lostHeartbeat)return e.stopHeartbeat(),void e.server.stop().then((function(){e.flows.reconnectFlow.exec(e)}));e.doSendHeartbeat()}),this.options.heartbeatInterval)},s.stopHeartbeat=function(){clearInterval(this._heartbeatTimer)},s.doSendHeartbeat=function(){this.flows.sendHeartbeatFlow.nodes.length>0&&this.flows.sendHeartbeatFlow.exec(this)},s.doIsHeartBeat=function(){var e=n(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.flows.isHeartBeatFlow.nodes.length>0)){e.next=9;break}return e.next=3,this.flows.isHeartBeatFlow.exec({service:this,message:t,result:!1});case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n.result);case 6:case 9:return e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.doDecodeHeader=function(){var e=n(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.flows.decodeHeaderFlow.nodes.length>0)){e.next=9;break}return e.next=3,this.flows.decodeHeaderFlow.exec({service:this,message:t,result:null});case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n.result);case 6:case 9:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.doEncodeHeader=function(){var e=n(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.flows.encodeHeaderFlow.nodes.length>0)){e.next=9;break}return e.next=3,this.flows.encodeHeaderFlow.exec({service:this,message:t,result:null});case 3:if(!(n=e.sent)){e.next=6;break}return e.abrupt("return",n.result);case 6:case 9:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.start=function(){return this.server.start()},s.stop=function(){return this.handler.stop(),this.reconnect.stop(),this.server.stop()},s.send=function(){var e=n(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.encode()){e.next=19;break}return e.next=3,this.doEncodeHeader(t);case 3:if(n=e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:if(n.isSuccess){e.next=9;break}return e.abrupt("return",!1);case 9:t=n.message,e.next=18;break;case 13:if(!e.sent){e.next=17;break}this.options.printHeartbeatLog&&Log.d(this.options.tag+" send heartbeat message"),e.next=18;break;case 17:Log.d(this.options.tag+" send cmd : "+t.cmd+" ");case 18:return e.abrupt("return",this.server.send(t.buffer));case 19:return e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.sendAsync=function(){var e=n(r().mark((function e(t,s,i,c){var u=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===c&&(c=o.DEFAULT_RPC_TIEMEOUT),e.abrupt("return",new Promise(n(r().mark((function e(n,o){var l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=new a.RPCData(i,t,s,n,c),u.handler.addRPC(l),e.next=4,u.flows.preSendFlow.exec({service:u,message:t});case 4:return e.next=6,u.send(t);case 6:e.sent||(u.handler.removeRPC(l),n(null));case 8:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,s){return e.apply(this,arguments)}}(),s.onS=function(e,t,n,r,s){this.handler.onS(e,t,n,r,s)},s.offS=function(e,t){this.handler.offS(e,t)},s.pause=function(){this.handler.isPause=!0},s.resume=function(){this.handler.isPause=!1},s.update=function(e){this.handler.update(e)},s.destory=function(){this.isDestory=!0,this.stop(),this.handler.destroy()},t(e,[{key:"options",get:function(){return this._options},set:function(e){var t=this;this._options=e,this.options.tag=this.module,this.options.enableHeartbeat=null==this.options.enableHeartbeat||this.options.enableHeartbeat,this.options.heartbeatInterval=this.options.heartbeatInterval||2e3,this.options.lostHeartbeat=this.options.lostHeartbeat||5,this.options.maxEnterBackgroundTime=this.options.maxEnterBackgroundTime||6e4,this.options.enableReconnect=null==this.options.enableReconnect||this.options.enableReconnect,this.options.reconnectTimes=this.options.reconnectTimes||3,this.options.printHeartbeatLog=null!=this.options.printHeartbeatLog&&this.options.printHeartbeatLog,this.options.maxHandleTimeout=this.options.maxHandleTimeout||5e3,this.options.isScheduleHeartbeat=null!=this.options.isScheduleHeartbeat&&this.options.isScheduleHeartbeat;var s=this.options;s.onOpen=n(r().mark((function e(n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.flows.openFlow.exec(t),t.options.enableHeartbeat&&(t._lostHeartbeat=0,t.doSendHeartbeat(),t.startHeartbeat());case 2:case"end":return e.stop()}}),e)}))),s.onClose=function(e){t.flows.closeFlow.exec(t),e.code!=c&&t.flows.reconnectFlow.exec(t),t.options.enableHeartbeat&&t.stopHeartbeat()},s.onMessage=n(r().mark((function e(n){var s,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,t.options.enableHeartbeat&&t.options.isScheduleHeartbeat&&(t._lostHeartbeat=0,t.startHeartbeat(),s=!0),e.next=4,t.doDecodeHeader(n);case 4:if(o=e.sent){e.next=8;break}return e.abrupt("return");case 8:return e.next=10,t.doIsHeartBeat(o);case 10:if(!e.sent){e.next=14;break}return!s&&t.options.enableHeartbeat&&(t._lostHeartbeat=0,t.startHeartbeat()),e.abrupt("return");case 14:t.handler.onMessage(o,t.options.tag);case 16:case"end":return e.stop()}}),e)}))),s.onError=function(e){t.options.enableHeartbeat&&t.stopHeartbeat()},this.server||(this.server=new l),this.server.options=s}},{key:"isConnected",get:function(){return this.server.isConnected}},{key:"reconnect",get:function(){return this._reconnect}},{key:"handler",get:function(){return this._handler}}]),e}()).module=o.UNKNOWN,s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});