System.register("chunks:///_virtual/hall",["./HallProtoConfig.ts","./HallEntry.ts","./HallLanguage.ts","./HallLanguageEN.ts","./HallLanguageZH.ts","./HallHandler.ts","./LobbyCmd.ts","./TestBinaryMessage.ts","./TestJsonMessage.ts","./HallView.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/HallEntry.ts",["cc","./HallView.ts","./HallLanguage.ts","./Entry.ts","./HallHandler.ts","./Macros.ts","./Decorators.ts","./LobbyService.ts","./Resource.ts"],(function(){var e,t,r,a,n,s,o,u,c,l;return{setters:[function(r){e=r.cclegacy,t=r.SpriteFrame},function(e){r=e.default},function(e){a=e.HallLanguage},function(e){n=e.Entry},function(e){s=e.default},function(e){o=e.Macro},function(e){u=e.registerEntry},function(e){c=e.LobbyService},function(e){l=e.Resource}],execute:function(){var i;e._RF.push({},"bccackrysZAQ64fU4Yt4WNb","HallEntry",void 0);u("HallEntry",o.BUNDLE_HALL,r)(i=class extends n{constructor(...e){super(...e),this.language=new a}addNetHandler(){App.handlerManager.get(s)}removeNetHandler(){}loadResources(e){this.loader.getLoadResources=()=>[{dir:"texture",bundle:this.bundle,type:t}],this.loader.onLoadComplete=t=>{t!=l.LoaderError.LOADING&&App.protoManager.load(this.bundle).then((t=>{e()}))},this.loader.loadResources()}initData(){App.serviceManager.get(c,!0)}pauseMessageQueue(){}resumeMessageQueue(){}});e._RF.pop()}}}));

System.register("chunks:///_virtual/HallHandler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LobbyService.ts","./CmdDefines.ts","./TestBinaryMessage.ts","./CommonEvent.ts","./LobbyCmd.ts","./TestJsonMessage.ts","./GetCmdKey.ts","./HallProtoConfig.ts","./Handler.ts","./Decorators.ts","./Net.ts","./CmmProto.ts"],(function(e){var s,t,n,o,a,i,r,c,l,d,p,m,h,M,y;return{setters:[function(e){s=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){n=e.cclegacy},function(e){o=e.LobbyService},function(e){a=e.MainCmd},function(e){i=e.TestBinaryMessage},function(e){r=e.CommonEvent},function(e){c=e.SUB_CMD_LOBBY},function(e){l=e.TestJsonMessage},function(e){d=e.GetCmdKey},function(e){p=e.HallProtoConfig},function(e){m=e.Handler},function(e){h=e.inject},function(e){M=e.Net},function(e){y=e.CmmProto}],execute:function(){var u,v,O,g;n._RF.push({},"80b8f56BOFFgYgfmHk4EzvQ","HallHandler",void 0);e("default",(u=h({type:o,name:"service"}),(g=class extends m{constructor(...e){super(...e),t(this,"service",O,this)}onLoad(){super.onLoad(),this.onS(d(a.CMD_LOBBY,c.TEST_JSON_MSG),l,this.onTestJsonMessage),this.onS(p.CMD_ROOM_INFO.cmd,p.CMD_ROOM_INFO.className,this.onTestProtoMessage),this.onS(d(a.CMD_LOBBY,c.TEST_BINARY_MSG),i,this.onTestBinaryMessage)}async onTestJsonMessage(e,s){dispatch(r.TEST_JSON_MSG,e.hello)}async onTestProtoMessage(e){dispatch(r.TEST_PROTO_MSG,e.name)}async onTestBinaryMessage(e){dispatch(r.TEST_BINARY_MSG,e.vHello)}sendProtoMessage(e){var s;let t=App.protoManager.makeCustomProtoMsg(y,p.CMD_ROOM_INFO.className);t.mainCmd=p.CMD_ROOM_INFO.mainCmd,t.subCmd=p.CMD_ROOM_INFO.subCmd,t.cmd=p.CMD_ROOM_INFO.cmd,t.data.name=`${this.service.module} 高级VIP专场`,t.data.roomID=9999;let n=App.protoManager.getType("tp.UserInfo").create();n.id=6666,n.level=10,n.money=9900009999,n.name="我就是玩！！！";let o=App.protoManager.getEnum("tp.GenderType");n.gender=o.female,t.data.players=[],t.data.players.push(n),null==(s=this.service)||s.send(t)}sendJsonMessage(e){var s;let t=new l;t.hello=e,null==(s=this.service)||s.send(t)}sendBinaryMessage(e){var s;let t=new i;t.vHello=e,null==(s=this.service)||s.send(t)}sendHttpMessage(){App.http.fetch("https://httpbin.org/post",{method:"POST",headers:{"Content-Type":"text/plain"},body:new Uint8Array([1,2,3,4,5])}).then((async e=>e.json())).then((e=>{console.log("Post data",e)})).catch((e=>{console.log(e)})),App.http.fetch("https://httpbin.org/get",{params:{a:100,b:"zheng"}}).then((async e=>e.json())).then((e=>{console.log("Get data",e)})).catch((e=>{console.log(e)}))}sendEx(){this.service&&(this.service.serviceType==M.ServiceType.BinaryStream?this.sendBinaryMessage(`${this.service.module} 您好，我是Binary消息`):this.service.serviceType==M.ServiceType.Json?this.sendJsonMessage(`${this.service.module} 您好，我是Json消息`):this.service.serviceType==M.ServiceType.Proto&&this.sendProtoMessage(`${this.service.module} 您好，我是Proto消息`))}async sendRPCEx(){if(this.service)if(this.service.serviceType==M.ServiceType.BinaryStream){let e=new i;e.vHello=`${this.service.module} 这是一个RPC消息 Binary`;const s=await this.sendAsync(e,i,e.cmd);dispatch(r.TEST_BINARY_MSG,null==s?void 0:s.vHello)}else if(this.service.serviceType==M.ServiceType.Json){let e=new l;e.hello=`${this.service.module} 这是一个RPC消息 Json`;const s=await this.sendAsync(e,l,e.cmd);dispatch(r.TEST_JSON_MSG,null==s?void 0:s.hello)}else if(this.service.serviceType==M.ServiceType.Proto){let e=App.protoManager.makeCustomProtoMsg(y,p.CMD_ROOM_INFO.className);e.mainCmd=p.CMD_ROOM_INFO.mainCmd,e.subCmd=p.CMD_ROOM_INFO.subCmd,e.cmd=p.CMD_ROOM_INFO.cmd,e.data.name=`${this.service.module} 高级VIP专场`,e.data.roomID=9999;let s=App.protoManager.getType("tp.UserInfo").create();s.id=6666,s.level=10,s.money=9900009999,s.name="我就是玩！！！";let t=App.protoManager.getEnum("tp.GenderType");s.gender=t.female,e.data.players=[],e.data.players.push(s);const n=await this.sendAsync(e,p.CMD_ROOM_INFO.className,p.CMD_ROOM_INFO.cmd);dispatch(r.TEST_PROTO_MSG,n.name)}}}).module="Lobby",O=s((v=g).prototype,"service",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v));n._RF.pop()}}}));

System.register("chunks:///_virtual/HallLanguage.ts",["cc","./LanguageDelegate.ts","./Macros.ts","./HallLanguageEN.ts","./HallLanguageZH.ts"],(function(a){var e,t,n,u,g,c;return{setters:[function(a){e=a.cclegacy},function(a){t=a.injectLanguageData,n=a.LanguageDelegate},function(a){u=a.Macro},function(a){g=a.HallEN},function(a){c=a.HallZH}],execute:function(){var l;e._RF.push({},"b3e69+4qXVMIo5iOfZfKgxq","HallLanguage",void 0);a("HallLanguage",t(l=class extends n{constructor(...a){super(...a),this.bundle=u.BUNDLE_HALL}init(){this.add(g),this.add(c)}})||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/HallLanguageEN.ts",["cc"],(function(e){var a,t;return{setters:[function(e){a=e.cclegacy,t=e.sys}],execute:function(){a._RF.push({},"1751fk/PENIVpM9Q29r1axv","HallLanguageEN",void 0);const n={language:t.Language.ENGLISH,data:{hall_view_broadcast_content:"[broadcast] congratulations!",hall_view_nogame_notice:"【{0}】developing!!!",test:" test : {0}--\x3e{1}--\x3e{2}--\x3e{3}--\x3e",pic_girl:"texture/user"}};e("HallEN",n);a._RF.pop()}}}));

System.register("chunks:///_virtual/HallLanguageZH.ts",["cc"],(function(e){var a,t;return{setters:[function(e){a=e.cclegacy,t=e.sys}],execute:function(){a._RF.push({},"d26c47aLsxH44oXOOf7uKj/","HallLanguageZH",void 0);const n={language:t.Language.CHINESE,data:{hall_view_broadcast_content:"[系统广播] 恭喜大佬进入",hall_view_nogame_notice:"【{0}】未实现，更多功能，敬请期待!!!",test:"测试 : {0}--\x3e{1}--\x3e{2}--\x3e{3}--\x3e",pic_girl:"texture/girl"}};e("HallZH",n);a._RF.pop()}}}));

System.register("chunks:///_virtual/HallProtoConfig.ts",["cc","./CmdDefines.ts","./GetCmdKey.ts","./LobbyCmd.ts"],(function(t){var n,o,e,c;return{setters:[function(t){n=t.cclegacy},function(t){o=t.MainCmd},function(t){e=t.GetCmdKey},function(t){c=t.SUB_CMD_LOBBY}],execute:function(){n._RF.push({},"04939ry/45F/qAq9icgT2I8","HallProtoConfig",void 0);t("HallProtoConfig",{CMD_ROOM_INFO:{cmd:e(o.CMD_LOBBY,c.TEST_PROTO_MSG),className:"tp.RoomInfo",mainCmd:o.CMD_LOBBY,subCmd:c.TEST_PROTO_MSG}});n._RF.pop()}}}));

System.register("chunks:///_virtual/HallView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Update.ts","./Macros.ts","./GameView.ts","./UILabel.ts","./Decorators.ts","./SettingView.ts","./Config.ts","./BundleMgrView.ts","./QuickEvent.ts"],(function(e){var t,a,n,i,o,s,l,r,u,g,d,c,p,h,m,f,v,E,D,w,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.initializerDefineProperty},function(e){n=e.cclegacy,i=e.Node,o=e.PageView,s=e._decorator,l=e.instantiate,r=e.find,u=e.Button,g=e.sys,d=e.ProgressBar,c=e.Label},function(e){p=e.Update},function(e){h=e.Macro},function(e){m=e.default},function(e){f=e.default},function(e){v=e.inject},function(e){E=e.default},function(e){D=e.ViewZOrder},function(e){w=e.default},function(e){b=e.QuickEvent}],execute:function(){var N,_,C,y,I,S,U,P,L;n._RF.push({},"e1b90/rohdEk4SdmmEZANaD","HallView",void 0);const{ccclass:A,property:B}=s;e("default",(N=A("HallView"),_=v("games",i),C=v("gameItem",i),y=v("pageview",o),N((U=t((S=class extends m{constructor(...e){super(...e),a(this,"gamePage",U,this),a(this,"gameItem",P,this),a(this,"pageView",L,this),this.PAGE_COUNT=6}static getPrefabUrl(){return"prefabs/HallView"}get data(){return App.stageData}addEvents(){this.onD(h.ON_UPDATE_DOWNLOADING,this.onDownloadProgress),this.onD(h.ON_UPDATE_FAILED,this.onUpdateFailed),this.onD(h.ON_DELETE_BUNDLE_CACHE,this.onDeleteBundleCache),super.addEvents()}onClick(e){let t=e.target;this.data.getEntry(t.userData)&&this.enterBundle(e.target.userData)}createPage(){let e=this.data.games,t=e.length,a=Math.ceil(t/this.PAGE_COUNT);for(let e=0;e<a;e++){let e=l(this.gamePage);e.active=!0,this.pageView.addPage(e)}for(let a=0;a<t;a++){let t=l(this.gameItem),n=e[a];t.name=`game_${n.bundle}`,t.active=!0,t.userData=n.bundle;let o=r("Background/label",t);if(o){let e=o.getComponent(f);e&&(e.language=n.language)}this.onN(t,i.EventType.TOUCH_END,this.onClick),this.updateGameItemStatus(t);let s=Math.floor(a/this.PAGE_COUNT);this.pageView.getPages()[s].addChild(t)}}onLoad(){super.onLoad(),this.createPage();let e=r("bottom_op",this.node),t=r("setting",e);this.onN(t,i.EventType.TOUCH_END,(()=>{App.uiManager.open({type:E,bundle:h.BUNDLE_RESOURCES,zIndex:D.UI,name:"设置界面"})}));let a=r("mail",e);this.onH(a.getComponent(u),b.Type.Click,this.onMail,this,{data:"sfssfsfs",playSound:!0});let n=r("shop",e);this.onN(n,i.EventType.TOUCH_END,this.onBundleMgr,{playSound:!0})}onMail(e,t){console.log("ev",e),console.log("data",t);let a=App.language.getLanguage();a==g.Language.CHINESE?a=g.Language.ENGLISH:a==g.Language.ENGLISH&&(a=g.Language.CHINESE),App.language.change(a),console.log(Date.format("yyyy-MM-dd hh:mm:ss SSS"))}onBundleMgr(){App.uiManager.open({type:w,bundle:h.BUNDLE_RESOURCES,zIndex:D.UI,name:"Bundle管理"})}getGameItem(e){let t=this.pageView.getPages();for(let a=0;a<t.length;a++){let n=t[a],i=r(`game_${e}`,n);if(i)return i}return null}updateGameItemStatus(e){let t=e.userData,a=App.updateManager.getStatus(t),n=r("Background/update",e);if(!n)return;if(a==p.Status.UP_TO_DATE)return void(n.active=!1);n.active=!0;let i=r("downloading",n),o=r("down",n),s=r("update",n);i&&o&&s&&(a==p.Status.NEED_DOWNLOAD?(i.active=!1,o.active=!0,s.active=!1):(i.active=!1,o.active=!1,s.active=!0))}onDownloadProgress(e,t,a){let n=this.getGameItem(a.bundle);if(n){let e=r("Background/update",n);if(!e)return;let t=r("downloading",e),s=r("down",e),l=r("update",e);if(t&&s&&l){var i,o;e.active=!0;let n=null==(i=r("downloading",e))?void 0:i.getComponent(d),u=null==(o=r("downloading/progress",e))?void 0:o.getComponent(c);s.active=!1,l.active=!1,n&&u&&(-1==a.progress?e.active=!1:a.progress<1?(e.active=!0,t.active=!0,n.progress=a.progress,u.string=`${(100*a.progress).toFixed(2)}%`):e.active=!1)}}}onUpdateFailed(e,t){let a=this.getGameItem(t.bundle);if(!a)return;let n=r("Background/update",a);if(!n)return;n.active=!0;let i=r("downloading",n),o=r("down",n),s=r("update",n);i&&o&&s&&(i.active=!1,o.active=!1,s.active=!0)}onDeleteBundleCache(e,t){this.updateGameItemStatus(this.getGameItem(t))}show(e){var t;super.show(e);let a=null==(t=r("version",this.node))?void 0:t.getComponent(c);a&&(a.string=App.updateManager.getVersion(this.bundle)),this.audioHelper.playMusic("audio/background")}}).prototype,"gamePage",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(S.prototype,"gameItem",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(S.prototype,"pageView",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=S))||I));n._RF.pop()}}}));

System.register("chunks:///_virtual/LobbyCmd.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"04e03YdPLBADrD0Q+gFggMH","LobbyCmd",void 0);e("SUB_CMD_LOBBY",{TEST_JSON_MSG:2,TEST_PROTO_MSG:3,TEST_BINARY_MSG:4});t._RF.pop()}}}));

System.register("chunks:///_virtual/TestBinaryMessage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BinaryStreamMessage.ts","./CmdDefines.ts","./LobbyCmd.ts"],(function(t){var e,i,r,n,o,a,l,u,s,b,c,v,h,p,f,y,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.initializerDefineProperty},function(t){r=t.cclegacy},function(t){n=t.BinaryStream,o=t.serialize,a=t.FLOAT,l=t.DOUBLE,u=t.BOOL,s=t.STRING,b=t.BYTE,c=t.SHORT,v=t.INT,h=t.UBYTE,p=t.USHORT,f=t.UINT},function(t){y=t.MainCmd},function(t){g=t.SUB_CMD_LOBBY}],execute:function(){var m,B,S,z,w,U,d,T,D,L,I,C,F,M,O,_,R,x,A,H,Y,E,N,G,P,j,k,J,W,q,K,Q,V,X;r._RF.push({},"33243sptcRJ1Lx7WxL1no+T","TestBinaryMessage",void 0);class Z extends n{get cmd(){return""}}let $=(m=o("vFloat",a),B=o("vDouble",l),z=e((S=class extends Z{constructor(...t){super(...t),i(this,"vFloat",z,this),i(this,"vDouble",w,this)}}).prototype,"vFloat",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 32.666666}}),w=e(S.prototype,"vDouble",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 88888.33333}}),S);t("TestBinaryMessage",(U=o("vbool",u),d=o("vString",s),T=o("vFloat",a),D=o("vDouble",l),L=o("vByte",b),I=o("vShort",c),C=o("vInt",v),F=o("vUByte",h),M=o("vUShort",p),O=o("vUInt",f),_=o("vUser",$),R=o("vHello",s),x=o("vLimitString",s,12),A=o("vArray",Array,s,void 0,2),Y=e((H=class extends Z{constructor(...t){super(...t),this.mainCmd=y.CMD_LOBBY,this.subCmd=g.TEST_BINARY_MSG,i(this,"vbool",Y,this),i(this,"vString",E,this),i(this,"vFloat",N,this),i(this,"vDouble",G,this),i(this,"vByte",P,this),i(this,"vShort",j,this),i(this,"vInt",k,this),i(this,"vUByte",J,this),i(this,"vUShort",W,this),i(this,"vUInt",q,this),i(this,"vUser",K,this),i(this,"vHello",Q,this),i(this,"vLimitString",V,this),i(this,"vArray",X,this)}get cmd(){return String(this.mainCmd)+String(this.subCmd)}}).prototype,"vbool",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),E=e(H.prototype,"vString",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"这只是一个测试，你没看错"}}),N=e(H.prototype,"vFloat",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 32.3333344}}),G=e(H.prototype,"vDouble",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 64.9999999}}),P=e(H.prototype,"vByte",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 18}}),j=e(H.prototype,"vShort",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 116}}),k=e(H.prototype,"vInt",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 132}}),J=e(H.prototype,"vUByte",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),W=e(H.prototype,"vUShort",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 16}}),q=e(H.prototype,"vUInt",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 32}}),K=e(H.prototype,"vUser",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new $}}),Q=e(H.prototype,"vHello",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"您好，我是Binary消息！"}}),V=e(H.prototype,"vLimitString",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"这是一个定长字节数字符串的测试"}}),X=e(H.prototype,"vArray",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[["这是一个数组字符串11","这是一个数组字符串12"],["这是一个数组字符串21","这是一个数组字符串22"]]}}),H));r._RF.pop()}}}));

System.register("chunks:///_virtual/TestJsonMessage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./JsonMessage.ts","./CmdDefines.ts","./LobbyCmd.ts"],(function(t){var e,s,i,r,n,a,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,s=t.initializerDefineProperty},function(t){i=t.cclegacy},function(t){r=t.JsonMessage,n=t.serialize},function(t){a=t.MainCmd},function(t){o=t.SUB_CMD_LOBBY}],execute:function(){var u,l,c,p,b,h,f,g,m,M,d,y,S,z,B,D;i._RF.push({},"2f767J2DLBLMbzSjt4azbMk","TestJsonMessage",void 0);let w=t("TestData",(u=n("test",String),c=e((l=class extends r{constructor(...t){super(...t),s(this,"test",c,this)}get cmd(){return""}}).prototype,"test",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"这是一个中文的字符串测试"}}),l));t("TestJsonMessage",(p=n("count",Number),b=n("vBool",Boolean),h=n("arr",Array,String),f=n("mapdata",Map,Number,String),g=n("test",w),m=n("hello",String),d=e((M=class extends r{get cmd(){return String(this.mainCmd)+String(this.subCmd)}constructor(){super(),this.mainCmd=a.CMD_LOBBY,this.subCmd=o.TEST_JSON_MSG,s(this,"count",d,this),s(this,"vBool",y,this),s(this,"testArr",S,this),s(this,"testMap",z,this),s(this,"testData",B,this),s(this,"hello",D,this),this.testMap.set(1,"ss"),this.testMap.set(2,"s22s"),this.testMap.set(3,"s33s"),this.testMap.set(4,"s44s"),this.testMap.set(5,"s55s"),this.testMap.set(6,"s66s")}}).prototype,"count",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),y=e(M.prototype,"vBool",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),S=e(M.prototype,"testArr",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return["1","2","3","4"]}}),z=e(M.prototype,"testMap",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),B=e(M.prototype,"testData",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new w}}),D=e(M.prototype,"hello",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"您好，我是Json消息！"}}),M));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/hall', 'chunks:///_virtual/hall'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});